<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title> perl5i Makes More Simple Things Simple </title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Suppose that you want to load a module dynamically (you have the name in a scalar), then alias a function from that module to a new name in another class. In other words, you want a renaming import. How do..."/>
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="TZowffo_LX2mmsw2DbeNNbukCMnIOA8T-6CMJPiYllI" />

<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@PerlFoundation">
<meta property="og:url" content="http://localhost:1313/pub/2010/03/perl5i-makes-more-simple-things-simple.html/" />
<meta property="og:title" content="perl5i Makes More Simple Things Simple" />
<meta property="og:description" content="Suppose that you want to load a module dynamically (you have the name in a scalar), then alias a function from that module to a new name in another class. In other words, you want a renaming import. How do...">
<meta property="og:site_name" content="Perl.com" />

<meta property="og:type" content="article" />
<meta property="og:article:published_time" content="2010-03-03T03:03:03Z" />
<meta property="og:image" content="http://localhost:1313/images/author/michael-schwern.jpg" />
<meta property="og:article:tag" content="perl" />
<meta property="og:article:tag" content="perl-5" />
<meta property="og:article:tag" content="perl-programming" />
<meta property="og:article:tag" content="perl5i" />


  <link rel="icon" href="/favicon.ico">
  <link href="/article/index.xml" rel="alternate" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/article/index.xml" rel="feed" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/perldotcom.css"/>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-50555-22', 'auto');
ga('create', 'UA-85734801-2', 'auto', 'editor');
ga('send', 'pageview');
ga('editor.send', 'pageview');
</script>

</head>
<body>

<div class="container-fluid full-wdith antonio">
 <div class="row">
  <div class="navbar-inverse" style="border-radius:none !important" role="navigation">
    <div class="container-fluid">
      <ul class="nav navbar-nav pull-right follow">
          <li>MORE:</li>
          <li><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a><li>
          <li><a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a><li>
          <li><a href="/article/index.xml" />
              <img src="/images/site/rss_20.png" alt="rss"></a></li>
          <li><a href="https://github.com/tpf/perldotcom" />
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></li>
      </ul>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          <a class="navbar-nav" href="/">
            <div class="header-logo">Perl.com</div>
          </a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/about">
              <div class="circle">
                <img src="/images/site/perl-camel.png" alt="" />
              </div>
                  &nbsp;&nbsp;ABOUT</a>
          </li>
          <li><a href="/authors">
              <div class="circle">
                  <span class="glyphicon glyphicon-user txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;AUTHORS</a>
          </li>
          <li><a href="/categories">
              <div class="circle">
                  <span class="glyphicon glyphicon-folder-open txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;CATEGORIES</a>
          </li>
          <li><a href="/tags">
              <div class="circle">
                <span class="txt-blue-major" aria-hidden="true"><strong>#</strong></span>
              </div>
                  &nbsp;&nbsp;TAGS</a>
          </li>
          <li>
            <form class="search" name="ddg" action="https://duckduckgo.com/" method="get">
              <input type="text" name ="q" placeholder="SEARCH" />
              <input type="hidden" value="perl.com" name="sites" />
            </form>
          </li>
        </ul>
      </div>
    </div>
  </div>
 </div>
</div>


  <section id="content" role="main">
    <section class="entry-content">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <div class="row">
              <article class="fulltext">
              <h1 class="blog-post-title">perl5i Makes More Simple Things Simple</h1>
              <p class="blog-post-meta">Mar 23, 2010 by
              
              
                
                
                <a href="#author-bio-michael-schwern">Michael Schwern</a>
              
              </p>
              <img alt="" src=""/>
                <p>Suppose that you want to load a module dynamically (you have the name in a scalar), then alias a function from that module to a new name in another class. In other words, you want a renaming import. How do you do that in Perl 5?</p>

<pre><code>{
    no strict 'refs';
    eval qq{require $class} or die $@;
    *{$other_class.&quot;::&quot;.$alias} = $class-&gt;can($func);
}
</code></pre>

<p>There&rsquo;s a lot of magic going on there. Aliasing requires using symbolic refs which means turning off <code>strict</code>. Because you want <code>strict</code> off in as small a hunk of code as possible you have to enclose it in braces. Then, <code>require Class</code> and <code>require $class</code> work differently, so you have to trick <code>require</code> into seeing a bareword by <code>eval</code>ing it. Don&rsquo;t forget to catch and rethrow the error! Finally, to do the aliasing you need to get a code ref with <code>can()</code> and assign it to the symbol table via the magic of typeglobs.</p>

<p>Guh. There&rsquo;s an idea in interface design called <a href="http://www.usabilityfirst.com/glossary/gulf-of-execution/">The Gulf of Execution</a> which measures the distance between the user&rsquo;s goal and the actions she must take to achieve that goal. The goals here are to:</p>

<ol>
<li>Load a class from a variable.</li>
<li>Alias a function in that class.</li>
</ol>

<p>The actions are:</p>

<ol>
<li>Enclose the code in a block.</li>
<li>Turn off <code>strict</code>.</li>
<li><code>require $class</code> in an <code>eval</code> block to turn it into a bareword.</li>
<li>Catch and rethrow any error which might result.</li>
<li>Use <code>can()</code> to get a reference to the function.</li>
<li>Construct a fully qualified name for the alias.</li>
<li>Turn that into a typeglob.</li>
<li>Assign the code ref to the typeglob.</li>
<li>Drink.</li>
</ol>

<p>Try explaining that to a non-Perl guru.</p>

<p>Now consider the <a href="https://metacpan.org/pod/perl5i">perl5i</a> (specifically perl5i::2) way:</p>

<pre><code>$class-&gt;require
      -&gt;can($func)
      -&gt;alias($other_class, $alias);
</code></pre>

<p>Release the breath you&rsquo;ve been holding in for the last 15 years of Perl 5.</p>

<p>Through the magic of <a href="https://metacpan.org/pod/autobox">autoboxing</a>, perl5i lets you call methods on unblessed scalars, hashes, arrays, regexes, references&hellip; anything. It also implements some handy methods. Some, like <code>require()</code>, are core functions redone as methods. Others, like <code>alias()</code>, should be core functions never made it in for whatever reason. autoboxing gives perl5i the freedom to add handy features without polluting the global function/method namespace with new keywords.</p>

<p>Recall the goals:</p>

<ol>
<li>Load a class from a variable.</li>
<li>Alias a function in that class.</li>
</ol>

<p>&hellip; and consider perl5i&rsquo;s actions:</p>

<ol>
<li>Call <code>require()</code> to load the class.</li>
<li>Call <code>can()</code> to get a reference to the function.</li>
<li>Call <code>alias()</code> on that reference to alias it to the other class.</li>
</ol>

<p>The gulf has narrowed to a stream you can hop over while hardly getting your feet wet.</p>

<p>The goal of perl5i is to bring modern conveniences back to Perl 5. In the 15 years since the release of Perl 5, we&rsquo;ve learned a lot. Our views of good practices have changed. 15 years ago, aliasing a function was black magic available only to the wildest of gurus. Now it&rsquo;s a technique many module authors take advantage of. Why should it remain complicated and error prone?</p>

<p>Autoboxing is a big part of perl5i, allowing it to add convenience methods without having to add new keywords. Adding new keywords&ndash;which contracts the function names available to programmers&ndash;is a big thing holding Perl 5 back! Every potential new keyword is a debate over compatibility. Autoboxing eliminates that debate. It takes off the brakes.</p>

<p>Some other examples: <a href="https://perldoc.perl.org/perlfaq4.html#How-do-I-determine-whether-a-scalar-is-a-number/whole/integer/float?">How do I check if a scalar contains a number, an integer, or a float?</a> The Perl FAQ entry on the subject is two pages long offering five different possibilities, two of which require pasting code. Code in FAQs tends to rot, and perlfaq is no exception; without testing nobody noticed that those venerable regexes fail to catch &ldquo;+1.23&rdquo;. How does perl5i do it?</p>

<pre><code>say &quot;It's a number&quot;   if $thing-&gt;is_number;
say &quot;It's an integer&quot; if $thing-&gt;is_integer;
say &quot;It's a decimal&quot;  if $thing-&gt;is_decimal;
</code></pre>

<p>It&rsquo;s clear, simple, fast, and tested. TMTOWTDI is great and all, but FAQs are about getting things done, not about writing dissertations on the subject. perl5i picks one way that&rsquo;s pretty good and makes it available with no fuss.</p>

<p>The bar for what is &ldquo;simple&rdquo; has moved since Perl 5 first came out. perl5i takes the goal of &ldquo;simple things should be simple&rdquo; and helps us all catch up.</p>

              </article>
              <p><strong>Tags</strong></p>
              <div class="tags">
                <div class="category"><a href="/categories/development">development</a></div>
                
                  <div class="tag"><a href="/tags/perl">perl</a></div>
                
                  <div class="tag"><a href="/tags/perl-5">perl-5</a></div>
                
                  <div class="tag"><a href="/tags/perl-programming">perl-programming</a></div>
                
                  <div class="tag"><a href="/tags/perl5i">perl5i</a></div>
                
              </div>
            </div>
            
              
                
<div class="row" id="author-bio-michael-schwern">
  <div class="col-sm-2">
    
    <a href="/authors/michael-schwern/"><div class="circle-avatar" style="background-image:url(/images/author/michael-schwern.jpg)"></div></a>
  </div>
  <div class="col-sm-10">
    <a href="/authors/michael-schwern/"><h3>Michael Schwern</h3></a>
    <p></p>
    <h5><a href="/authors/michael-schwern/">Browse their articles</a></h5>
  </div>
</div>

            
            <div class="row">
              <h3>Feedback</h3>
              <p>Something wrong with this article? Help us out by opening an issue or pull request on <a href="https://github.com/tpf/perldotcom/blob/master/content/legacy/_pub_2010_03_perl5i-makes-more-simple-things-simple.md">GitHub</a></p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="latest-sidebar">

  <div class="row">
    <div class="col-sm-12 centering">
      <span style="font-size:1.8em" class="antonio txt-blue-major">OUR LATEST ARTICLES</span>
    </div>
  </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/the-perl-admbassador-curtis-poe/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/the-perl-ambassador-curtis-poe/curtis-poe.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>The Perl Ambassador: Curtis &#39;Ovid&#39; Poe</h6>
          <p style="line-height:1"><small>The person behind the news of Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/a-tour-with-net-ftp/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/a-tour-with-net-ftp/thumb_kidyes.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>A tour with Net::FTP</h6>
          <p style="line-height:1"><small>How to write an FTP client in Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/shortcode_test/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/author/brian-d-foy.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>shortcode_test</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/thumb_larry-wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Listen to Larry Wall&#39;s State of the Onion 2000 on YouTube</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/announcing-perl-7/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/announcing-perl-7/thumb_seven_on_blue_wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Announcing Perl 7</h6>
          <p style="line-height:1"><small>Perl 5 with modern defaults</small></p>
      </div>
        </a>
    </div>
  
</div>
<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
  <script async src="/widget/toplinks/toplinks.js" type="text/javascript"></script>
    <div id="toplinks"></div>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <a class="twitter-timeline" data-height="640" data-dnt="true" data-theme="dark" href="https://twitter.com/perlfoundation?ref_src=twsrc%5Etfw">Tweets by perlfoundation</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <script src="https://www.reddit.com/r/perl/hot/.embed?limit=10&t=all" type="text/javascript"></script>
  </div>
</div>



          </div>
        </div>
      </div>
    </section>
  </section>
<script>
 
var tables, i;
tables = document.getElementsByTagName('table');
for (i=0;i<tables.length;i++) {
  tables[i].className = 'table table-striped';
}
</script>
<div class="push"></div>
<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
        <h5>Site Map</h5>
        <ul>
        <li><a href="/">Home</a></li>
        <hr>
        <li><a href="/about">About</a></li>
        <hr>
        <li><a href="/authors">Authors</a></li>
        <hr>
        <li><a href="/categories">Categories</a></li>
        <hr>
        <li><a href="/tags">Tags</a></li>
        <hr>
        </ul>
      </div>
      <div class="col-md-3">
        <h5>Contact Us</h5>
        <p>To get in touch, send an email to: perl.com-editor@perl.org</p>
        <p><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a>
          <a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a>
          <a href="/index.xml" /><img src="/images/site/rss_20.png" alt="rss"></a>
          <a href="https://github.com/tpf/perldotcom">
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></p>
      </div>
      <div class="col-md-2">
          <h5>License</h5>
          <p>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.</p>
          <p><a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a></p>
      </div>
      <div class="col-md-5">
          <h5>Legal</h5>
          <p>Perl.com and the authors make no representations with respect to the accuracy or completeness of the contents of all work on this website and specifically disclaim all warranties, including without limitation warranties of fitness for a particular purpose. The information published on this website may not be suitable for every situation. All work on this website is provided with the understanding that Perl.com and the authors are not engaged in rendering professional services. Neither Perl.com nor the authors shall be liable for damages arising herefrom.</p>
      </div>
    </div>
  </div>
</div>
<script src="/javascript/jquery.min.js"></script>
<script src="/javascript/bootstrap.min.js"></script>
<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>
</html>

