<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title> Better Code Through Destruction </title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content=" Larry Wall said that Perl makes easy things easy and hard things possible. Perl is good both for writing a two-line script that saves the world at the last minute (well, at least it saves you and your project)..."/>
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="TZowffo_LX2mmsw2DbeNNbukCMnIOA8T-6CMJPiYllI" />

<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@PerlFoundation">
<meta property="og:url" content="http://localhost:1313/pub/2007/06/07/better-code-through-destruction.html/" />
<meta property="og:title" content="Better Code Through Destruction" />
<meta property="og:description" content=" Larry Wall said that Perl makes easy things easy and hard things possible. Perl is good both for writing a two-line script that saves the world at the last minute (well, at least it saves you and your project)...">
<meta property="og:site_name" content="Perl.com" />

<meta property="og:type" content="article" />
<meta property="og:article:published_time" content="2007-06-06T06:06:06Z" />
<meta property="og:image" content="http://localhost:1313/images/site/avatar.png" />
<meta property="og:article:tag" content="object-destructor" />
<meta property="og:article:tag" content="perl-memory-leaks" />
<meta property="og:article:tag" content="perl-memory-management" />
<meta property="og:article:tag" content="raii" />
<meta property="og:article:tag" content="reference-counting" />


  <link rel="icon" href="/favicon.ico">
  <link href="/article/index.xml" rel="alternate" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/article/index.xml" rel="feed" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/perldotcom.css"/>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-50555-22', 'auto');
ga('create', 'UA-85734801-2', 'auto', 'editor');
ga('send', 'pageview');
ga('editor.send', 'pageview');
</script>

</head>
<body>

<div class="container-fluid full-wdith antonio">
 <div class="row">
  <div class="navbar-inverse" style="border-radius:none !important" role="navigation">
    <div class="container-fluid">
      <ul class="nav navbar-nav pull-right follow">
          <li>MORE:</li>
          <li><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a><li>
          <li><a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a><li>
          <li><a href="/article/index.xml" />
              <img src="/images/site/rss_20.png" alt="rss"></a></li>
          <li><a href="https://github.com/tpf/perldotcom" />
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></li>
      </ul>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          <a class="navbar-nav" href="/">
            <div class="header-logo">Perl.com</div>
          </a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/about">
              <div class="circle">
                <img src="/images/site/perl-camel.png" alt="" />
              </div>
                  &nbsp;&nbsp;ABOUT</a>
          </li>
          <li><a href="/authors">
              <div class="circle">
                  <span class="glyphicon glyphicon-user txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;AUTHORS</a>
          </li>
          <li><a href="/categories">
              <div class="circle">
                  <span class="glyphicon glyphicon-folder-open txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;CATEGORIES</a>
          </li>
          <li><a href="/tags">
              <div class="circle">
                <span class="txt-blue-major" aria-hidden="true"><strong>#</strong></span>
              </div>
                  &nbsp;&nbsp;TAGS</a>
          </li>
          <li>
            <form class="search" name="ddg" action="https://duckduckgo.com/" method="get">
              <input type="text" name ="q" placeholder="SEARCH" />
              <input type="hidden" value="perl.com" name="sites" />
            </form>
          </li>
        </ul>
      </div>
    </div>
  </div>
 </div>
</div>


  <section id="content" role="main">
    <section class="entry-content">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <div class="row">
              <article class="fulltext">
              <h1 class="blog-post-title">Better Code Through Destruction</h1>
              <p class="blog-post-meta">Jun 7, 2007 by
              
              
                
                
                <a href="#author-bio-igor-gariev">Igor Gariev</a>
              
              </p>
              <img alt="" src=""/>
                

<p>Larry Wall said that Perl makes easy things easy and hard things possible. Perl is good both for writing a two-line script that saves the world at the last minute (well, at least it saves you and your project) and for robust projects. However, good Perl programming techniques can be quite different between small and complex applications. Consider, for example, Perl&rsquo;s garbage collector. It frees a programmer from memory management issues most of the time&hellip;until the programmer creates circular references.</p>

<p>Perl&rsquo;s garbage collector counts references. When the count reaches zero (which means that no one has a reference), Perl reclaims the entity. The approach is simple and effective. However, circular references (when object A has a reference to object B, and object B has a reference to object A) present a problem. Even if nothing else in the program has a reference to either A or B, the reference count can never reach zero. Objects A and B do not get destroyed. If the code creates them again and again (perhaps in a loop), you get a memory leak. The amount of memory allocated by the program increases without a sensible reason and can never decrease. This effect may be acceptable for simple run-and-exit scripts, but it&rsquo;s not acceptable for programs running 24x365, such as in a mod_perl or FastCGI environment or as standalone servers.</p>

<p>Circular references are sometimes too useful to avoid. A common example is a tree-like data structure. To navigate both directions&ndash;from root to leaves and vice versa&ndash;a parent node has a list of children and a child node has a reference to its parent. Here are the circular references. Many CPAN modules implement their data models this way, including <a href="https://metacpan.org/pod/HTML::Tree">HTML::Tree</a>, <a href="https://metacpan.org/pod/XML::DOM">XML::DOM</a>, and <a href="https://metacpan.org/pod/Text::PDF::File">Text::PDF::File</a>. All these modules provide a method to release the memory. The client application must call the method when it no longer needs an object. However, the requirement of an explicit call is not very appealing and can result in unsafe code:</p>

<pre><code>    ##
    ## Code with a memory leak
    #
    use HTML::TreeBuilder;

    foreach my $filename (@ARGV) {
        my $tree = HTML::TreeBuilder-&gt;new;
        $tree-&gt;parse_file($filename);

        next unless $tree-&gt;look_down('_tag', 'img');
        ##
        ## Do the actual work (say, extract images) here
        ## ...
        ## and release the memory
        ##
        $tree-&gt;delete;
    }
</code></pre>

<p>The problem in the code is the <code>next</code> statement; HTML documents with no <code>&lt;img ...</code> tags will not be released. Actually, any call of <code>next</code>, <code>last</code>, <code>return</code> (inside a subroutine), or <code>die</code> (inside an <code>eval {}</code> block) is unsafe and will lead to a memory leak. Of course, it is possible to move the release code into a <code>continue</code> block for <code>last</code> or <code>next</code>, or to write code to delete the tree before every <code>return</code> or <code>die</code>, but the code easily becomes messy.</p>

<p>There is a better solution&ndash;the paradigm of &ldquo;resource acquisition is initialization (and destruction is resource relinquishment).&rdquo; (Ironically, the second half of its name is often omitted, even though it&rsquo;s probably the most important part). The idea is simple. Create a special guard object (of another class) whose sole responsibility is to release the resource. When the guard object gets destroyed, its destructor deletes the tree. The code may look like:</p>

<pre><code>    ##
    ## A special sentry object is employed
    ##
    use HTML::TreeBuilder;

    foreach my $filename (@ARGV) {
        my $tree = HTML::TreeBuilder-&gt;new;
        $tree-&gt;parse_file($filename);

        my $sentry = Sentry-&gt;new($tree);

        next unless $tree-&gt;look_down('_tag', 'img');
        ##
        ## next, last or return are safe here.
        ## Tree will be deleted automatically.
        ##
    }

    package Sentry;

    sub new {
        my $class = shift;
        my $tree  = shift;
        return bless {tree =&gt; $tree}, $class;
    }

    sub DESTROY {
        my $self = shift;
        $self-&gt;{tree}-&gt;delete;
    }
</code></pre>

<p>Note that now there is no need to call <code>$tree-&gt;delete</code> explicitly at the end of the loop. The magic is simple. When program flow leaves the scope, <code>$sentry</code> is reclaimable because it participates in no circular references. The code of <code>DESTROY</code> method of the <code>Sentry</code> package calls, in turn, the method <code>delete</code> of the <code>$tree</code> object. This is one solution for all means; memory will be released however you leave the block.</p>

<p>Finally, there is no need to code your own <code>Sentry</code> class. Use <a href="https://metacpan.org/pod/Object::Destroyer">Object::Destroyer</a>, originally written by Adam Kennedy. As you may guess by its name, it is the object to destroy other objects:</p>

<pre><code>    ##
    ## An of-the-CPAN solution with Object::Destroyer
    ##
    use HTML::TreeBuilder;
    use Object::Destroyer 2.0;

    foreach my $filename (@ARGV) {
        my $tree   = HTML::TreeBuilder-&gt;new;
        my $sentry = Object::Destroyer-&gt;new($tree, 'delete');
        $tree-&gt;parse_file($filename);

        next unless $tree-&gt;look_down('_tag', 'img');
        ##
        ## You can safely return, die, next or last here.
        ##
    }
</code></pre>

<p>Because the name of the release method may vary between modules, it is the constructor&rsquo;s second argument.</p>

<p>Finally, you can destroy any data structure, not just objects, if you provide code to do so. Pass in a subroutine reference or an anonymous subroutine:</p>

<pre><code>    ##
    ## An unblessed data structure with circular references
    ## that cannot untangle itself.
    ##
    use Object::Destroyer 2.0;
    while (1) {
        my (%a, %b);
        $a{b}      = \%b;
        $b{a}      = \%a;
        my $sentry = Object::Destroyer-&gt;new( sub { undef $a{b} } );
    }
</code></pre>

<p>Just for fun, comment out the line with the <code>$sentry</code> object and watch the memory consumption of the running script.</p>

<h3 id="using-object-destroyer-as-a-wrapper">Using Object::Destroyer As a Wrapper</h3>

<p><code>Object::Destroyer</code> can make life easier for module authors, too.</p>

<p>If you have written a library with circular references, you may ask your clients to explicitly call a disposal method or use a new feature of Perl (stable since 5.8; see <a href="https://metacpan.org/pod/Scalar::Util">Scalar::Util</a>)&ndash;weak references. Weak references do not increment reference counts of the objects to which they refer, so the Perl garbage collector can collect the referents. In the tree example, all references from leaves to parents (but not vice versa, or the tree will be lost!) may be weak. When the final reference to the root node goes away, Perl will dispose of it, which will remove its references to all of its children recursively. They will all reach zero, and Perl will reclaim them all down the branches of the tree to every leaf.</p>

<p>Indeed, some CPAN modules use this approach (<a href="https://metacpan.org/pod/XML::Twig">XML::Twig</a>). However, this solution works only if weak refs are available; this is certainly not the case for older Perl. Secondly, this may require quite a bit of rewriting (there are nine calls to <code>weaken</code> throughout the code of <code>XML::Twig</code> 3.26).</p>

<p>Alternatively, you may use <code>Object::Destroyer</code> internally in your library code. It can work as an almost transparent wrapper around your object:</p>

<pre><code>    ##
    ## Object::Destroyer as a wrapper
    ##
    package My::Tree;
    use Object::Destroyer 2.0;

    sub new {
        my $class = shift;
        my $self  = bless {}, $class;
        $self-&gt;populate;

        return Object::Destroyer-&gt;new( $self, 'release' );
    }

    sub release{
        ## actual memory release code
    }

    sub say_hello{
        my $self = shift;
        print &quot;Hello, I'm object of class &quot;, ref($self), &quot;\n&quot;;
    }

    package main;
    {
        my $tree = My::Tree-&gt;new;
        $tree-&gt;say_hello;
        ##
        ## $tree-&gt;release will be called by Object::Destroyer;
        ##
    }
</code></pre>

<p>The object <code>$tree</code> in the client code is actually an <code>Object::Destroyer</code> object that dispatches all invoked methods to the underlying object of class <code>My::Tree</code>. The method <code>say_hello</code> sees no difference at all&ndash;it receives an original <code>$self</code> object. Changes to code are minimal and well localized.</p>

<p>The approach has a limitation, too: clients must not access attributes of the object directly (such as <code>$tree-&gt;{age}</code>). This is a bad practice in client code anyway. Additionally, there is a small time penalty for method calls by client-side code. Calls made from the library code itself are not affected.</p>

<h3 id="exceptions-and-resource-deallocation">Exceptions and Resource Deallocation</h3>

<p><a href="http://en.wikipedia.org/wiki/Resource_Acquisition_Is_Initialization">Resource acquisition is initialization</a> is a powerful technique to apply to the management of various critical resources, not only memory. It is most useful when using exceptions to handle errors. This combination makes code quite reliable: exceptions separate normal execution logic and error handling, and RAII sentries guarantee the correct release of every sensitive resource.</p>

<p>Consider alarms as an example. Assume that you have to call some potentially long-running (or even never-ending) code. You don&rsquo;t want your script to hang up, and prefer to break its execution. Alarms are just right for the task. However, the first attempt at good code might be awkward:</p>

<pre><code>    ##
    ## Alarm example 1. Naive.
    ##
    eval{
        local $SIG{ALRM} = sub { die &quot;Timed out\n&quot; };
        alarm(5);
        long_running_code();
        ## Cancel the alarm if code returned within 5 sec.
        alarm(0);
    };
    if ($@ &amp;&amp; $@ eq &quot;Timed out\n&quot;) {
        ## Process the error here
    }
</code></pre>

<p>This code will work fine until <code>long_running_code()</code> dies. In this case, the <code>eval</code> block will catch the <code>die</code>, but not the alarm. If this occurred in a program that must run 24 hours a day, the program would end in 5 seconds.</p>

<p>This next example is much better; actually it is real-world code. It is enough for many applications. However, it&rsquo;s not completely bulletproof either:</p>

<pre><code>    ##
    ## Alarm example 2. A standard solution.
    ##
    eval{
        local $SIG{ALRM} = sub { die &quot;Timed out\n&quot; };
        alarm(5);
        long_running_code();
        ## Cancel the alarm if long_running_code() returns within 5 sec.
        alarm(0);
    };
    ## Cancel the alarm if the long_running_code() died.
    alarm(0);
</code></pre>

<p>How many times will the alarm be cancelled in the following example?</p>

<pre><code>    ##
    ## Alarm example 3. Malicious code.
    ##
    LOOP:
    foreach my $arg (1..3) {
        eval{
            local $SIG{ALRM} = sub { die &quot;Timed out\n&quot; };
            alarm(5);
            long_running_code($arg);
            alarm(0);
        };
        alarm(0);
    }
    sub long_running_code{ last LOOP; }
</code></pre>

<p>Oops, none.</p>

<p>The RAII solution is more reliable:</p>

<pre><code>    ##
    ## Alarm example 4.
    ## Resource is under control of Object::Destroyer
    ##
    eval{
        local $SIG{ALRM} = sub { die &quot;Timed out\n&quot; };
        alarm(5);
        my $sentry = Object::Destroyer-&gt;new( sub {alarm(0)} );
        long_running_code();
    };
</code></pre>

<p>No matter how the code exits the <code>eval</code> block, Perl will destroy the <code>$sentry</code> object. That destruction will call <code>alarm(0)</code>.</p>

<p>You can manage many sensitive resources this way, including file locks, semaphores, and even locks of database tables.</p>

<pre><code>    ##
    ## File lock.
    ##
    use Fcntl ':flock';

    open my($fh), &quot;&gt;$filename.lock&quot;;
    eval{
        flock($fh, LOCK_EX);
        my $sentry = Object::Destroyer-&gt;new( sub {flock($fh, LOCK_UN)} );
        ##
        ## Actual lock-sensitive code is here.
        ## It is safe to die.
        ##
    };

    ##
    ## Semaphore
    ##
    use Thread::Semaphore;
    use Object::Destroyer;

    my $s = Thread::Semaphore-&gt;new();
    eval{
        $s-&gt;down;
        my $sentry = Object::Destroyer-&gt;new( sub { $s-&gt;up } );
        ##
        ## Critical code is here, die is safe
        ##
    };

    ##
    ## MySQL database table lock.
    ##
    use DBI;

    my $dbh = DBI-&gt;connect(&quot;dbi:mysql:...&quot;, &quot;&quot;, &quot;&quot;);
    eval{
        $dbh-&gt;do(&quot;LOCK TABLE table1 READ&quot;);
        my $sentry = Object::Destroyer-&gt;new(
            sub { $dbh-&gt;do(&quot;UNLOCK TABLES&quot;); }
        );
        ##
        ## Again, actual code must be here
        ##
    };
</code></pre>

<p>The code is clean, simple, and quite self-explanatory.</p>

<h3 id="simple-transactions">Simple Transactions</h3>

<p>Everyone who works with relational databases knows how useful transactions are. One of the features of transactions is atomicity: either all modifications of data are committed at once, or all of them are ignored. Your data is always consistent; it&rsquo;s not possible to leave it in an inconsistent state. The same effect is possible in Perl code:</p>

<pre><code>    use Object::Destroyer 2.0;

    my ($account1, $account2) = (15, 15);

    printf(&quot;Account1=%d, Account2=%d, Total=%d\n&quot;,
        $account1, $account2, $account1+$account2);

    eval {
        my $coderef = create_savepoint(\$account1, \$account2);
        my $sentry  = Object::Destroyer-&gt;new($coderef);

        die &quot;before changes&quot; if rand &gt; 0.7;
        $account1 += 3;
        die &quot;after account 1 was modified&quot; if rand &gt; 0.7;
        $account2 -= 3;
        die &quot;after account 2 was modified&quot; if rand &gt; 0.7;

        ##
        ## The transaction is considered to be committed here
        ## and $sentry can be dismissed.
        ## $coderef-&gt;() will not be called.
        ##
        $sentry-&gt;dismiss;

        die &quot;after transaction is committed&quot; if rand &gt; 0.7;
    };
    print &quot;Died $@&quot; if $@;
    printf(&quot;Account1=%d, Account2=%d, Total=%d\n&quot;,
        $account1, $account2, $account1+$account2);

    sub create_savepoint {
        ## Save references to variables and their current values
        my @vars;
        foreach my $ref (@_) {
            die &quot;Can remember only scalar values&quot; unless ref($ref) eq 'SCALAR';
            push @vars, { ref =&gt; $ref, value =&gt; $$ref };
        }

        ## A closure to restore their values
        return sub {
            foreach my $var (@vars) {
                ${ $var-&gt;{ref} } = $var-&gt;{value};
            }
        };
    }
</code></pre>

<p>Run the script several times. Due to <code>rand</code>, it will break on varying lines, but it is not possible to get a Total value other than 30.</p>

<h3 id="see-also">See Also</h3>

<p>RAII is by no means a new technique. It is very popular in the world of C++ programming. If you are not afraid of C++, you may find interesting the standard container <a href="http://en.wikipedia.org/wiki/Auto_ptr">auto_ptr</a> and <a href="http://www.gotw.ca/publications/using_auto_ptr_effectively.htm">effective auto_ptr usage</a>. The non-standard <a href="http://www.ddj.com/dept/cpp/184403758">ScopeGuard</a> class provides lexically scoped resource management in C++.</p>

<p>The <a href="https://metacpan.org/pod/Devel::Monitor">Devel::Monitor</a> module has guidelines on how to design data structures with weak and circular references. Its primary goal, by the way, is to trace the memory consumption of a running script.</p>

<p>There are several modules for lexically scoped resource management on CPAN, but the <a href="https://metacpan.org/pod/Object::Destroyer">Object::Destroyer</a> is my favorite. You may also look at <a href="https://metacpan.org/pod/Hook::Scope">Hook::Scope</a>, <a href="https://metacpan.org/pod/Scope::Guard">Scope::Guard</a> and <a href="https://metacpan.org/pod/Sub::ScopeFinalizer">Sub::ScopeFinalizer</a>.</p>

<p>Finally, <a href="/pub/2002/11/14/exception.html">Object Oriented Exception Handling in Perl</a> discusses why exceptions are invaluable for big projects.</p>

              </article>
              <p><strong>Tags</strong></p>
              <div class="tags">
                <div class="category"><a href="/categories/cpan">cpan</a></div>
                
                  <div class="tag"><a href="/tags/object-destructor">object-destructor</a></div>
                
                  <div class="tag"><a href="/tags/perl-memory-leaks">perl-memory-leaks</a></div>
                
                  <div class="tag"><a href="/tags/perl-memory-management">perl-memory-management</a></div>
                
                  <div class="tag"><a href="/tags/raii">raii</a></div>
                
                  <div class="tag"><a href="/tags/reference-counting">reference-counting</a></div>
                
              </div>
            </div>
            
              
                
<div class="row" id="author-bio-igor-gariev">
  <div class="col-sm-2">
    
    <a href="/authors/igor-gariev/"><div class="circle-avatar" style="background-image:url(/images/site/avatar.png)"></div></a>
  </div>
  <div class="col-sm-10">
    <a href="/authors/igor-gariev/"><h3>Igor Gariev</h3></a>
    <p></p>
    <h5><a href="/authors/igor-gariev/">Browse their articles</a></h5>
  </div>
</div>

            
            <div class="row">
              <h3>Feedback</h3>
              <p>Something wrong with this article? Help us out by opening an issue or pull request on <a href="https://github.com/tpf/perldotcom/blob/master/content/legacy/_pub_2007_06_07_better-code-through-destruction.md">GitHub</a></p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="latest-sidebar">

  <div class="row">
    <div class="col-sm-12 centering">
      <span style="font-size:1.8em" class="antonio txt-blue-major">OUR LATEST ARTICLES</span>
    </div>
  </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/the-perl-admbassador-curtis-poe/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/the-perl-ambassador-curtis-poe/curtis-poe.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>The Perl Ambassador: Curtis &#39;Ovid&#39; Poe</h6>
          <p style="line-height:1"><small>The person behind the news of Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/a-tour-with-net-ftp/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/a-tour-with-net-ftp/thumb_kidyes.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>A tour with Net::FTP</h6>
          <p style="line-height:1"><small>How to write an FTP client in Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/shortcode_test/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/author/brian-d-foy.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>shortcode_test</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/thumb_larry-wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Listen to Larry Wall&#39;s State of the Onion 2000 on YouTube</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/announcing-perl-7/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/announcing-perl-7/thumb_seven_on_blue_wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Announcing Perl 7</h6>
          <p style="line-height:1"><small>Perl 5 with modern defaults</small></p>
      </div>
        </a>
    </div>
  
</div>
<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
  <script async src="/widget/toplinks/toplinks.js" type="text/javascript"></script>
    <div id="toplinks"></div>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <a class="twitter-timeline" data-height="640" data-dnt="true" data-theme="dark" href="https://twitter.com/perlfoundation?ref_src=twsrc%5Etfw">Tweets by perlfoundation</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <script src="https://www.reddit.com/r/perl/hot/.embed?limit=10&t=all" type="text/javascript"></script>
  </div>
</div>



          </div>
        </div>
      </div>
    </section>
  </section>
<script>
 
var tables, i;
tables = document.getElementsByTagName('table');
for (i=0;i<tables.length;i++) {
  tables[i].className = 'table table-striped';
}
</script>
<div class="push"></div>
<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
        <h5>Site Map</h5>
        <ul>
        <li><a href="/">Home</a></li>
        <hr>
        <li><a href="/about">About</a></li>
        <hr>
        <li><a href="/authors">Authors</a></li>
        <hr>
        <li><a href="/categories">Categories</a></li>
        <hr>
        <li><a href="/tags">Tags</a></li>
        <hr>
        </ul>
      </div>
      <div class="col-md-3">
        <h5>Contact Us</h5>
        <p>To get in touch, send an email to: perl.com-editor@perl.org</p>
        <p><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a>
          <a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a>
          <a href="/index.xml" /><img src="/images/site/rss_20.png" alt="rss"></a>
          <a href="https://github.com/tpf/perldotcom">
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></p>
      </div>
      <div class="col-md-2">
          <h5>License</h5>
          <p>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.</p>
          <p><a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a></p>
      </div>
      <div class="col-md-5">
          <h5>Legal</h5>
          <p>Perl.com and the authors make no representations with respect to the accuracy or completeness of the contents of all work on this website and specifically disclaim all warranties, including without limitation warranties of fitness for a particular purpose. The information published on this website may not be suitable for every situation. All work on this website is provided with the understanding that Perl.com and the authors are not engaged in rendering professional services. Neither Perl.com nor the authors shall be liable for damages arising herefrom.</p>
      </div>
    </div>
  </div>
</div>
<script src="/javascript/jquery.min.js"></script>
<script src="/javascript/bootstrap.min.js"></script>
<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>
</html>

