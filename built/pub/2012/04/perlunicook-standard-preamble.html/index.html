<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title> Perl Unicode Cookbook: The Standard Preamble </title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Tom Christiansen demonstrates the bare minimum feature set necessary to work with Unicode effectively in Perl 5."/>
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="TZowffo_LX2mmsw2DbeNNbukCMnIOA8T-6CMJPiYllI" />

<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@PerlFoundation">
<meta property="og:url" content="http://localhost:1313/pub/2012/04/perlunicook-standard-preamble.html/" />
<meta property="og:title" content="Perl Unicode Cookbook: The Standard Preamble" />
<meta property="og:description" content="Tom Christiansen demonstrates the bare minimum feature set necessary to work with Unicode effectively in Perl 5.">
<meta property="og:site_name" content="Perl.com" />

<meta property="og:type" content="article" />
<meta property="og:article:published_time" content="2012-04-04T04:04:04Z" />
<meta property="og:image" content="http://localhost:1313/images/_pub_2012_04_perlunicook-standard-preamble/unicode.jpg" />


  <link rel="icon" href="/favicon.ico">
  <link href="/article/index.xml" rel="alternate" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/article/index.xml" rel="feed" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/perldotcom.css"/>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-50555-22', 'auto');
ga('create', 'UA-85734801-2', 'auto', 'editor');
ga('send', 'pageview');
ga('editor.send', 'pageview');
</script>

</head>
<body>

<div class="container-fluid full-wdith antonio">
 <div class="row">
  <div class="navbar-inverse" style="border-radius:none !important" role="navigation">
    <div class="container-fluid">
      <ul class="nav navbar-nav pull-right follow">
          <li>MORE:</li>
          <li><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a><li>
          <li><a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a><li>
          <li><a href="/article/index.xml" />
              <img src="/images/site/rss_20.png" alt="rss"></a></li>
          <li><a href="https://github.com/tpf/perldotcom" />
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></li>
      </ul>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          <a class="navbar-nav" href="/">
            <div class="header-logo">Perl.com</div>
          </a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/about">
              <div class="circle">
                <img src="/images/site/perl-camel.png" alt="" />
              </div>
                  &nbsp;&nbsp;ABOUT</a>
          </li>
          <li><a href="/authors">
              <div class="circle">
                  <span class="glyphicon glyphicon-user txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;AUTHORS</a>
          </li>
          <li><a href="/categories">
              <div class="circle">
                  <span class="glyphicon glyphicon-folder-open txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;CATEGORIES</a>
          </li>
          <li><a href="/tags">
              <div class="circle">
                <span class="txt-blue-major" aria-hidden="true"><strong>#</strong></span>
              </div>
                  &nbsp;&nbsp;TAGS</a>
          </li>
          <li>
            <form class="search" name="ddg" action="https://duckduckgo.com/" method="get">
              <input type="text" name ="q" placeholder="SEARCH" />
              <input type="hidden" value="perl.com" name="sites" />
            </form>
          </li>
        </ul>
      </div>
    </div>
  </div>
 </div>
</div>


  <section id="content" role="main">
    <section class="entry-content">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <div class="row">
              <article class="fulltext">
              <h1 class="blog-post-title">Perl Unicode Cookbook: The Standard Preamble</h1>
              <p class="blog-post-meta">Apr 2, 2012 by
              
              
                
                
                <a href="#author-bio-tom-christiansen">Tom Christiansen</a>
              
              </p>
              <img alt="" src=""/>
                

<p><em>Editor&rsquo;s note:</em> Perl guru <a href="http://training.perl.com/">Tom Christiansen</a> created and maintains a list of 44 recipes for working with Unicode in Perl 5. This is the first recipe in the series.</p>

<h2 id="0-standard-preamble"><strong>℞ 0: Standard preamble</strong></h2>

<p>Unless otherwise noted, all examples in this cookbook require this standard preamble to work correctly, with the <code>#!</code> adjusted to work on your system:</p>

<pre><code> #!/usr/bin/env perl

 use utf8;      # so literals and identifiers can be in UTF-8
 use v5.12;     # or later to get &quot;unicode_strings&quot; feature
 use strict;    # quote strings, declare variables
 use warnings;  # on by default
 use warnings  qw(FATAL utf8);    # fatalize encoding glitches
 use open      qw(:std :utf8);    # undeclared streams in UTF-8
 use charnames qw(:full :short);  # unneeded in v5.16
</code></pre>

<p>This <em>does</em> make even Unix programmers <code>binmode</code> your binary streams, or open them with <code>:raw</code>, but that&rsquo;s the only way to get at them portably anyway.</p>

<p><strong>WARNING</strong>: <code>use autodie</code> and <code>use open</code> do not get along with each other.</p>

<p>This combination of features sets Perl to a known state of Unicode compatibility and strictness, so that subsequent operations behave as you expect.</p>

<p>The other recipes in this cookbook are:</p>

<ul>
<li>℞ 0: The Standard Preamble</li>
<li>℞ 1: <a href="/pub/2012/04/perl-unicode-cookbook-always-decompose-and-recompose.html">Always Decompose and Recompose</a></li>
<li>℞ 2: <a href="/pub/2012/04/perl-unicook-fine-tuning-warnings.html">Fine-Tuning Unicode Warnings</a></li>
<li>℞ 3: <a href="/pub/2012/04/perlunicook-enable-utf-8-literals.html">Enable UTF-8 Literals</a></li>
<li>℞ 4: <a href="/pub/2012/04/perlunicook-chars-and-their-nums.html">Characters and Their Numbers</a></li>
<li>℞ 5: <a href="/pub/2012/04/perlunicook-unicode-literals-by-number.html">Unicode Literals by Number</a></li>
<li>℞ 6: <a href="/pub/2012/04/perlunicook-character-names-by-number.html">Get Character Names by Number</a></li>
<li>℞ 7: <a href="/pub/2012/04/perlunicook-character-numbers-by-name.html">Get Character Number by Name</a></li>
<li>℞ 8: <a href="/pub/2012/04/perlunicook-unicode-named-characters.html">Unicode Named Characters</a></li>
<li>℞ 9: <a href="/pub/2012/04/perlunicook-unicode-named-character-sequences.html">Unicode Named Character Sequences</a></li>
<li>℞ 10: <a href="/pub/2012/04/perlunicook-custom-named-characters.html">Custom Named Characters</a></li>
<li>℞ 11: <a href="/pub/2012/04/perlunicook-names-of-cjk-codepoints.html">Names of CJK Codepoints</a></li>
<li>℞ 12: <a href="/pub/2012/04/perlunicook-explicit-encode-decode.html">Explicit encode/decode</a></li>
<li>℞ 13: <a href="/pub/2012/04/perlunicookbook-decode-argv-as-utf8.html">Decode @ARGV as UTF-8</a></li>
<li>℞ 14: <a href="/pub/2012/04/perlunicookbook-decode-argv-as-local-encoding.html">Decode @ARGV as Local Encoding</a></li>
<li>℞ 15: <a href="/pub/2012/04/perlunicook-decode-standard-filehandles-as-utf-8.html">Decode Standard Filehandles as UTF-8</a></li>
<li>℞ 16: <a href="/pub/2012/04/perlunicook-decode-standard-filehandles-as-locale-encoding.html">Decode Standard Filehandles as Locale Encoding</a></li>
<li>℞ 17: <a href="/pub/2012/05/perlunicook-make-file-io-default-to-utf-8.html">Make File I/O Default to UTF-8</a></li>
<li>℞ 18: <a href="/pub/2012/05/perlunicook-make-all-io-default-to-utf-8.html">Make All I/O Default to UTF-8</a></li>
<li>℞ 19: <a href="/pub/2012/05/perlunicook-specify-a-files-encoding.html">Specify a File&rsquo;s Encoding</a></li>
<li>℞ 20: <a href="/pub/2012/05/perl-unicook-unicode-casing.html">Unicode Casing</a></li>
<li>℞ 21: <a href="/pub/2012/05/perlunicook-case-insensitive-comparisons.html">Case-insensitive Comparisons</a></li>
<li>℞ 22: <a href="/pub/2012/05/perlunicook-match-unicode-linebreak-sequence.html">Match Unicode Linebreak Sequence</a></li>
<li>℞ 23: <a href="/pub/2012/05/perlunicook-get-character-categories.html">Get Character Categories</a></li>
<li>℞ 24: <a href="/pub/2012/05/perlunicook-disable-unicode-awareness-in-builtin-character-classes.html">Disable Unicode-awareness in Builtin Character Classes</a></li>
<li>℞ 25: <a href="/pub/2012/05/perlunicook-match-unicode-properties-in-regex.html">Match Unicode Properties in Regex</a></li>
<li>℞ 26: <a href="/pub/2012/05/perlunicookbook-custom-character-properties.html">Custom Character Properties</a></li>
<li>℞ 27: <a href="/pub/2012/05/perlunicookbook-unicode-normalization.html">Unicode Normalization</a></li>
<li>℞ 28: <a href="/pub/2012/05/perlunicookbook-convert-non-ascii-unicode-numerics.html">Convert non-ASCII Unicode Numerics</a></li>
<li>℞ 29: <a href="/pub/2012/05/perlunicook-match-unicode-grapheme-cluster-in-regex.html">Match Unicode Grapheme Cluster in Regex</a></li>
<li>℞ 30: <a href="/pub/2012/05/perlunicookbook-extract-by-grapheme-instead-of-codepoint-regex.html">Extract by Grapheme Instead of Codepoint (regex)</a></li>
<li>℞ 31: <a href="/pub/2012/05/perlunicook-extract-by-grapheme-instead-of-codepoint-substr.html">Extract by Grapheme Instead of Codepoint (substr)</a></li>
<li>℞ 32: <a href="/pub/2012/05/perlunicook-reverse-string-by-grapheme.html">Reverse String by Grapheme</a></li>
<li>℞ 33: <a href="/pub/2012/05/perlunicook-string-length-in-graphemes.html">String Length in Graphemes</a></li>
<li>℞ 34: <a href="/pub/2012/05/perlunicook-unicode-column-width-for-printing.html">Unicode Column Width for Printing</a></li>
<li>℞ 35: <a href="/pub/2012/06/perlunicook-unicode-collation.html">Unicode Collation</a></li>
<li>℞ 36: <a href="/pub/2012/06/perlunicook-case--and-accent-insensitive-sorting.html">Case- and Accent-insensitive Sorting</a></li>
<li>℞ 37: <a href="/pub/2012/06/perlunicook-unicode-locale-collation.html">Unicode Locale Collation</a></li>
<li>℞ 38: <a href="/pub/2012/06/perlunicook-make-cmp-work-on-text-instead-of-codepoints.html">Make cmp Work on Text instead of Codepoints</a></li>
<li>℞ 39: <a href="/pub/2012/06/perlunicook-case--and-accent-insensitive-comparison.html">Case- and Accent-insensitive Comparison</a></li>
<li>℞ 40: <a href="/pub/2012/06/perlunicook-case--and-accent-insensitive-locale-comparison.html">Case- and Accent-insensitive Locale Comparisons</a></li>
<li>℞ 41: <a href="/pub/2012/06/perlunicook-unicode-linebreaking.html">Unicode Linebreaking</a></li>
<li>℞ 42: <a href="/pub/2012/06/perlunicook-unicode-text-in-stubborn-libraries.html">Unicode Text in Stubborn Libraries</a></li>
<li>℞ 43: <a href="/pub/2012/06/perlunicook-unicode-text-in-dbm-files-the-easy-way.html">Unicode Text in DBM Files (the easy way)</a></li>
<li>℞ 44: <a href="/pub/2012/06/perlunicook-demo-of-unicode-collation-and-printing.html">Demo of Unicode Collation and Printing</a></li>
<li>℞ 45: <a href="/pub/2012/06/perlunicook-further-resources.html">Further Resources</a></li>
</ul>

              </article>
              <p><strong>Tags</strong></p>
              <div class="tags">
                <div class="category"><a href="/categories/unicode">unicode</a></div>
                
              </div>
            </div>
            
              
                
<div class="row" id="author-bio-tom-christiansen">
  <div class="col-sm-2">
    
    <a href="/authors/tom-christiansen/"><div class="circle-avatar" style="background-image:url(/images/author/tom-christiansen.jpg)"></div></a>
  </div>
  <div class="col-sm-10">
    <a href="/authors/tom-christiansen/"><h3>Tom Christiansen</h3></a>
    <p></p>
    <h5><a href="/authors/tom-christiansen/">Browse their articles</a></h5>
  </div>
</div>

            
            <div class="row">
              <h3>Feedback</h3>
              <p>Something wrong with this article? Help us out by opening an issue or pull request on <a href="https://github.com/tpf/perldotcom/blob/master/content/legacy/_pub_2012_04_perlunicook-standard-preamble.md">GitHub</a></p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="latest-sidebar">

  <div class="row">
    <div class="col-sm-12 centering">
      <span style="font-size:1.8em" class="antonio txt-blue-major">OUR LATEST ARTICLES</span>
    </div>
  </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/the-perl-admbassador-curtis-poe/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/the-perl-ambassador-curtis-poe/curtis-poe.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>The Perl Ambassador: Curtis &#39;Ovid&#39; Poe</h6>
          <p style="line-height:1"><small>The person behind the news of Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/a-tour-with-net-ftp/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/a-tour-with-net-ftp/thumb_kidyes.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>A tour with Net::FTP</h6>
          <p style="line-height:1"><small>How to write an FTP client in Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/shortcode_test/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/author/brian-d-foy.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>shortcode_test</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/thumb_larry-wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Listen to Larry Wall&#39;s State of the Onion 2000 on YouTube</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/announcing-perl-7/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/announcing-perl-7/thumb_seven_on_blue_wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Announcing Perl 7</h6>
          <p style="line-height:1"><small>Perl 5 with modern defaults</small></p>
      </div>
        </a>
    </div>
  
</div>
<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
  <script async src="/widget/toplinks/toplinks.js" type="text/javascript"></script>
    <div id="toplinks"></div>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <a class="twitter-timeline" data-height="640" data-dnt="true" data-theme="dark" href="https://twitter.com/perlfoundation?ref_src=twsrc%5Etfw">Tweets by perlfoundation</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <script src="https://www.reddit.com/r/perl/hot/.embed?limit=10&t=all" type="text/javascript"></script>
  </div>
</div>



          </div>
        </div>
      </div>
    </section>
  </section>
<script>
 
var tables, i;
tables = document.getElementsByTagName('table');
for (i=0;i<tables.length;i++) {
  tables[i].className = 'table table-striped';
}
</script>
<div class="push"></div>
<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
        <h5>Site Map</h5>
        <ul>
        <li><a href="/">Home</a></li>
        <hr>
        <li><a href="/about">About</a></li>
        <hr>
        <li><a href="/authors">Authors</a></li>
        <hr>
        <li><a href="/categories">Categories</a></li>
        <hr>
        <li><a href="/tags">Tags</a></li>
        <hr>
        </ul>
      </div>
      <div class="col-md-3">
        <h5>Contact Us</h5>
        <p>To get in touch, send an email to: perl.com-editor@perl.org</p>
        <p><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a>
          <a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a>
          <a href="/index.xml" /><img src="/images/site/rss_20.png" alt="rss"></a>
          <a href="https://github.com/tpf/perldotcom">
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></p>
      </div>
      <div class="col-md-2">
          <h5>License</h5>
          <p>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.</p>
          <p><a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a></p>
      </div>
      <div class="col-md-5">
          <h5>Legal</h5>
          <p>Perl.com and the authors make no representations with respect to the accuracy or completeness of the contents of all work on this website and specifically disclaim all warranties, including without limitation warranties of fitness for a particular purpose. The information published on this website may not be suitable for every situation. All work on this website is provided with the understanding that Perl.com and the authors are not engaged in rendering professional services. Neither Perl.com nor the authors shall be liable for damages arising herefrom.</p>
      </div>
    </div>
  </div>
</div>
<script src="/javascript/jquery.min.js"></script>
<script src="/javascript/bootstrap.min.js"></script>
<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>
</html>

