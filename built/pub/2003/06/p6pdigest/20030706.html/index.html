<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title> This week on Perl 6, week ending 2003-07-06 </title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Perl 6 Summary for the week ending 20030706 Welcome to this week&#39;s Perl 6 Summary, coming to you live from a gatecrashed Speakers&#39; lounge at OSCON/TPC, surrounded by all the cool people like Dan Sugalski, Lisa Wolfisch, Graham Barr, and..."/>
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="TZowffo_LX2mmsw2DbeNNbukCMnIOA8T-6CMJPiYllI" />

<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@PerlFoundation">
<meta property="og:url" content="http://localhost:1313/pub/2003/06/p6pdigest/20030706.html/" />
<meta property="og:title" content="This week on Perl 6, week ending 2003-07-06" />
<meta property="og:description" content="Perl 6 Summary for the week ending 20030706 Welcome to this week&#39;s Perl 6 Summary, coming to you live from a gatecrashed Speakers&#39; lounge at OSCON/TPC, surrounded by all the cool people like Dan Sugalski, Lisa Wolfisch, Graham Barr, and...">
<meta property="og:site_name" content="Perl.com" />

<meta property="og:type" content="article" />
<meta property="og:article:published_time" content="2003-07-07T07:07:07Z" />
<meta property="og:image" content="http://localhost:1313/images/author/piers-cawley.jpg" />
<meta property="og:article:tag" content="perl-6-internals-parrot" />


  <link rel="icon" href="/favicon.ico">
  <link href="/article/index.xml" rel="alternate" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/article/index.xml" rel="feed" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/perldotcom.css"/>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-50555-22', 'auto');
ga('create', 'UA-85734801-2', 'auto', 'editor');
ga('send', 'pageview');
ga('editor.send', 'pageview');
</script>

</head>
<body>

<div class="container-fluid full-wdith antonio">
 <div class="row">
  <div class="navbar-inverse" style="border-radius:none !important" role="navigation">
    <div class="container-fluid">
      <ul class="nav navbar-nav pull-right follow">
          <li>MORE:</li>
          <li><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a><li>
          <li><a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a><li>
          <li><a href="/article/index.xml" />
              <img src="/images/site/rss_20.png" alt="rss"></a></li>
          <li><a href="https://github.com/tpf/perldotcom" />
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></li>
      </ul>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          <a class="navbar-nav" href="/">
            <div class="header-logo">Perl.com</div>
          </a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/about">
              <div class="circle">
                <img src="/images/site/perl-camel.png" alt="" />
              </div>
                  &nbsp;&nbsp;ABOUT</a>
          </li>
          <li><a href="/authors">
              <div class="circle">
                  <span class="glyphicon glyphicon-user txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;AUTHORS</a>
          </li>
          <li><a href="/categories">
              <div class="circle">
                  <span class="glyphicon glyphicon-folder-open txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;CATEGORIES</a>
          </li>
          <li><a href="/tags">
              <div class="circle">
                <span class="txt-blue-major" aria-hidden="true"><strong>#</strong></span>
              </div>
                  &nbsp;&nbsp;TAGS</a>
          </li>
          <li>
            <form class="search" name="ddg" action="https://duckduckgo.com/" method="get">
              <input type="text" name ="q" placeholder="SEARCH" />
              <input type="hidden" value="perl.com" name="sites" />
            </form>
          </li>
        </ul>
      </div>
    </div>
  </div>
 </div>
</div>


  <section id="content" role="main">
    <section class="entry-content">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <div class="row">
              <article class="fulltext">
              <h1 class="blog-post-title">This week on Perl 6, week ending 2003-07-06</h1>
              <p class="blog-post-meta">Jul 6, 2003 by
              
              
                
                
                <a href="#author-bio-piers-cawley">Piers Cawley</a>
              
              </p>
              <img alt="" src=""/>
                

<h2 id="perl-6-summary-for-the-week-ending-20030706">Perl 6 Summary for the week ending 20030706</h2>

<p>Welcome to this week&rsquo;s Perl 6 Summary, coming to you live from a gatecrashed Speakers&rsquo; lounge at OSCON/TPC, surrounded by all the cool people like Dan Sugalski, Lisa Wolfisch, Graham Barr, and Geoff Young, who aren&rsquo;t distracting me from writing this summary at all.</p>

<p>10 minutes later, after the arrival of James Duncan and Adam Turoff, I&rsquo;m still not being distracted. Oh no&hellip; Leon Brocard&rsquo;s just arrived, which helps with the running joke, but not with the &lsquo;getting the summary written&rsquo;.</p>

<p>So, we&rsquo;ll start as usual with the goings on in perl6-internals.</p>

<h3 id="more-on-parrot-s-multiple-stack-implementations">More on Parrot&rsquo;s multiple stack implementations</h3>

<p>Dan pointed out that, although Control, User, and Pads share the same stack engine, Pads should be implemented using a simple linked list. He also confessed that all the register backing stacks should share an implementation, but that he&rsquo;d been too lazy to macro things up properly.</p>

<p><a href="http://groups.google.com/groups?threadm=a05210614bb27df94abdb%40%5B63.120.19.221%5D">http://groups.google.com/groups</a></p>

<h3 id="building-imcc-as-parrot">Building IMCC as parrot</h3>

<p>Leo TÃ¶tsch posted an initial patch to make IMCC build as the parrot executable. And there was much <code>Makefile</code> debugging.</p>

<p><a href="http://groups.google.com/groups?threadm=rt-22855-60060.13.3692622089707%40rt.perl.org">http://groups.google.com/groups</a></p>

<h3 id="parrot-io-work">Parrot IO work</h3>

<p>Work on Parrot&rsquo;s IO system was ongoing this week.</p>

<p><a href="http://groups.google.com/groups?threadm=rt-22857-60064.4.51506402790031%40rt.perl.org">http://groups.google.com/groups</a></p>

<h3 id="parrot-exceptions">Parrot Exceptions</h3>

<p>Discussion of possibly resumable exceptions continued, and morphed into a discussion of the workings of warnings when Benjamin Goldberg wondered if warnings were being implemented as exceptions.</p>

<p>They aren&rsquo;t. I think Benjamin was being confused by Perl 6&rsquo;s <code>fail</code> function which can either issue a warning and return undef to its caller&rsquo;s caller, or throw an exception, depending on a pragma whose name I can&rsquo;t for the life of me remember.</p>

<p><a href="http://groups.google.com/groups?threadm=3F005CE3.F19682A6%40hotpop.com">http://groups.google.com/groups</a></p>

<h3 id="parrot-s-build-system">Parrot&rsquo;s build system</h3>

<p>Last week Dan asked for help writing a configuration and build system that would allow per-C-file compiler flag overrides and various other complexities. This week Alan Burlison worried that this approach looked &ldquo;<em>very</em> suspect&rdquo;. This sparked a discussion of the proper way to do interrupt safe queueing, reentrant code, and other scary things.</p>

<p>I may be misreading what&rsquo;s being said in the thread, but it seems that the scariest thing about the whole issue is that there&rsquo;s no portable way of doing the Right Thing, which leads to all sorts of painful platform dependencies and hoopage (From &ldquo;to jump through hoops&rdquo;, anything which requires you to jump through a lot of hoops has a high degree of hoopage. For the life of me I can&rsquo;t remember if it was me or Leon Brocard who coined the term).</p>

<p>Swamps were mentioned. Monty Python skits were quoted. Uri Guttman was overtaken by (MUAHAHAHAHAHA!) megalomania.</p>

<p><a href="http://groups.google.com/groups?threadm=3F00BCD8.5090108%40sun.com">http://groups.google.com/groups</a></p>

<h3 id="klaas-jan-stol-explains-everything-part-1">Klaas-Jan Stol Explains Everything (part 1)</h3>

<p>Last week I mentioned that I didn&rsquo;t know what Klaas-Jan Stol was driving at when he proposed a general, language-independent &ldquo;argument&rdquo; PMC class and hoped that he would provide an explanation, with code fragments.</p>

<p>This week, Klaas-Jan came through, and I think I understand what he wants. Go read his explanation and see if you understand it too. It&rsquo;s to do with when a parameter should be passed by reference or by value. Parrot currently assumes that Strings and PMCs are passed by reference, and that integers and floats are passed by value.</p>

<p>There was some discussion of whether support for optionally passing PMCs by value should be added at the parrot level or whether individual language compilers should be responsible for calling the appropriate PMC methods.</p>

<p><a href="http://groups.google.com/groups?threadm=BAY1-DAV73yhKpOxLYZ000348b0%40hotmail.com">http://groups.google.com/groups</a></p>

<h3 id="moving-parrotio-to-pmcs">Moving ParrotIO to PMCs</h3>

<p>JÃ¼rgen BÃ¶mmels is working hard on moving Parrot&rsquo;s IO-system to a fully garbage collected PMC based system. He posted an initial patch transforming ParrotIO structures into PMCs using a simple wrapping approach.</p>

<p>The patch had problems because the new ParrotIO PMCs were marked as needing active destruction, which could lead to problems with files being closed twice and memory structures getting cleaned up twice, which tends to make memory leak detecting tools a little unhappy. This bug proved to be easy to fix. But then another one reared its head and has so far proved rather harder to fix.</p>

<p><a href="http://groups.google.com/groups?threadm=rt-22864-60093.6.14456938094875%40rt.perl.org">http://groups.google.com/groups</a></p>

<h3 id="jako-gets-modules-sort-of-gt">Jako gets modules (sort of)&gt;</h3>

<p>Gregor N Purdy announced that he&rsquo;s added rudimentary module support to his Jako &ldquo;little&rdquo; (?) language. A little later he announced that he&rsquo;d added rather less rudimentary module support.</p>

<p><a href="http://groups.google.com/groups?threadm=1057204345.17931.14.camel%40borg.focusresearch.com">http://groups.google.com/groups</a></p>

<h3 id="stupid-parrot-tricks">Stupid Parrot Tricks</h3>

<p>Clinton Pierce, shooting for his &ldquo;mad genius&rdquo; badge announced that he&rsquo;d implemented a simple CGI script in Parrot BASIC. Everyone gasped. Robert Spier decided that the time may have come to start playing with <code>mod_parrot</code> (embedding Parrot in Apache) again.</p>

<p><a href="http://groups.google.com/groups?threadm=200307031813953.SM00173%40localhost">http://groups.google.com/groups</a></p>

<p><a href="http://www.camfriends.org/testform.html">http://www.camfriends.org/testform.html</a> &ndash; that BASIC CGI URL</p>

<h3 id="lazy-arrays">Lazy Arrays</h3>

<p>Luke Palmer is thinking about implementing LazyArray and LazySequence PMCs and outlined his design approach for the list. Benjamin Goldberg and Leo TÃ¶tsch both contributed answers to some of the questions Luke raised.</p>

<p><a href="http://groups.google.com/groups?threadm=ygcllvf9qbm.fsf%40babylonia.flatirons.org">http://groups.google.com/groups</a></p>

<h3 id="wxwindows-support">wxWindows Support</h3>

<p>David Cuny asked if there was any interest in supporting wxWindows (an open source, cross platform, native UI framework for a pile of operating systems).</p>

<p>Leo thought that one could use wxWindows from Parrot via the NCI (Native Call Interface), but that it wouldn&rsquo;t be at all easy. He thought that the best way would be a custom dynamically loaded PMC, tied to good object support in Parrot. Neither of which we have (yet).</p>

<p>Leo also thought that using Parrot as a GCC backend would be a reasonably sensible idea, but that it &ldquo;would need some extensions at both sides&rdquo;. He wondered if there were any GCC people listening.</p>

<p><a href="http://groups.google.com/groups?threadm=200307040708.49426.dcuny%40lanset.com">http://groups.google.com/groups</a></p>

<h3 id="hash-iterators">Hash Iterators</h3>

<p>Leo checked in his &ldquo;buggy initial try&rdquo; at implementing a hash iterator for Parrot, but he wasn&rsquo;t entirely happy with his implementation. Sean O&rsquo;Rourke suggested a Better Way, which Leo immediately took advantage of.</p>

<p><a href="http://groups.google.com/groups?threadm=3F06C195.4090901%40nextra.at">http://groups.google.com/groups</a></p>

<hr />

<h2 id="meanwhile-in-perl6-language">Meanwhile, in perl6-language</h2>

<p>Almost nothing happened.</p>

<h3 id="printf-like-formatting-in-interpolated-strings"><code>printf</code> like formatting in interpolated strings</h3>

<p>Jonadab the Unsightly One made another proposal in this longrunning thread.</p>

<p><a href="http://groups.google.com/groups?threadm=he68nw9k.fsf%40jonadab.homeip.net">http://groups.google.com/groups</a></p>

<h3 id="perl-6-daydreams">Perl 6 Daydreams</h3>

<p>The directed daydreaming continued. Jonadab is looking forward to Perl 6&rsquo;s new improved object model (him and many, many others I believe). This morphed into a discussion of porting Inform to run on Parrot, which spawned thoughts of when Parrot achieves its final goal of being able to load and run z-code based interactive fiction. (The theory is that getting z-code working on Parrot will be the final goal because once that happens the dev team will stop working on Parrot and spend all their time playing Zork).</p>

<p><a href="http://groups.google.com/groups?threadm=d6gwnv5w.fsf%40jonadab.homeip.net">http://groups.google.com/groups</a></p>

<h3 id="aliasing-an-array-slice">Aliasing an array slice</h3>

<p>Dan Brook wondered if it would be either possible or sane to bind a variable to an array slice:</p>

<pre><code>my @array_slice := @array[1,3,5]
</code></pre>

<p>Luke Palmer thought it would have to be, because if it weren&rsquo;t</p>

<pre><code>my *@fibs := (1, 1, map { $^a  + $^b} zip(@fibs, @fibs[1...]));
</code></pre>

<p>wouldn&rsquo;t work (and that would be a bad thing because?).</p>

<p>Damian pointed out that it sort of worked already in Perl 5. This started people discussing what the Right Thing would finally be in Perl 6.</p>

<p><a href="http://groups.google.com/groups?threadm=20030704184357.017b86c5.dbrook%40easyspace.com">http://groups.google.com/groups</a></p>

<hr />

<h2 id="acknowledgements-announcements-and-apologies">Acknowledgements, Announcements and Apologies</h2>

<p>Look, I&rsquo;m sorry the Summary&rsquo;s late, okay? OSCON is an incredibly distracting thing to be present at; every time I settled down to write I got drawn into another fascinating conversation and before I knew it it was time to go back to my hotel, which is, of course, where I managed to knuckle down and write this.</p>

<p>Thanks to Curtis Poe for putting us up for the first couple of nights in Portland, and to Tom Phoenix for being a top notch Native Guide. No thanks to Powell&rsquo;s City of Books <a href="http://www.powells.com/">http://www.powells.com/</a> for having far too much good stuff in stock. Thankfully, they ship.</p>

<p>As ever, if you&rsquo;ve appreciated this summary, please consider one or more of the following options:</p>

<ul>
<li>Send money to the Perl Foundation at <a href="http://donate.perl-foundation.org/">http://donate.perl-foundation.org/</a> and help support the ongoing development of Perl.</li>
<li>Get involved in the Perl 6 process. The mailing lists are open to all. <a href="http://dev.perl.org/perl6/">http://dev.perl.org/perl6/</a> and <a href="http://www.parrotcode.org/">http://www.parrotcode.org/</a> are good starting points with links to the appropriate mailing lists.</li>
<li>Send feedback, flames, money, photographic and writing commissions, or a cute little iSight to <em><a href="mailto:p6summarizer@bofh.org.uk">p6summarizer@bofh.org.uk</a></em>.</li>
</ul>

              </article>
              <p><strong>Tags</strong></p>
              <div class="tags">
                <div class="category"><a href="/categories/perl-6">perl-6</a></div>
                
                  <div class="tag"><a href="/tags/perl-6-internals-parrot">perl-6-internals-parrot</a></div>
                
              </div>
            </div>
            
              
                
<div class="row" id="author-bio-piers-cawley">
  <div class="col-sm-2">
    
    <a href="/authors/piers-cawley/"><div class="circle-avatar" style="background-image:url(/images/author/piers-cawley.jpg)"></div></a>
  </div>
  <div class="col-sm-10">
    <a href="/authors/piers-cawley/"><h3>Piers Cawley</h3></a>
    <p></p>
    <h5><a href="/authors/piers-cawley/">Browse their articles</a></h5>
  </div>
</div>

            
            <div class="row">
              <h3>Feedback</h3>
              <p>Something wrong with this article? Help us out by opening an issue or pull request on <a href="https://github.com/tpf/perldotcom/blob/master/content/legacy/_pub_2003_06_p6pdigest_20030706.md">GitHub</a></p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="latest-sidebar">

  <div class="row">
    <div class="col-sm-12 centering">
      <span style="font-size:1.8em" class="antonio txt-blue-major">OUR LATEST ARTICLES</span>
    </div>
  </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/the-perl-admbassador-curtis-poe/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/the-perl-ambassador-curtis-poe/curtis-poe.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>The Perl Ambassador: Curtis &#39;Ovid&#39; Poe</h6>
          <p style="line-height:1"><small>The person behind the news of Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/a-tour-with-net-ftp/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/a-tour-with-net-ftp/thumb_kidyes.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>A tour with Net::FTP</h6>
          <p style="line-height:1"><small>How to write an FTP client in Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/shortcode_test/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/author/brian-d-foy.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>shortcode_test</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/thumb_larry-wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Listen to Larry Wall&#39;s State of the Onion 2000 on YouTube</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/announcing-perl-7/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/announcing-perl-7/thumb_seven_on_blue_wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Announcing Perl 7</h6>
          <p style="line-height:1"><small>Perl 5 with modern defaults</small></p>
      </div>
        </a>
    </div>
  
</div>
<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
  <script async src="/widget/toplinks/toplinks.js" type="text/javascript"></script>
    <div id="toplinks"></div>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <a class="twitter-timeline" data-height="640" data-dnt="true" data-theme="dark" href="https://twitter.com/perlfoundation?ref_src=twsrc%5Etfw">Tweets by perlfoundation</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <script src="https://www.reddit.com/r/perl/hot/.embed?limit=10&t=all" type="text/javascript"></script>
  </div>
</div>



          </div>
        </div>
      </div>
    </section>
  </section>
<script>
 
var tables, i;
tables = document.getElementsByTagName('table');
for (i=0;i<tables.length;i++) {
  tables[i].className = 'table table-striped';
}
</script>
<div class="push"></div>
<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
        <h5>Site Map</h5>
        <ul>
        <li><a href="/">Home</a></li>
        <hr>
        <li><a href="/about">About</a></li>
        <hr>
        <li><a href="/authors">Authors</a></li>
        <hr>
        <li><a href="/categories">Categories</a></li>
        <hr>
        <li><a href="/tags">Tags</a></li>
        <hr>
        </ul>
      </div>
      <div class="col-md-3">
        <h5>Contact Us</h5>
        <p>To get in touch, send an email to: perl.com-editor@perl.org</p>
        <p><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a>
          <a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a>
          <a href="/index.xml" /><img src="/images/site/rss_20.png" alt="rss"></a>
          <a href="https://github.com/tpf/perldotcom">
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></p>
      </div>
      <div class="col-md-2">
          <h5>License</h5>
          <p>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.</p>
          <p><a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a></p>
      </div>
      <div class="col-md-5">
          <h5>Legal</h5>
          <p>Perl.com and the authors make no representations with respect to the accuracy or completeness of the contents of all work on this website and specifically disclaim all warranties, including without limitation warranties of fitness for a particular purpose. The information published on this website may not be suitable for every situation. All work on this website is provided with the understanding that Perl.com and the authors are not engaged in rendering professional services. Neither Perl.com nor the authors shall be liable for damages arising herefrom.</p>
      </div>
    </div>
  </div>
</div>
<script src="/javascript/jquery.min.js"></script>
<script src="/javascript/bootstrap.min.js"></script>
<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>
</html>

