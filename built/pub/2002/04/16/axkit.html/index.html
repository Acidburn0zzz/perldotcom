<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title> XSP, Taglibs and Pipelines </title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content=" In the first article in this series, we saw how to install, configure and test AxKit, and we took a look at a simple processing pipeline. In this article, we will see how to write a simple 10-line XSP..."/>
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="TZowffo_LX2mmsw2DbeNNbukCMnIOA8T-6CMJPiYllI" />

<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@PerlFoundation">
<meta property="og:url" content="http://localhost:1313/pub/2002/04/16/axkit.html/" />
<meta property="og:title" content="XSP, Taglibs and Pipelines" />
<meta property="og:description" content=" In the first article in this series, we saw how to install, configure and test AxKit, and we took a look at a simple processing pipeline. In this article, we will see how to write a simple 10-line XSP...">
<meta property="og:site_name" content="Perl.com" />

<meta property="og:type" content="article" />
<meta property="og:article:published_time" content="2002-04-04T04:04:04Z" />
<meta property="og:image" content="http://localhost:1313/images/site/avatar.png" />


  <link rel="icon" href="/favicon.ico">
  <link href="/article/index.xml" rel="alternate" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/article/index.xml" rel="feed" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/perldotcom.css"/>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-50555-22', 'auto');
ga('create', 'UA-85734801-2', 'auto', 'editor');
ga('send', 'pageview');
ga('editor.send', 'pageview');
</script>

</head>
<body>

<div class="container-fluid full-wdith antonio">
 <div class="row">
  <div class="navbar-inverse" style="border-radius:none !important" role="navigation">
    <div class="container-fluid">
      <ul class="nav navbar-nav pull-right follow">
          <li>MORE:</li>
          <li><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a><li>
          <li><a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a><li>
          <li><a href="/article/index.xml" />
              <img src="/images/site/rss_20.png" alt="rss"></a></li>
          <li><a href="https://github.com/tpf/perldotcom" />
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></li>
      </ul>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          <a class="navbar-nav" href="/">
            <div class="header-logo">Perl.com</div>
          </a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/about">
              <div class="circle">
                <img src="/images/site/perl-camel.png" alt="" />
              </div>
                  &nbsp;&nbsp;ABOUT</a>
          </li>
          <li><a href="/authors">
              <div class="circle">
                  <span class="glyphicon glyphicon-user txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;AUTHORS</a>
          </li>
          <li><a href="/categories">
              <div class="circle">
                  <span class="glyphicon glyphicon-folder-open txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;CATEGORIES</a>
          </li>
          <li><a href="/tags">
              <div class="circle">
                <span class="txt-blue-major" aria-hidden="true"><strong>#</strong></span>
              </div>
                  &nbsp;&nbsp;TAGS</a>
          </li>
          <li>
            <form class="search" name="ddg" action="https://duckduckgo.com/" method="get">
              <input type="text" name ="q" placeholder="SEARCH" />
              <input type="hidden" value="perl.com" name="sites" />
            </form>
          </li>
        </ul>
      </div>
    </div>
  </div>
 </div>
</div>


  <section id="content" role="main">
    <section class="entry-content">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <div class="row">
              <article class="fulltext">
              <h1 class="blog-post-title">XSP, Taglibs and Pipelines</h1>
              <p class="blog-post-meta">Apr 16, 2002 by
              
              
                
                
                <a href="#author-bio-barrie-slaymaker">Barrie Slaymaker</a>
              
              </p>
              <img alt="" src=""/>
                

<p>In the <a href="/pub/2002/03/12/axkit.html">first article</a> in this series, we saw how to install, configure and test AxKit, and we took a look at a simple processing pipeline. In this article, we will see how to write a simple 10-line XSP taglib and use it in a pipeline along with XSLT to build dynamic pages in such a way that gets the systems architects and coders out of the content maintenance business. Along the way, we&rsquo;ll discuss <a href="#why_pipelines">the pipeline processing model</a> that makes AxKit so powerful.</p>

<p>First though, let us catch up on some changes in the AxKit world.</p>

<h3 id="changes">CHANGES</h3>

<p>Matt and company have released AxKit v1.5.1, and 1.5.2 looks as though it will be out soon. 1.5.1 provides a few improvements and bug fixes, especially in the XSP engine discussed in this article. The biggest additions are the inclusion of a set of demonstration pages that can be used to test and experiment with AxKit&rsquo;s capabilities, and another module to help with writing taglibs (Jorge Walter&rsquo;s <a href="https://metacpan.org/pod/AxKit2::XSP::SimpleTaglib">SimpleTaglib</a>, which we&rsquo;ll look at in the next article).</p>

<p>There has also been a release policy change: The main AxKit distributions (AxKit-1.5.1.tar.gz for instance) will no longer contain the minimal set of prerequisites; these will now be bundled in a separate tarball. This policy change enables people to download just AxKit (when upgrading it, for instance) and recognizes the fact that AxKit is an <a href="http://xml.apache.org/">Apache project</a> while the prerequisites aren&rsquo;t. Until the prerequisite tarball gets released, the <a href="/media/_pub_2002_04_16_axkit/axkit_articles-2.0.tar.gz">source tarball</a> that accompanies this article contains them all (though it installs them in a local directory only, for testing purposes). The main AxKit tarball still includes all the core AxKit modules.</p>

<h4 id="xsp-and-taglibs">XSP and taglibs</h4>

<p>We <a href="/pub/2002/03/12/axkit.html?page=3">touched on</a> eXtensible Server Pages and taglibs in the last article; this time we&rsquo;ll take a deeper look and try to see how <a href="http://axkit.org/docs/xsp/index.xml">XSP</a>, taglibs and XSLT can be combined in a powerful and useful way.</p>

<blockquote>
<p>A quick taglib refresher: A taglib is a collection of XML tags in an <a href="http://www.jclark.com/xml/xmlns.htm">XML namespace</a> that act like conditionals or subroutine calls. Essentially, taglibs are a way of encoding logic and dynamic content in to pages without including raw &ldquo;native&rdquo; code (Perl, Java, COBOL; any of the popular Web programming languages) in the page; each taglib provides a set of related services and multiple taglibs may be used in the same XSP page.</p>
</blockquote>

<p>For our example, we will build a &ldquo;data driven&rdquo; processing pipeline (clicking on a blue icon or arrow will take you to the relevant documentation or section of this article):</p>

<p><a href="#" id="weather1_flow.png"></a> <img src="/images/_pub_2002_04_16_axkit/weather1_flow.png" alt="weather1.xsp processing pipeline" />
&gt; <img src="/images/_pub_2002_04_16_axkit/weather1_flow_icon.png" alt="Example icon" /> NOTE: A little icon like this will be shown with the description of each piece of the pipeline with that piece hilighted. Clicking on those icons will bring you back to this diagram.</p>

<p>This pipeline has five stages:</p>

<ol>
<li>the XSP document (<a href="#weather1.xsp"><code>weather1.xsp</code></a>) defines what chunks of raw data (current time and weather readings) are needed for this page in a simple XML format,</li>
<li>the XSP processor applies taglibs to assemble the raw data for the page,</li>
<li>the first XSLT processor and stylesheet (<a href="#weather.xsl"><code>weather.xsl</code></a>) format the raw data in to usable content,</li>
<li>the second XSLT processor and stylesheet (<a href="#as_html.xsl"><code>as_html.xsl</code></a>) lays out and generates the final page (&ldquo;Result Doc&rdquo;), and</li>
<li>the Gzip compressor automatically compresses the output if the client can comprehend compressed content (even when an older browser is bashful and does not announce that it can cope with gzip-encoded content).</li>
</ol>

<p><span id="mimicry"></span>This multipass approach mimics those found in real applications; each stage has a specific purpose and can be designed and tested independently of the others.</p>

<p>In a real application, there might well be more filters: Our second XSLT filter might be tweaked to build document without any &ldquo;look and feel,&rdquo; and an additional filter could be used to implement the &ldquo;look and feel&rdquo; of the presentation after the layout is complete. This would allow look and feel to be altered independently of the layout.</p>

<blockquote>
<p>We call this a &ldquo;data driven&rdquo; pipeline because the document feeding the pipeline defines what data is needed to serve the page; it does not actually contain any content. Later stages add the content and format it. We&rsquo;ll look at a &ldquo;document driven&rdquo; pipeline, which feeds the pipeline with the document to be served, in the next article.</p>
</blockquote>

<p><span id="why_pipelines"></span></p>

<h4 id="why-pipelines">Why pipelines?</h4>

<p>The XML pipeline-processing model used by AxKit is a powerful approach that brings technical and social advantages to document-processing systems lsuch as Web applications.</p>

<p>On the social side, the concept of a pipeline or assembly line is simple enough to be taught to and grasped by nonprogrammers. Some of the approaches used by HTML-oriented tools (like many on CPAN) are not exactly designer-friendly: They rely on programmer-friendly concepts such as abstract data structures, miniature programming languages, &ldquo;catch-all&rdquo; pages and object-oriented techniques such as method dispatch. To be fair, some designers can and do learn the concepts, and others have Perl implementors who deploy these tools in simple patterns that are readily grasped.</p>

<p>The reason that HTML-oriented tools have a hard time something as simple as a pipeline model is that HTML is a presentation language and does not lend itself to describing data structures or to incremental processing. The advantage of incremental processing is that the number of stages can be designed to fit the application and organization; with other tools, there&rsquo;s often a one- or two-stage approach where the first stage is almost entirely in the realm of the Perl coders (&ldquo;prepare thedata&rdquo;) and the second is halfway in the realm of the coders and halfway in the designer&rsquo;s realm.</p>

<p>XML can be used both to describe data structures and mark up prose documents; this allows a pipeline to mingle data and prose in flexible ways. Each processing stage is XML-in, XML-out (except for the first and last, which often consume and generate other formats). However, the stages aren&rsquo;t limited to dealing purely with XML: The taglibs we&rsquo;re using show one way that stages can use Perl code (and, by extension, many other languages; see the <a href="https://metacpan.org/search?q=Inline%3A%3A">Inline</a> series of modules), external libraries, and almost any non-XML data as needed. Not only does My::WeatherTaglib integrate with Perl code, it&rsquo;s also requesting data over the Internet from a remote site.</p>

<p>The use of XML as the carrier for data between the stages also allows each stage to be debugged and unit tested. The documents that forwarded between the stages are often passed as internal data structures instead of XML strings for efficiency&rsquo;s sake, but they can be rendered (like the examples shown in this article) and examined, both for teaching purposes and debugging purposes. The uniform look and feel of XML, whatever it&rsquo;s disadvantages, is at least readily understood by any competent Web designer.</p>

<p>Pipelines are also handy mechanisms in that the individual stages are chosen at request time; different stages can be selected to deliver different views of the same content. AxKit provides several powerful mechanisms for configuring pipelines, the <code>&lt;xml-stylesheet ...&gt;</code> approach used in this article is merely the simplest; future articles will explore building flexible pipelines.</p>

<p>Pipelines also make a useful distinction between the manager (AxKit) and the processing technologies. Not only does this allow you to mix and match processing techniques as needed (AxKit ships with nine &ldquo;Languages&rdquo;, or types of XML processor, and several &ldquo;Providers&rdquo;, or data sources), it also allows new technologies to be incorporated in to existing sites when a new technology is needed.</p>

<p>Moreover, technologies like XML and XSLT are standardized and are becoming widely accepted and supported. This means that most, if not all the documents in our example pipeline can be handed off to non-Perl coders without (much) fear of them mangling the code. When they do mangle it; tools such as xsltproc (shipped with libxslt, one of the AxKit XSLT processors) can be used to give the designers a first line of defense before calling in the programmers. Even taglibs, nonstandard though they are, leverage the XML standard to make logic and data available to noncoders in a (relatively) safe manner. For instance, <a href="http://www.zvon.org/xxl/XSLTutorial/Output/index.html">here&rsquo;s an excellent online tutorial</a> provided by <a href="http://www.zvon.org/">ZVON.org</a>.</p>

<p>Mind you, XML and XSLT have their rough spots; the trick is that you don&rsquo;t need to know all the quirky ins and outs of the XML specification or use XSLT for things that are painful to do in it. I mean, really, when was the last time you dealt with a <a href="http://www.w3.org/TR/REC-xml/#Notations">notation declaration</a>? Most uses of XML use a small subset of the XML specification, and other tools such as XSP, XPathScript and various schema languages can be used where XSLT would only make the problem more difficult.</p>

<p>What stages are appropriate depends on the application&rsquo;s requirements and those of the organization(s) involved in building, operating and maintaining it. In the next article, we&rsquo;ll examine a &ldquo;document driven&rdquo; pipeline and a taglib better suited for this approach that uses different stages.</p>

<p>All that being said there will always be a place for the non-XML and non-pipelined solutions: XML and pipelines are <em>not</em> panaceas. I still use other solutions when the applications or organizations I work with would not benefit from XML.</p>

<p><span id="httpd.conf"></span></p>

<h4 id="httpd-conf-the-axkit-configuration"><code>httpd.conf</code>: the AxKit configuration</h4>

<p>Before we start in to the example code, let&rsquo;s glance at the AxKit configuration. Feel free to <a href="#My::WeatherTaglib">skip ahead to the code</a> if you like; otherwise, here&rsquo;s the configuration we&rsquo;ll use in <code>httpd.conf</code>:</p>

<p><span id="httpd.conf2"></span>
        ##
        ## Init the httpd to use our &ldquo;private install&rdquo; libraries
        ##
        PerlRequire startup.pl</p>

<pre><code>    ##
    ## AxKit Configuration
    ##
    PerlModule AxKit

    &lt;Directory /home/me/htdocs&quot;&gt;
            Options -All +Indexes +FollowSymLinks

        # Tell mod_dir to translate / to /index.xml or /index.xsp
        DirectoryIndex index.xml index.xsp
        AddHandler axkit .xml .xsp

        AxDebugLevel 10

        AxGzipOutput Off

        AxAddXSPTaglib AxKit::XSP::Util
        AxAddXSPTaglib AxKit::XSP::Param
        AxAddXSPTaglib My::WeatherTaglib

        AxAddStyleMap application/x-xsp
                      Apache::AxKit::Language::XSP

        AxAddStyleMap text/xsl
                      Apache::AxKit::Language::LibXSLT
    &lt;/Directory&gt;
</code></pre>

<p>This is the same configuration from the <a href="/pub/2002/03/12/axkit.html?page=2#testing">the last article</a>—most of the directives and the processing model used by Apache and AxKit for them are described in detail there. The two directives in <strong>bold</strong> have been added. The key directives for our example are <code>AxAddXSPTaglib</code> and <code>AxAddStyleMap</code>.</p>

<p>The <code>AxAddXSPTaglib</code> directives load three tag libraries: Kip Hampton&rsquo;s <a href="https://metacpan.org/pod/AxKit::XS::Util">Util</a> and <a href="https://metacpan.org/pod/AxKit::XSP::Param">Param</a> taglibs and our very own <a href="#My::WeatherTaglib">WeatherTaglib</a>. Util will allow our example to get at the system time; Param will allow it to parse URLs; and WeatherTaglib will allow us to fetch the current weather conditions for that zip code.</p>

<p>The two <code>AxAddStyleMap</code> directives map a pair of mime types to an XSP and an XSLT processor. Our example source document will refer to these mime types to configure instances of XSP and XSLT processors in to the processing pipeline.</p>

<blockquote>
<p>We&rsquo;re using Apache::AxKit::Language::LibXSLT to perform XSLT transforms, which uses the GNOME project&rsquo;s <a href="http://xmlsoft.org/XSLT/">libxslt</a> library under the hood. Different XSLT engines offer different sets of features. If you prefer, then you can also use Apache::AxKit::Language::Sablot for XSLT work. You can even use them in the same pipeline by assigning them to different mime types.</p>
</blockquote>

<p><span id="My::WeatherTaglib"></span></p>

<h4 id="a-href-weather1-flow-png-id-weather1-flow-weather-taglib-png-img-src-images-pub-2002-04-16-axkit-weather1-flow-weather-taglib-png-alt-my-weathertaglib-39-s-position-in-the-weather1-xsp-processing-pipeline-a-my-weathertaglib"><a href="#weather1_flow.png" id="weather1_flow_weather_taglib.png"><img src="/images/_pub_2002_04_16_axkit/weather1_flow_weather_taglib.png" alt="My::WeatherTaglib&#39;s position in the weather1.xsp processing pipeline" /></a> My::WeatherTaglib</h4>

<p>Here&rsquo;s a taglib that uses <a href="https://metacpan.org/pod/Geo::Weather">Geo::Weather</a> module on CPAN to take a zip code and fetch some weather observations from <a href="https://weather.com/">weather.com</a> and convert them to XML:</p>

<pre><code>    package My::WeatherTaglib;

    $NS = &quot;http://slaysys.com/axkit_articles/weather/&quot;;
    @EXPORT_TAGLIB = ( 'report($zip)' );

    use strict;
    use Apache::AxKit::Language::XSP::TaglibHelper;
    use Geo::Weather;

    sub report { Geo::Weather-&gt;new-&gt;get_weather( @_ ) }

    1;
</code></pre>

<p>This taglib uses Steve Willer&rsquo;s <a href="https://metacpan.org/pod/Apache::AxKit::Language::XSP::TaglibHelper">TaglibHelper</a> (included with AxKit) to automate the drudgery of dealing with XML. Because of this, our example taglib distills a lot of power into a few lines of Perl. Don&rsquo;t be fooled, though, there&rsquo;s a lot going on behind the curtains with this module.</p>

<p>When a tag like <code>&lt;weather:report zip=&quot;15206&quot;/&gt;</code> is encountered in an XSP page, it will be translated into a call to <code>report( &quot;15206&quot; )</code>, the result of the call will be converted to XML and will replace the original tag in the XSP output document.</p>

<p>The <code>$NS</code> variable sets the <a href="http://www.jclark.com/xml/xmlns.htm">namespace URI</a> for the taglib; this configures XSP to direct all elements within the namespace <code>http://slaysys.com/axkit_articles/weather/</code> to My::WeatherTaglib, as we&rsquo;ll see in a bit.</p>

<blockquote>
<p>When used in an XSP page, all XML elements supplied by a taglib will have a namespace prefix. For instance, the prefix <code>weather:</code> is mapped to My::WeatherTaglib&rsquo;s namespace in the XSP page below. This prefix is not determined by the taglib&8212;we could have chosen another; this section assumes that the prefix <code>weather:</code> is used for the sake of clarity.</p>
</blockquote>

<p>The <code>@EXPORT_TAGLIB</code> specifies what functions will be exported as elements in this namespace and what parameters they accept (see <a href="https://metacpan.org/pod/Apache::AxKit::Language::XSP::TaglibHelper">the documentation</a> for details). The <code>report($zip)</code> export specification exports a tag that is invoked like <code>&lt;weather:report zip=&quot;...&quot;/&gt;</code> or</p>

<pre><code>    &lt;weather:report&gt;
        &lt;weather:zip&gt;15206&lt;/weather:zip&gt;
    &lt;/weather:report&gt;
</code></pre>

<p>The words &ldquo;report&rdquo; and &ldquo;zip&rdquo; in the <code>@TAGLIB_EXPORT</code> definition are used to determine the taglib element and attribute names; the order of the parameters in the definition determines the order they are passed in to the function. When invoking a taglib, the XML may specify the parameters in any order in the XML. The names they are specified with are not important to or visible from the Perl code by default (see the <a href="https://metacpan.org/pod/Apache::AxKit::Language::XSP::TaglibHelper">*argument function specification</a> for how to accept an XML tree if need be).</p>

<p>All that&rsquo;s left for us to do is to write the &ldquo;body&rdquo; of the taglib by <code>use()</code>ing <code>Geo::Weather</code> and writing the <code>report()</code> subroutine.</p>

<p>There are two major conveniences provided by TaglibHelper. The first is welding Perl subroutines to XML tags (via the <code>@EXPORT_TAGLIB</code> definitions). The second is converting the Perl data structure returned by <code>report()</code>, a hash reference like</p>

<pre><code>    {
      city  =&gt; &quot;Pittsburgh&quot;,
      state =&gt; &quot;PA&quot;,
      cond  =&gt; &quot;Sunny&quot;,
      temp  =&gt; 76,
      pic   =&gt; &quot;http://image.weather.com/web/common/wxicons/52/26.gif&quot;,
      url   =&gt; &quot;http://www.weather.com/search/search?where=15206&quot;,
      ...
    }
</code></pre>

<p>in to <a href="http://www.w3.org/TR/xml-fragment#defn-well-balanced">well balanced</a> XML like:</p>

<pre><code>      &lt;city&gt;Pittsburgh&lt;/city&gt;
      &lt;state&gt;PA&lt;/state&gt;
      &lt;cond&gt;Sunny&lt;/cond&gt;
      &lt;temp&gt;76&lt;/temp&gt;
      &lt;pic&gt;http://image.weather.com/web/common/wxicons/52/26.gif&lt;/pic&gt;
      &lt;url&gt;http://www.weather.com/search/search?where=15206&lt;/url&gt;
      ...
</code></pre>

<p>TaglibHelper allows plain strings, data structures and strings of well-balanced XML to be returned. By writing a single one-line subroutine that returns a Perl data structure, we&rsquo;ve written a taglib that requires no Perl expertise to use (any XHTML jock could use it safely using their favorite XML, HTML or text editor) and that can be used to serve up &ldquo;data&rdquo; responses for XML-RPC-like applications or &ldquo;text&rdquo; documents for human consumption.</p>

<blockquote>
<p>The <a href="https://metacpan.org/pod/Data::Dumper">Data::Dumper</a> module that ships with Perl is a good way to peer inside the data structures floating around in a request. Wehn run in AxKit, a quick <code>warn Dumper( $foo );</code> will dump the data structure referred to by <code>$foo</code> to the Apache error log.</p>
</blockquote>

<p>The output XML from a taglib replaces the orignal tag in the result document. In our case, the replacement XML is not too useful as-is, it&rsquo;s just data that looks a bit XMLish. Representing data structures as XML may seem awkward to Perl gurus, but it&rsquo;s quite helpful if you want to get the Perl code safely out of the way and allow others to use XML tools to work with the data.</p>

<p>The &ldquo;data documents&rdquo; from our XSP processor will upgraded in later processing stages to content that is presentable to the client; our XSP page neither knows nor cares how it is to be presented. Exporting the raw data as XML here is intended to show how to get the Perl gurus out of the critical path for content development by allowing site designers and content authors to do it.</p>

<p>Emitting structured data from XSP pages is just one approach. Taglibs can return whatever the &ldquo;best fit&rdquo; is for a given application, whether that be raw data, pieces of content or an entire article.</p>

<blockquote>
<p><a href="http://cocoon.apache.org/">Cocoon</a>, the system AxKit was primarily inspired by, uses a different approach to writing taglibs. AxKit also supports that approach, but it tends to be more awkward, so it will be examined in the next article. We&rsquo;ll also look at Jorge Walter&rsquo;s new <a href="https://metacpan.org/pod/Apache::AxKit::Language::XSP::SimpleTaglib">SimpleTaglib</a> module then, which is newer and more flexible, but less portable than the TaglibHelper module we&rsquo;re looking at here.</p>
</blockquote>

<p><span id="weather1.xsp"></span></p>

<h4 id="a-href-weather1-flow-png-id-weather1-flow-weather-xsp-png-img-src-images-pub-2002-04-16-axkit-weather1-flow-weather-xsp-png-alt-my-weathertaglib-39-s-position-in-the-weather1-xsp-processing-pipeline-a-weather1-xsp-using-my-weathertaglib"><a href="#weather1_flow.png" id="weather1_flow_weather_xsp.png"><img src="/images/_pub_2002_04_16_axkit/weather1_flow_weather_xsp.png" alt="My::WeatherTaglib&#39;s position in the weather1.xsp processing pipeline" /></a> <code>weather1.xsp</code>: Using My::WeatherTaglib</h4>

<p>Here&rsquo;s a page (<code>weather1.xsp</code>) that uses the My::WeatherTaglib and the &ldquo;standard&rdquo; XSP <a href="https://metacpan.org/pod/AxKit::XSP::Util">util taglib</a> we used in the previous article:</p>

<pre><code>    &lt;?xml-stylesheet href=&quot;NULL&quot;        type=&quot;application/x-xsp&quot;?&gt;
    &lt;?xml-stylesheet href=&quot;weather.xsl&quot; type=&quot;text/xsl&quot;         ?&gt;
    &lt;?xml-stylesheet href=&quot;as_html.xsl&quot; type=&quot;text/xsl&quot;         ?&gt;

    &lt;xsp:page
        xmlns:xsp=&quot;http://www.apache.org/1999/XSP/Core&quot;
        xmlns:util=&quot;http://apache.org/xsp/util/v1&quot;
        xmlns:param=&quot;http://axkit.org/NS/xsp/param/v1&quot;
        xmlns:weather=&quot;http://slaysys.com/axkit_articles/weather/&quot;
    &gt;
    &lt;data&gt;
      &lt;title&gt;&lt;a name=&quot;title&quot;/&gt;My weather report&lt;/title&gt;
      &lt;time&gt;
        &lt;util:time format=&quot;%H:%M:%S&quot; /&gt;
      &lt;/time&gt;
      &lt;weather&gt;
        &lt;weather:report&gt;
          &lt;!-- Get the ?zip=12345 from the URI and pass it
               to the weather:report tag as a parameter --&gt;
          &lt;weather:zip&gt;&lt;param:zip/&gt;&lt;/weather:zip&gt;
        &lt;/weather:report&gt;
      &lt;/weather&gt;

    &lt;/data&gt;
    &lt;/xsp:page&gt;
</code></pre>

<p>When <code>weather1.xsp</code> is requested, AxKit parses the <code>&lt;?xml-stylesheet ...?&gt;</code> processing instructions and uses the <code>AxAddStyleMap</code> directives to build the processing chain <a href="#weather1_flow.png">shown above</a>.</p>

<p><a href="#weather1_flow.png" id="weather1_flow_XSP.png"><img src="/images/_pub_2002_04_16_axkit/weather1_flow_XSP.png" alt="My::WeatherTaglib&#39;s position in the weather1.xsp processing pipeline" /></a></p>

<p>The XSP processor is the first processor in the pipeline. As it parses the page, it sends all elements with <code>util:</code>, <code>param:</code> or <code>weather:</code> prefixes to the <a href="https://metacpan.org/pod/AxKit::XSP::Util">Util</a>, <a href="https://metacpan.org/pod/AxKit::XSP::Param">Param</a>, and <a href="#My::WeatherTaglib">WeatherTaglib</a> taglibs. This mapping is defined by the <code>xmlns:...</code> attributes and by the namespace URIs that are hardcoded into each taglib&rsquo;s implementation (see the <code>$NS</code> variable in <a href="#My::WeatherTaglib">My::WeatherTaglib</a>).</p>

<p>In this page, the <code>&lt;util:time&gt;</code> element results in a call to Util&rsquo;s <code>get_date()</code> and the value of the <code>format=</code> attribute is passed in as a parameter. The string returned by <code>get_date()</code> is converted to XML and emitted instead of the <code>&lt;util:time&gt;</code> element in the output page. This shows how to pass simple constant parameters to a taglib.</p>

<p>We&rsquo;re getting slightly trickier with the <code>&lt;weather:report&gt;</code> element: This construct fetches the zip parameter from the request URI&rsquo;s query string (or form field) and passes it to WeatherTaglib&rsquo;s <code>report()</code> as the <code>$zip</code> parameter. Thanks to Kip Hampton for the help in using AxKit::XSP::Param in this manner.</p>

<p>Because we have the <code>AxDebugLevel</code> set to <code>10</code>, you can see these calls the compiled version of <code>weather1.xsp</code>; the generated Perl code is written to Apache&rsquo;s error log—usually <code>$SERVER_ROOT/logs/error_log</code>.</p>

<p>The <code>&lt;a name=&quot;title&quot;/&gt;</code> in the <code>&lt;title&gt;</code> element is a contrivance put in this page to show off a feature later in the processing chain. Be glad it&rsquo;s not the dreaded <code>&lt;blink&gt;</code> tag!</p>

<p><span id="XSP_out"></span><a href="#weather1_flow.png" id="weather1_flow_XSP_out.png"><img src="/images/_pub_2002_04_16_axkit/weather1_flow_XSP_out.png" alt="My::WeatherTaglib&#39;s position in the weather1.xsp processing pipeline" /></a></p>

<p>The XML document that is outputted from the XSP processor and fed to the first XSLT processor looks like (taglib output in <strong>bold</strong>):</p>

<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
    &lt;data&gt;
      &lt;title&gt;&lt;a name=&quot;title&quot;/&gt;My weather report&lt;/title&gt;
      &lt;time&gt;16:11:55&lt;/time&gt;
      &lt;weather&gt;
        &lt;state&gt;PA&lt;/state&gt;
        &lt;heat&gt;N/A&lt;/heat&gt;
        &lt;page&gt;/search/search?where=15206&lt;/page&gt;
        &lt;wind&gt;From the Southwest at 10&lt;/wind&gt;
        &lt;city&gt;Pittsburgh&lt;/city&gt;
        &lt;temp&gt;76&lt;/temp&gt;
        &lt;cond&gt;Sunny&lt;/cond&gt;
        &lt;uv&gt;2&lt;/uv&gt;
        &lt;visb&gt;Unlimited&lt;/visb&gt;
        &lt;url&gt;http://www.weather.com/search/search?where=15206&lt;/url&gt;
        &lt;dewp&gt;53&lt;/dewp&gt;
        &lt;zip&gt;15206&lt;/zip&gt;
        &lt;baro&gt;29.75&lt;/baro&gt;
        &lt;pic&gt;http://image.weather.com/web/common/wxicons/52/26.gif&lt;/pic&gt;
        &lt;humi&gt;31&lt;/humi&gt;
      &lt;/weather&gt;
    &lt;/data&gt;
</code></pre>

<p>This data is largely presentation-neutral—kindly overlook the U.S. centric temperature scale—it can be styled as needed.</p>

<blockquote>
<p>To generate this intermediate document, just commenting out all but the first <code>&lt;?xml-stylesheet ... ?&gt;</code> processing instruction and request the page like so:</p>

<pre><code>    $ lynx -source localhost:8080/02/weather1.xsp?zip=15206 | xmllint --format -
</code></pre>

<p><code>xmllint</code> is installed with the GNOMDE <code>libxsml</code> library used by various parts of AxKit.</p>

<p>When we cover how to build pipelines in more dynamic ways than using these stodgy old xml-stylesheet PIs, those techniques can be used to allow intermediate documents to be shown by varying the request URI.</p>
</blockquote>

<h4 id="span-id-weather-xsl-span-a-href-weather1-flow-png-id-weather1-flow-weather-xsl-png-img-src-images-pub-2002-04-16-axkit-weather1-flow-weather-xsl-png-alt-my-weathertaglib-39-s-position-in-the-weather1-xsp-processing-pipeline-a-weather-xsl-converting-data-to-content"><span id="weather.xsl"></span><a href="#weather1_flow.png" id="weather1_flow_weather_xsl.png"><img src="/images/_pub_2002_04_16_axkit/weather1_flow_weather_xsl.png" alt="My::WeatherTaglib&#39;s position in the weather1.xsp processing pipeline" /></a> <code>weather.xsl</code>: Converting Data to Content</h4>

<p>Here&rsquo;s how we can convert the data document emitted by the XSP processor into more human-readable text. As described <a href="#mimicry">above</a>, we&rsquo;re taking a two-step approach to simulate a &ldquo;real-world&rdquo; scenario of turning our data into chunks of content in one (reusable) step and then laying the HTML out in a second step.</p>

<p><code>weather.xsl</code> is an XSLT stylesheet that uses several templates to convert the XSP output in to something more readable:</p>

<pre><code>    &lt;xsl:stylesheet
      version=&quot;1.0&quot;
      xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;
    &gt;

    &lt;xsl:template match=&quot;/data/time&quot;&gt;
      &lt;time&gt;Hi! It's &lt;xsl:value-of select=&quot;/data/time&quot; /&gt;&lt;/time&gt;
    &lt;/xsl:template&gt;

    &lt;xsl:template match=&quot;/data/weather&quot;&gt;
      &lt;weather&gt;The weather in
        &lt;xsl:value-of select=&quot;/data/weather/city&quot; /&gt;,
        &lt;xsl:value-of select=&quot;/data/weather/state&quot;/&gt; is
        &lt;xsl:value-of select=&quot;/data/weather/cond&quot; /&gt; and
        &lt;xsl:value-of select=&quot;/data/weather/temp&quot; /&gt;F
        (courtesy of &lt;a href=&quot;{/data/weather/url}&quot;&gt;The
        Weather Channel&lt;/a&gt;).
      &lt;/weather&gt;
    &lt;/xsl:template&gt;

    &lt;xsl:template match=&quot;@*|node()&quot;&gt;
      &lt;!-- Copy the rest of the doc verbatim --&gt;
      &lt;xsl:copy&gt;
        &lt;xsl:apply-templates select=&quot;@*|node()&quot;/&gt;
      &lt;/xsl:copy&gt;
    &lt;/xsl:template&gt;

    &lt;/xsl:stylesheet&gt;
</code></pre>

<p><a href="#weather1_flow.png" id="weather1_flow_XSLT1.png"><img src="/images/_pub_2002_04_16_axkit/weather1_flow_XSLT1.png" alt="My::WeatherTaglib&#39;s position in the weather1.xsp processing pipeline" /></a> This is applied by the first XSLT processor in the pipeline.</p>

<p>The interesting thing here is that we are using <em>two</em> templates (shown in bold) to process different bits of the source XML. These templates &ldquo;blurbify&rdquo; the time and weather data in to presentable chunks and, as a side-effect, throw away unused data from the weather report.</p>

<p>The third template just passes the rest through (XSLT has some annoying qualities, one of which is that it takes a complex bit of code to simple pass things through &ldquo;as is&rdquo;). However, this is boilerplate&8212;right from the XSLT specification, in fact&8212;and need not interfere with designers creating the two templates we actually want in this stylesheet.</p>

<blockquote>
<p>Another annoying quality is that XSLT contructs look visually similar to the templates themselves. This violates the language design principle &ldquo;different things should look different,&rdquo; which is used in Perl and many other languages. This can be ameliorated by using an XSLT-aware editor or syntax hilighting to make the differences between XSLT statements and &ldquo;payload&rdquo; XML clear.</p>
</blockquote>

<p><span id="XSLT1_out"></span><a href="#weather1_flow.png" id="weather1_flow_XSLT1_out.png"><img src="/images/_pub_2002_04_16_axkit/weather1_flow_XSLT1_out.png" alt="My::WeatherTaglib&#39;s position in the weather1.xsp processing pipeline" /></a> The output from the first XSLT processor looks like (template output in <strong>bold</strong>):</p>

<pre><code>    &lt;?xml version=&quot;1.0&quot;?&gt;
    &lt;data&gt;
      &lt;title&gt;&lt;a name=&quot;title&quot;/&gt;My weather report&lt;/title&gt;
      &lt;time&gt;Hi! It's 16:50:36&lt;/time&gt;
      &lt;weather&gt;The weather in
        Pittsburgh,
        PA is
        Sunny and
        76F
        (courtesy of &lt;a href=&quot;http://www.weather.com/search/search?where=15206&quot;&gt;The
        Weather Channel&lt;/a&gt;)
      &lt;/weather&gt;
    &lt;/data&gt;
</code></pre>

<p>Now we have a set of chunks that can be placed on a Web page. This technique can be used to build sidebars, newspaper headlines, abstracts, contact lists, navigation cues, links, menus, etc., in a reusable fashion.</p>

<p><span id="as_html.xsl"></span></p>

<h4 id="a-href-weather1-flow-png-id-weather1-flow-as-html-xsl-png-img-src-images-pub-2002-04-16-axkit-weather1-flow-as-html-xsl-png-alt-my-weathertaglib-39-s-position-in-the-weather1-xsp-processing-pipeline-a-as-html-xsl-laying-out-the-page"><a href="#weather1_flow.png" id="weather1_flow_as_html_xsl.png"><img src="/images/_pub_2002_04_16_axkit/weather1_flow_as_html_xsl.png" alt="My::WeatherTaglib&#39;s position in the weather1.xsp processing pipeline" /></a> <code>as_html.xsl</code>: Laying out the page</h4>

<p>The final step in this example is to insert the chunks we&rsquo;ve built into a page of HTML using the <code>as_html.xsl</code>stylesheet:</p>

<pre><code>    &lt;xsl:stylesheet
        xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;
        version=&quot;1.0&quot;&gt;

    &lt;xsl:output method=&quot;html&quot; /&gt;

    &lt;xsl:template match=&quot;/&quot;&gt;
      &lt;html&gt;
        &lt;head&gt;
          &lt;title&gt;&lt;xsl:value-of select=&quot;/data/title&quot; /&gt;&lt;/title&gt;
        &lt;/head&gt;
        &lt;body&gt;
          &lt;h1&gt;&lt;xsl:copy-of select=&quot;/data/title/node()&quot;   /&gt;&lt;/h1&gt;
          &lt;p &gt;&lt;xsl:copy-of select=&quot;/data/time/node()&quot;    /&gt;&lt;/p&gt;
          &lt;p &gt;&lt;xsl:copy-of select=&quot;/data/weather/node()&quot; /&gt;&lt;/p&gt;
        &lt;/body&gt;
      &lt;/html&gt;
    &lt;/xsl:template&gt;

    &lt;/xsl:stylesheet&gt;
</code></pre>

<p><span id="result_doc"></span> <a href="#weather1_flow.png" id="weather1_flow_result_doc.png"><img src="/images/_pub_2002_04_16_axkit/weather1_flow_result_doc.png" alt="My::WeatherTaglib&#39;s position in the weather1.xsp processing pipeline" /></a> To generate the final HTML:</p>

<pre><code>    &lt;html&gt;
    &lt;head&gt;
    &lt;meta content=&quot;text/html; charset=UTF-8&quot; http-equiv=&quot;Content-Type&quot;&gt;
    &lt;title&gt;My weather report&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
    &lt;h1&gt;&lt;a name=&quot;title&quot;/&gt;My weather report&lt;/h1&gt;
    &lt;p&gt;Hi! It's 17:05:08&lt;/p&gt;
    &lt;p&gt;The weather in
        Pittsburgh,
        PA is
        Sunny and
        76F
        (courtesy of &lt;a href=&quot;http://www.weather.com/search/search?where=15206&quot;&gt;The
        Weather Channel&lt;/a&gt;).
    &lt;/p&gt;
    &lt;/body&gt;
    &lt;/html&gt;
</code></pre>

<p>Using the <code>/data/title</code> from the data document in two places in the result document is a minor example of the benefit of separating the original data generation from the final presentation. In the <code>&lt;title&gt;</code> element, we&rsquo;re using <code>xsl:value-of</code>, which returns just the textual content; in the <code>&lt;h1&gt;</code> element, we&rsquo;re using <code>xsl:copy-of</code>, which copies the tags and the text. This allows the title to contain markup that we strip in one place and use in another.</p>

<p>This is similar to the situation often found in real applications where things like menus, buttons, location tell-tales (&ldquo;Home &gt;&gt; Articles &gt;&gt; Foo&rdquo; and the like) and links to related pages often occur in multiple places. Widgets like these make ideal &ldquo;chunks&rdquo; that the layout page can place as needed.</p>

<p>This is only one example of a &ldquo;final rendering&rdquo; stage; different filters could be used instead to deliver different formats. For instance, we could use XSLT to deliver XML, XHTML, and/or plain text versions, or we could use an AxKit-specific processor, XPathScript, to convert to things like RTF, nroff, and miscellaneous documentation formats that XML would otherwise have a hard time delivering.</p>

<blockquote>
<p>AxKit optimizes this two-stage XSLT processing by passing the internal representation used by <code>libxslt</code> directly between the two stages. This means that output from one stage goes directly to the next stage without having to be reparsed.</p>
</blockquote>

<p><span id="real_world"></span></p>

<h4 id="relating-weather1-xsp-to-the-real-world">Relating <code>weather1.xsp</code> to the real world</h4>

<p>If you squint a little at the code in My::WeatherTaglib, then you can imagine using a <a href="https://metacpan.org/pod/DBI">DBI</a> query instead of having Geo::Weather query a remote Web site (Geo::Weather is used instead of DBI in this article to keep the example code and tarball relatively simple).</p>

<p>Writing queries and other business logic in to taglibs has several major advantages:</p>

<ul>
<li>the XML taglib API puts a designer friendly face on the queries, allowing the XSP page to be tweaked or maintained by non-Perl literate folks with their preferred tools, hopefully getting you off the &ldquo;please tweak the query parms&rdquo; critical path.</li>
<li>Since the taglib API is XML, standard XML editors will catch basic syntax errors without needing to call in the taglib maintainer.</li>
<li>Schema validators and XSLT tools can also be used to allow the designers to check the higher-level syntax before pestering the taglib maintainer.</li>
<li>The query parameters and output can be touched up with Perl, making the &ldquo;high level&rdquo; XML interface simpler and more idiot-proof.</li>
<li>The output is XML, so other XML processors can be used to enhance the content and style. This allows, for instance, XSLT literate designers to work on the presentation without needing to learn or even see (and possibly corrupt) any Perl code or a new language (as is required with most HTML templating solutions).</li>
<li>It&rsquo;s quite difficult to accidently generate malformed XML using XSP: a well-formed XSP usually generates well-formed output.</li>
<li>The queries are decoupled from the source XML, so they can be maintained without touching the XSP pages.</li>
<li>The taglibs can be unit tested, unlike embedded code.</li>
<li>Taglibs can be wrappers around existing modules, so the same Perl code can be shared by both the web front end and any other scripts or tools that need them.</li>
<li>The plug-in nature of taglibs allows using many public and private XSP taglibs facilities for rapid prototyping. CPAN&rsquo;s <a href="https://metacpan.org/search?q=XSP%3A%3A">chock full of &lsquo;em</a>.</li>
<li>In addition to the &ldquo;function&rdquo; tags like the two demostrated above, you can program &ldquo;conditional&rdquo; tags that control whether or not a block of the XSP page is included; this gives you the ability to respond to user preferences or rights, for instance.</li>
</ul>

<p>The <a href="https://metacpan.org/pod/DBI">DBI</a> module lets you work with almost any database ranging from <a href="https://metacpan.org/pod/DBD::CSV">comma separated value</a> files (with SQL JOIN support no less) through MySQL, PostgreSQL, Oracle, etc, etc., and returns Perl data structures just crying out to be returned from a taglib function and turned in to XML.</p>

<p>For quick one-off pages and prototypes, the <a href="https://metacpan.org/pod/AxKit::XSP::ESQL">ESQL</a> taglib allows you to embed SQL directly in XSP pages. This is not recommended practice because it&rsquo;s not efficient enough for heavily trafficed sites (the database connection is rebuilt each time), and because mixing programming code in with the XML leads to some pretty unreadable and hard-to-maintain pages, but it is good for one-off pages and prototypes.</p>

<p><span id="help"></span></p>

<h4 id="help-and-thanks">Help and thanks</h4>

<p>In case of trouble, have a look at some of the <a href="/pub/2002/03/12/axkit.html?page=3#help">helpful resources we listed last time</a>.</p>

<p>Thanks to Kip Hampton, Jeremy Mates and Martin Oldfield, for their thorough reviews, though I&rsquo;m sure I managed to sneak some bugs by them. AxKit and many of the Perl modules it uses are primarily written by Matt Sergeant with extensive contributions from these good folks and others, so many thanks to all contributors as well.</p>

<p>Copyright 2002, Robert Barrie Slaymaker, Jr. All Rights Reserved.</p>

              </article>
              <p><strong>Tags</strong></p>
              <div class="tags">
                <div class="category"><a href="/categories/data">data</a></div>
                
              </div>
            </div>
            
              
                
<div class="row" id="author-bio-barrie-slaymaker">
  <div class="col-sm-2">
    
    <a href="/authors/barrie-slaymaker/"><div class="circle-avatar" style="background-image:url(/images/site/avatar.png)"></div></a>
  </div>
  <div class="col-sm-10">
    <a href="/authors/barrie-slaymaker/"><h3>Barrie Slaymaker</h3></a>
    <p></p>
    <h5><a href="/authors/barrie-slaymaker/">Browse their articles</a></h5>
  </div>
</div>

            
            <div class="row">
              <h3>Feedback</h3>
              <p>Something wrong with this article? Help us out by opening an issue or pull request on <a href="https://github.com/tpf/perldotcom/blob/master/content/legacy/_pub_2002_04_16_axkit.md">GitHub</a></p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="latest-sidebar">

  <div class="row">
    <div class="col-sm-12 centering">
      <span style="font-size:1.8em" class="antonio txt-blue-major">OUR LATEST ARTICLES</span>
    </div>
  </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/the-perl-admbassador-curtis-poe/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/the-perl-ambassador-curtis-poe/curtis-poe.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>The Perl Ambassador: Curtis &#39;Ovid&#39; Poe</h6>
          <p style="line-height:1"><small>The person behind the news of Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/a-tour-with-net-ftp/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/a-tour-with-net-ftp/thumb_kidyes.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>A tour with Net::FTP</h6>
          <p style="line-height:1"><small>How to write an FTP client in Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/shortcode_test/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/author/brian-d-foy.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>shortcode_test</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/thumb_larry-wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Listen to Larry Wall&#39;s State of the Onion 2000 on YouTube</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/announcing-perl-7/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/announcing-perl-7/thumb_seven_on_blue_wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Announcing Perl 7</h6>
          <p style="line-height:1"><small>Perl 5 with modern defaults</small></p>
      </div>
        </a>
    </div>
  
</div>
<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
  <script async src="/widget/toplinks/toplinks.js" type="text/javascript"></script>
    <div id="toplinks"></div>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <a class="twitter-timeline" data-height="640" data-dnt="true" data-theme="dark" href="https://twitter.com/perlfoundation?ref_src=twsrc%5Etfw">Tweets by perlfoundation</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <script src="https://www.reddit.com/r/perl/hot/.embed?limit=10&t=all" type="text/javascript"></script>
  </div>
</div>



          </div>
        </div>
      </div>
    </section>
  </section>
<script>
 
var tables, i;
tables = document.getElementsByTagName('table');
for (i=0;i<tables.length;i++) {
  tables[i].className = 'table table-striped';
}
</script>
<div class="push"></div>
<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
        <h5>Site Map</h5>
        <ul>
        <li><a href="/">Home</a></li>
        <hr>
        <li><a href="/about">About</a></li>
        <hr>
        <li><a href="/authors">Authors</a></li>
        <hr>
        <li><a href="/categories">Categories</a></li>
        <hr>
        <li><a href="/tags">Tags</a></li>
        <hr>
        </ul>
      </div>
      <div class="col-md-3">
        <h5>Contact Us</h5>
        <p>To get in touch, send an email to: perl.com-editor@perl.org</p>
        <p><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a>
          <a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a>
          <a href="/index.xml" /><img src="/images/site/rss_20.png" alt="rss"></a>
          <a href="https://github.com/tpf/perldotcom">
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></p>
      </div>
      <div class="col-md-2">
          <h5>License</h5>
          <p>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.</p>
          <p><a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a></p>
      </div>
      <div class="col-md-5">
          <h5>Legal</h5>
          <p>Perl.com and the authors make no representations with respect to the accuracy or completeness of the contents of all work on this website and specifically disclaim all warranties, including without limitation warranties of fitness for a particular purpose. The information published on this website may not be suitable for every situation. All work on this website is provided with the understanding that Perl.com and the authors are not engaged in rendering professional services. Neither Perl.com nor the authors shall be liable for damages arising herefrom.</p>
      </div>
    </div>
  </div>
</div>
<script src="/javascript/jquery.min.js"></script>
<script src="/javascript/bootstrap.min.js"></script>
<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>
</html>

