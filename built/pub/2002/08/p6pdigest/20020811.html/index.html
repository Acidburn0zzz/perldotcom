<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title> This week on Perl 6 (week ending 2002-08-11) </title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content=" Far out in the uncharted backwaters of the unfashionable end of the Western Spiral arm of the Galaxy lies a small unregarded yellow sun. Orbiting this at a distance of roughly ninety-eight million miles is an utterly insignificant little..."/>
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="TZowffo_LX2mmsw2DbeNNbukCMnIOA8T-6CMJPiYllI" />

<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@PerlFoundation">
<meta property="og:url" content="http://localhost:1313/pub/2002/08/p6pdigest/20020811.html/" />
<meta property="og:title" content="This week on Perl 6 (week ending 2002-08-11)" />
<meta property="og:description" content=" Far out in the uncharted backwaters of the unfashionable end of the Western Spiral arm of the Galaxy lies a small unregarded yellow sun. Orbiting this at a distance of roughly ninety-eight million miles is an utterly insignificant little...">
<meta property="og:site_name" content="Perl.com" />

<meta property="og:type" content="article" />
<meta property="og:article:published_time" content="2002-08-08T08:08:08Z" />
<meta property="og:image" content="http://localhost:1313/images/author/piers-cawley.jpg" />
<meta property="og:article:tag" content="perl-6-internals-parrot" />


  <link rel="icon" href="/favicon.ico">
  <link href="/article/index.xml" rel="alternate" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/article/index.xml" rel="feed" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/perldotcom.css"/>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-50555-22', 'auto');
ga('create', 'UA-85734801-2', 'auto', 'editor');
ga('send', 'pageview');
ga('editor.send', 'pageview');
</script>

</head>
<body>

<div class="container-fluid full-wdith antonio">
 <div class="row">
  <div class="navbar-inverse" style="border-radius:none !important" role="navigation">
    <div class="container-fluid">
      <ul class="nav navbar-nav pull-right follow">
          <li>MORE:</li>
          <li><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a><li>
          <li><a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a><li>
          <li><a href="/article/index.xml" />
              <img src="/images/site/rss_20.png" alt="rss"></a></li>
          <li><a href="https://github.com/tpf/perldotcom" />
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></li>
      </ul>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          <a class="navbar-nav" href="/">
            <div class="header-logo">Perl.com</div>
          </a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/about">
              <div class="circle">
                <img src="/images/site/perl-camel.png" alt="" />
              </div>
                  &nbsp;&nbsp;ABOUT</a>
          </li>
          <li><a href="/authors">
              <div class="circle">
                  <span class="glyphicon glyphicon-user txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;AUTHORS</a>
          </li>
          <li><a href="/categories">
              <div class="circle">
                  <span class="glyphicon glyphicon-folder-open txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;CATEGORIES</a>
          </li>
          <li><a href="/tags">
              <div class="circle">
                <span class="txt-blue-major" aria-hidden="true"><strong>#</strong></span>
              </div>
                  &nbsp;&nbsp;TAGS</a>
          </li>
          <li>
            <form class="search" name="ddg" action="https://duckduckgo.com/" method="get">
              <input type="text" name ="q" placeholder="SEARCH" />
              <input type="hidden" value="perl.com" name="sites" />
            </form>
          </li>
        </ul>
      </div>
    </div>
  </div>
 </div>
</div>


  <section id="content" role="main">
    <section class="entry-content">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <div class="row">
              <article class="fulltext">
              <h1 class="blog-post-title">This week on Perl 6 (week ending 2002-08-11)</h1>
              <p class="blog-post-meta">Aug 11, 2002 by
              
              
                
                
                <a href="#author-bio-piers-cawley">Piers Cawley</a>
              
              </p>
              <img alt="" src=""/>
                

<p>Far out in the uncharted backwaters of the unfashionable end of the Western Spiral arm of the Galaxy lies a small unregarded yellow sun. Orbiting this at a distance of roughly ninety-eight million miles is an utterly insignificant little blue-green planet whose ape-descended life forms are so amazingly primitive that they still think inventing programming languages is a pretty neat idea.</p>

<p>So, as one amazingly primitive life form to another, here&rsquo;s what&rsquo;s been going on in Perl 6 development this week. As is becoming tediously traditional, we&rsquo;ll start with the internals list&hellip;</p>

<h4 id="span-id-array-vs-perlarray-array-vs-perlarray-span"><span id="array_vs._perlarray">Array vs. PerlArray</span></h4>

<p>Way back in the mists of a fortnight ago (that&rsquo;s &lsquo;two weeks&rsquo; for the unenlightened Americans among us.) Melvin Smith announced that he was thinking about copying some of the fixes that had been made to the PerlArray PMC over to array.pmc as well. This week, Steve Fink sent in a patch for an alternative approach, which makes PerlArray a subclass of Array. Being appropriately lazy, Steve also added some rather useful looking keywords to the PMC parser, which added some shiny looking OO features. He then delivered an extended, 3 post monologue in which he kept replying to himself and refining his explanation of what the patch did. When he finally stopped talking to himself Dan told him to just commit it.</p>

<p>A side point in Steve&rsquo;s discussion with himself (and Sean O&rsquo;Rourke off-list, apparently) was the idea of dramatically simplifying default.pmc so it just throws an exception for operations it doesn&rsquo;t know how to deal with, rather than trying manfully to satisfy the demands of an unreasonable programmer. Dan reckons he should go ahead and rip out the old, obsequious code.</p>

<p><a href="http://groups.google.com/groups?selm=20020806202616.GC2114%40foxglove.digital-integrity.com">http://groups.google.com/groups</a> &ndash; Start here</p>

<h4 id="span-id-unifying-pmcs-and-buffers-for-gc-unifying-pmcs-and-buffers-for-gc-span"><span id="unifying_pmcs_and_buffers_for_gc">Unifying PMCs and Buffers for GC</span></h4>

<p>Mike Lambert had stepped up to this task and gave us a brain dump of his plans. This week Jerome Vouillon wondered about the long term plans for the Garbage collector, and wondered if we knew how to implement a generational garbage collector when one has several pools. Dan&rsquo;s long term plan for the outside world is that &lsquo;GC is a black box that just works.&rsquo; Internally, he doesn&rsquo;t care, so long as it satisfies the &lsquo;just works&rsquo; criterion. Mike Lambert thinks that a generational collector shouldn&rsquo;t be too hard.</p>

<p>Josef &lsquo;how do I type &ldquo;ö&rdquo; again?&rsquo; Höök wondered how/if this would affect his matrix implementation, and when/whether his code would be merged with the current tree. Dan answered that he was a little concerned about PMCs which add code to the core, and Josef explained that he wanted to be able to reuse some of the code in some future multiarray.pmc</p>

<p><a href="http://groups.google.com/groups?selm=20020806133636.GB28828%40strontium.pps.jussieu.fr">http://groups.google.com/groups</a></p>

<p><a href="http://groups.google.com/groups?selm=Pine.GSO.4.21.0208050901150.4854-100000%40chicken.stacken.kth.se">http://groups.google.com/groups</a></p>

<h4 id="span-id-register-allocation-for-the-jit-register-allocation-for-the-jit-span"><span id="register_allocation_for_the_jit">Register allocation for the JIT</span></h4>

<p>Nicholas Clark and Daniel Grunblatt held a learned discussion about this, with particular reference to the ARM and i386 architectures. There were diagrams. And discussions of hardware documentation. It was both scary and surprisingly easy to understand. And a consensus was reached, which is nice.</p>

<p><a href="http://groups.google.com/groups?selm=20020805215944.GB301%40Bagpuss.unfortu.net">http://groups.google.com/groups</a></p>

<h4 id="span-id-stack-mark-ops-such-stack-mark-ops-such-span"><span id="stack_mark_ops_&_such">Stack mark ops &amp; such</span></h4>

<p>Dan announced that he was &lsquo;about half a step from putting pushmark, popmark, stack marks, and suchlike things into the core.&rsquo; and that this was everyone&rsquo;s opportunity to tell him what a bad idea it was. Jerome Vouillon wondered how they&rsquo;d interact with continuations and coroutines. Answer: &lsquo;Interestingly&rsquo;. Jerome offered a code sample which may be surprising, and asked Dan a hard question. Which Dan hasn&rsquo;t answered yet.</p>

<p>Melvin Smith wondered if there was a real issue with continuations, since each continuation got its own copy of the call stack. There is an issue, but it&rsquo;ll likely be solved by documenting its existence.</p>

<p><a href="http://groups.google.com/groups?selm=a05111b14b973d63571a3%40%5B63.120.19.221%5D">http://groups.google.com/groups</a></p>

<p><a href="http://groups.google.com/groups?selm=20020805084317.GA24299%40strontium.pps.jussieu.fr">http://groups.google.com/groups</a></p>

<p><a href="http://groups.google.com/groups?selm=OF7220C971.8B8F54C5-ON85256C0C.00682E2A%40boulder.ibm.com">http://groups.google.com/groups</a></p>

<h4 id="span-id-exceptions-exceptions-span"><span id="exceptions">Exceptions</span></h4>

<p>Dan posted his road map to exception handling. Or rather, he described the two ops (<code>push</code> and <code>throw</code>) needed to do exception handling, but punted on what an exception object should look like.</p>

<p>Florian Weimer wondered if it wouldn&rsquo;t be possible to handle exception objects in the throwing context. Dan reckoned that this could be problematic, which is why we&rsquo;re not going to do it &lsquo;at the moment&rsquo;.</p>

<p>Jerome wondered if we really needed the <code>pushx</code> opcode at all. Tanton Gibbs disagreed and there was some back and forth about that, and about whether it made sense to think of a <code>return</code> as an exception (it does, but only rarely, when you&rsquo;re writing your own control structures; Damian will explain more later).</p>

<p>Dan also thought that <code>pushx</code> would be necessary, and Jerome clarified his suggestion. Simon Glover wondered what happened when a program didn&rsquo;t define an exception handler and was reassured that there would be some kind of default (probably language specific) handler in place, and if an exception got past that then Parrot would handle it itself with a suitably &lsquo;big fit to STDERR&rsquo; before dying in a fit of pique.</p>

<p><a href="http://groups.google.com/groups?selm=a05111b18b97464ad4527%40%5B63.120.19.221%5D">http://groups.google.com/groups</a></p>

<p><a href="http://groups.google.com/groups?selm=20020805184917.GA25956%40strontium.pps.jussieu.fr">http://groups.google.com/groups</a> &ndash; Discussion of whether <code>pushx</code> is necessary starts here.</p>

<h4 id="span-id-regex-speedup-regex-speedup-span"><span id="regex_speedup">Regex speedup</span></h4>

<p>Angel reposted his patch to the regex subsystem, this time with appropriate diff flags. Brent Dax needed more clarification, which Angel gave; Dan accepted that, given docs and tests, the patch could go in. Angel made another patch with docs and tests, although Mike Lambert then asked for more clarification, and pointed out some issues with the <code>inline</code> keyword not being standard across all C compilers. He also wondered if Brent&rsquo;s old &lsquo;Tutorial&rsquo; docs could be updated and reinstated. Angel responded with more clarification, and a promise that the tutorial would go in when he&rsquo;d rewritten it, and commented that &lsquo;The previous Rx version had excellent documentation, so it will take a bit of time to get there.&rsquo; I don&rsquo;t think this patch has been applied yet.</p>

<p><a href="http://groups.google.com/groups?selm=200208060707.51991.afaus%40corp.vlex.com">http://groups.google.com/groups</a> &ndash; Start here.</p>

<h4 id="span-id-lexicals-and-globals-assembly-question-lexicals-and-globals-assembly-question-span"><span id="lexicals_and_globals_assembly_question">Lexicals and globals assembly question</span></h4>

<p>Brian Wheeler has been looking at <code>store_lex</code>, <code>find_lex</code>, <code>store_global</code> and <code>find_global</code> and pointed out that the <code>store_*</code> ops seemed to be the wrong way round, since the parrot rule is that the destination is always the first operand. The response to this can be summed up in one word: &ldquo;Oops.&rdquo; Brian has patched it, and added tests. Leopold Toetsch fixed things up in Builtins.pm.</p>

<p><a href="http://groups.google.com/groups?selm=1028600242.26459.3.camel%40thor">http://groups.google.com/groups</a></p>

<h4 id="span-id-questions-about-pdd03-calling-conventions-pod-questions-about-pdd03-calling-conventions-pod-span"><span id="questions_about_pdd03_calling_conventions.pod">Questions about pdd03_calling_conventions.pod</span></h4>

<p>Jonathan Sillito asked a few questions about calling conventions, and noticed that the <code>callcc</code> op appeared to be going the way of all flesh. Dan answered the questions and remarked that callcc was to be reinstated and shouldn&rsquo;t have disappeared in the first place. Sean O&rsquo;Rourke wondered why, since it could be replaced with calls to <code>invoke</code> and other cleverness. Dan agreed. So <code>callcc</code> will stay dead. (The only reason it was on the perch in the first place was because it&rsquo;d been <em>nailed</em> there.)</p>

<p><a href="http://groups.google.com/groups?selm=1028660270.5628.48.camel%40localhost.localdomain">http://groups.google.com/groups</a> &ndash; Start here</p>

<h4 id="span-id-hash-optimisations-hash-optimisations-span"><span id="hash_optimisations">Hash optimisations</span></h4>

<p>Having had a patch to remove a function call from the hash algorithm accepted, Jason Greene offered a more comprehensive set of hash optimisations. Dan applied the patch. Nicholas Clark and Steve Fink had a few questions. Nicholas wondered why a constant had been changed, and Steve worried about memory use. Dan reckoned that worrying about memory to the tune of an unsigned int + alignment bytes at the expense of speed was the wrong trade-off to make. However, the other subthread had led to a different design which saved the space and only gave a small performance hit in the less common case. Dan agreed.</p>

<p><a href="http://rt.perl.org/rt2/Ticket/Display.html?id=16032">http://rt.perl.org/rt2/Ticket/Display.html</a></p>

<h4 id="span-id-various-pmc-issues-various-pmc-issues-span"><span id="various_pmc_issues">Various PMC issues</span></h4>

<p>Stephen Rawls is still trying to write <code>tuple.pmc</code>. Which means he&rsquo;s been nosing around the sources of all the other PMCs, looking at how they do things, so, he had a bunch of questions, mostly to do with PerlNums and PerlInts. The answer to many of the questions appears to be &lsquo;the problem will go away when we get multimethod dispatch&rsquo;. Dan is pouting because he had &lsquo;wanted to go with a left-side-wins scheme, but alas correctness has trumped speed&hellip;&rsquo;. Dan has promised details of Parrot multimethods &lsquo;soonish&rsquo;.</p>

<p><a href="http://groups.google.com/groups?selm=20020807132059.72848.qmail%40web14502.mail.yahoo.com">http://groups.google.com/groups</a></p>

<p><a href="http://groups.google.com/groups?selm=a05111b59b97848ff2ee9%40%5B63.120.19.221%5D">http://groups.google.com/groups</a></p>

<h4 id="span-id-never-ending-story-keys-never-ending-story-keys-span"><span id="never_ending_story_keys">Never ending story Keys</span></h4>

<p>Josef wondered where we are with multi keyed access. Tom Hughes, who has promised to have a go at fixing things wondered if he was waiting for hell to freeze over. At which point it started &lsquo;snowing in Texas&rsquo; as Dan came through with the design. There was much rejoicing, and a snowball fight was threatened. Tom had some questions (no surprise there: when you&rsquo;re the one doing the implementation, there&rsquo;s almost never enough information). Clarification was provided, as were supplementary questions, and supplementary answers. As Blur put it so eloquently: &ldquo;Woohoo!&rdquo;</p>

<p><a href="http://groups.google.com/groups?selm=Pine.GSO.4.21.0208071500540.15346-100000%40chicken.stacken.kth.se">http://groups.google.com/groups</a></p>

<p><a href="http://groups.google.com/groups?selm=a05111b55b977c7a65606%40%5B63.120.19.221%5D">http://groups.google.com/groups</a></p>

<h4 id="span-id-hatchet-job-on-assemble-pl-the-fixup-table-hatchet-job-on-assemble-pl-the-fixup-table-span"><span id="hatchet_job_on_assemble.pl_/_the_fixup_table">Hatchet job on assemble.pl / the fixup table</span></h4>

<p>Brian Wheeler took an axe to the assembler and some associated files and asked for comments on his plans. Dan liked the sound of it, so Brian posted a patch. Leopold &ldquo;How do you pronounce&rdquo; Toetsch suggested making it a standalone library so stuff could just <code>use Assembler</code> instead of calling yet another external program. Sean O&rsquo;Rourke asked for a summary of what had changed, and Brian gave him one. (Oo er).</p>

<p><a href="http://groups.google.com/groups?selm=1028779066.11103.19.camel%40thor">http://groups.google.com/groups</a> &ndash; proposal</p>

<p><a href="http://groups.google.com/groups?selm=1028819598.18442.1.camel%40thor">http://groups.google.com/groups</a> &ndash; patch</p>

<p><a href="http://groups.google.com/groups?selm=1028832861.16081.19.camel%40wombat">http://groups.google.com/groups</a> &ndash; summary</p>

<h4 id="span-id-pmc-assignment-stuff-pmc-assignment-stuff-span"><span id="pmc_assignment_stuff">PMC assignment stuff</span></h4>

<p>Dan has been a positive goldmine of designs and specs this week. This time he offered the design for a new PMC assignment opcode. We already have <code>SET</code>, which copies the pointers and <code>CLONE</code> making a &lsquo;full clone&rsquo;, but we also need <code>ASSIGN</code> to &lsquo;stuff a value from one PMC to another&rsquo;. Peter Gibbs made a start on implementation and asked for some clarification, which was forthcoming, and then supplied a patch with his implementation, along with tests. Go Peter!</p>

<p><a href="http://groups.google.com/groups?selm=a05111b53b977b35492d3%40%5B63.120.19.221%5D">http://groups.google.com/groups</a></p>

<p><a href="http://groups.google.com/groups?selm=rt-16077-33219.1.71584723963818%40bugs6.perl.org">http://groups.google.com/groups</a></p>

<h4 id="span-id-status-on-matrix-patch-status-on-matrix-patch-span"><span id="status_on_matrix_patch">Status on matrix patch?</span></h4>

<p>Josef is worried about what&rsquo;s happening to the matrix patch. Simon Cozens used this as an opportunity to crack the worst joke yet seen on any perl6 mailing list, but Josef appears not to have seen the film and didn&rsquo;t get the joke. Anyhoo, back on the main line of the thread, the problem seems to be that in order to have things sensibly arranged, it made sense for Josef to break the <code>.pmc</code> file up into a couple of .c and .h files, along with <code>matrix.pmc</code>, but there&rsquo;s currently no scheme for multi-file PMC classes. Dan also thinks that putting code into the parrot core just to facilitate code sharing between PMCs is probably not the right answer. This appears to have opened a can of worms. Dan is searching for a bigger can &ndash; sorry &ndash; designing the infrastructure that this needs.</p>

<p><a href="http://groups.google.com/groups?selm=Pine.GSO.4.21.0208090928370.24176-100000%40chicken.stacken.kth.se">http://groups.google.com/groups</a> &ndash; Thread starts here.</p>

<p><a href="http://groups.google.com/groups?selm=86n0rwqtec.fsf%40squash.oucs.ox.ac.uk">http://groups.google.com/groups</a> &ndash; Terrible joke&hellip;</p>

<h4 id="span-id-constant-opcode-swap-ops-constant-opcode-swap-ops-span"><span id="constant_&_opcode_swap_ops">Constant &amp; opcode swap ops</span></h4>

<p>Dan offered designs to support multiple segment bytecodes, or at least, to swap in constant tables. Steve Fink wondered if it might be a good idea to wrap the interpreter in a PMC and use vtable methods to do constant table manipulations etc. Dan thinks that&rsquo;s a great idea for introspection, but worries that it&rsquo;ll slow things down if we make the interpreter itself go through those hoops all the time. Nicholas Clark also offered a few caveats (&lsquo;Are you <em>sure</em> you want to do it this way?&lsquo;, words to strike fear into the heart of any designer I think). Dan isn&rsquo;t sure.</p>

<h4 id="span-id-faster-assembler-faster-assembler-span"><span id="faster_assembler">Faster assembler</span></h4>

<p>Nicholas Clark offered a patch which makes <code>Assembler::_generate_bytecode</code> faster. By around 1.5%. Dan applied it. Sean O&rsquo;Rourke offered more tweaks. Mattia Barbon had a patch which meant that the tests could just &lsquo;use Parrot::Assembler&rsquo; rather than call assemble.pl, but the tweaks have outdated it. Dan and Nicholas asked for the patch anyway because it would make remaking it easier.</p>

<p><a href="http://rt.perl.org/rt2/Ticket/Display.html?id=16114">http://rt.perl.org/rt2/Ticket/Display.html</a></p>

<h4 id="span-id-perl-6-regexes-perl-6-regexes-span"><span id="perl_6_regexes...">Perl 6 regexes&hellip;</span></h4>

<p>Dan threw down the gauntlet of implementing Perl 6&rsquo;s regexes from Apocalypse. Sean O&rsquo;Rourke has apparently already taken it up. I think we&rsquo;ll be seeing more of this thread next week&hellip;</p>

<p><a href="http://groups.google.com/groups?selm=a05111b05b97cecb019c0%40%5B63.120.19.221%5D">http://groups.google.com/groups</a></p>

<h3 id="span-id-meanwhile-in-perl6language-meanwhile-in-perl6-language-span"><span id="meanwhile,_in_perl6language">Meanwhile, in perl6-language</span></h3>

<p>The terribly named thread about different default values of true and false rumbled on. Damian averred that code which &lsquo;relies on the poorly specified standard values of truth and falsehood <em>deserves</em> to break&rsquo;. Damian also argues that Perl ought to have a <em>proper</em> boolean type. After all, it has proper numeric and string types, and that they should be used by all built ins. (Which does lead me to wonder about code like <code>0 but true</code>). Chip reckons that the standard values of truth and falsehood aren&rsquo;t <em>that</em> badly specified, it&rsquo;s not like they&rsquo;ve ever changed since perl 1, though he does agree that a &lsquo;real&rsquo; boolean would be nice. Elsewhere in the thread, Chip worried about the scoping of operator definitions and Damian reassured him a bit.</p>

<p><a href="http://groups.google.com/groups?selm=3D4F0363.3050104%40conway.org">http://groups.google.com/groups</a></p>

<h4 id="span-id-use-of-regular-expression-on-nonstrings-use-of-regular-expression-on-non-strings-span"><span id="use_of_regular_expression_on_nonstrings">Use of regular expression on non-strings</span></h4>

<p>Threads in perl6-language seem to be longer lived than those over in internals. I wonder why? This was another thread that started last week and kept on going. David Whipp clarified his original question and various people responded. Err&hellip; I&rsquo;m not entirely sure how to summarise this one, and following the threading is a tad tricky because Mr Whipp&rsquo;s mailer doesn&rsquo;t do the <code>In-Reply-To:</code> thing.</p>

<p><a href="http://groups.google.com/groups?selm=F0DF160193C9D511B7110050DA8B7C24384755%40msexchange.intranet.fast-chip.com">http://groups.google.com/groups</a> is probably as good a place as any to start looking.</p>

<h4 id="span-id-autovivi-autovivi-span"><span id="autovivi">Autovivi</span></h4>

<p>Luke Palmer wondered how autovivification was going to work with specific reference to <code>print %foo{bar}{baz}</code>. Would <code>%foo{bar}</code> still be created if it didn&rsquo;t exist? Answer: &ldquo;NO! Thank ghod!&rdquo;. Unless Larry says otherwise.</p>

<p><a href="http://groups.google.com/groups?selm=Pine.LNX.4.33.0208051951001.10849-100000%40babylonia.flatirons.org">http://groups.google.com/groups</a></p>

<h4 id="span-id-perl-summary-for-week-ending-20020804-perl-summary-for-week-ending-2002-08-04-span"><span id="perl_summary_for_week_ending_20020804">Perl summary for week ending 2002-08-04</span></h4>

<p>See recursion. Miko O&rsquo;Sullivan queried the throw-away comment that regexes were now called &lsquo;rules&rsquo; and wondered if the term &lsquo;regex&rsquo; would be going away. It turns out that I wasn&rsquo;t quite accurate, but that Damian still reckons that &lsquo;regexes&rsquo; should be deprecated in favour of either &lsquo;rules&rsquo; or &lsquo;patterns&rsquo;, at least in his own writing. For some reason this ended up spinning off into a discussion of regular, context-free and context-dependent languages and the nitty gritty details of when an expression was regular or not. Mark J. Reed ended up posting a fine essay to the list on the differences between the various types.</p>

<p><a href="http://groups.google.com/groups?selm=97410-22002826122530518%40M2W089.mail2web.com">http://groups.google.com/groups</a></p>

<p><a href="http://groups.google.com/groups?selm=3D503FD2.6020405%40conway.org">http://groups.google.com/groups</a></p>

<p><a href="http://groups.google.com/groups?selm=20020808040500.GB17193%40charm.turner.com">http://groups.google.com/groups</a> &ndash; Mark&rsquo;s essay.</p>

<h4 id="span-id-while-in-perl-6-while-in-perl-6-span"><span id="while_<>_{_in_perl_6&rdquo;&gt;<code>while &lt;&gt; {</code> in Perl 6</span></h4>

<p>Adam Lopresto wondered if the <code>while (&lt;</code>) {&gt; idiom (with appropriate DWIMmery) would be necessary in Perl 6 since, given a lazy list implementation, one could probably get by with <code>for &lt;&gt; {</code>. Trey Harris agreed. So did Larry, sort of. He&rsquo;s leaning towards only having <code>for &lt;&gt; {...}</code> do implicit topicalisation, <code>while</code> will require you to be explicit (damn, another spamassassin trigger word&hellip;).</p>

<p><a href="http://groups.google.com/groups?selm=200208091745.g79HjnP02082%40express.cec.wustl.edu">http://groups.google.com/groups</a></p>

<p><a href="http://groups.google.com/groups?selm=Pine.LNX.4.44.0208091821370.5313-100000%40london.wall.org">http://groups.google.com/groups</a></p>

<hr />

<h3 id="span-id-in-brief-in-brief-span"><span id="in_brief">In brief</span></h3>

<p>Piers Cawley missed the point about doing copy on write of the entire stack when doing closuresque things. Various people explained, very politely that he was wrong. In a moment of selfish editorial wossname, I&rsquo;ll spare Piers&rsquo;s blushes by omitting the URL.</p>

<p>Josef added a couple of useful ops. Dan applied the patch, but wondered where the tests were. Josef has, of course, tested the ops, but Dan wants &lsquo;Comprehensive tests in <code>t/</code> for everything&rsquo; so we notice when we break things later. Nicholas Clark raised the spectre of &lsquo;The Schwern with the big stick.&rsquo; if we failed to meet that testing goal.</p>

<p>Mike Lambert posted the first of his patches which will, eventually, unify PMCs and buffers.</p>

<p>Steve Fink posted a patch to convert the hashtable from pointer based to index based, making the GC system happier. Applied.</p>

<p>Angel Faus posted a &lsquo;loop discovery&rsquo; patch for imcc which attempts to avoid array spilling whilst in an inner loop. This patch was applied. Then Leopold Toetsch pointed out a few bugs, and Angel posted another patch, which hasn&rsquo;t been applied yet.</p>

<p>Andy Dougherty sent some patches to eliminate warnings under Solaris 8. Applied.</p>

<p>Jarkko sent in more warnings patches. Applied.</p>

<p>Sean O&rsquo;Rourke offered a patch to hashes to do deep cloning. Dan asked him to hold on a sec, adding that if he hadn&rsquo;t addressed the issue inside a day or to we should nudge him. Dan, consider yourself heartily nudged.</p>

<p>Peter Gibbs has removed the <code>set_string_unicode</code> and <code>set_string_other</code> vtable methods, which are, frankly, unnecessary. Leopold caught <code>perlundef.pmc</code>, which had been missed from the original purge.</p>

<p>Jonathan Sillito offered a patch to give scratchpads a pointer to their parent pads, and ended up with a new Scratchpad PMC. Warnock&rsquo;s Dilemma applies.</p>

<p>Peter Gibbs offers <code>perlscalar.pmc</code>, Aldo Calpini asked a few questions, and Warnock currently applies.</p>

<p>Daniel Grunblatt announced that the PPC JIT is now working.</p>

<p>Dan noted that there are some size restriction &ndash; we need to make sure that our chosen INTVAL is at least as big as a pointer. Andy Dougherty pointed out some possible caveats and noted that his warnings patch gave some assistance in this area.</p>

<p>Nicholas Clark found a bug in the assembler under perl 5.005_03. Simon Glover agreed it was a bug, but nobody is quite sure how to fix it. Nicholas is working on it though.</p>

<p>Boris &ldquo;Thank heavens for cut and paste&rdquo; Tschirschwitz wondered if the headers of the various PDD (Parrot Design Documents) were kept up to date, and if he could, in general, trust the docs to be accurate. Dan reckons they should be mostly up to date. Patches are almost certainly welcome.</p>

<p>In perl6-language, Chris Dutton wondered if we&rsquo;d be able to create anonymous classes ( <code>my $foo = class {...}</code> ) in the same way as we currently create anonymous subs. Personally, I hope so. Chris worries slightly about <code>my $foo_class $foo_obj = $foo_class.new</code>, but I think he&rsquo;s getting his compile time and runtime constructs mixed up. But what do I know?</p>

<p>SpamAssassin marked last weeks summary as spam in some mailboxes. John Porter suggested that &lsquo;Maybe people should add SpamAssassin rule that deducts 5 points if the message contains /leon brocard/ ?&rsquo;</p>

<hr />

<h3 id="span-id-who-s-who-in-perl-6-who-s-who-in-perl-6-span"><span id="who's_who_in_perl_6">Who&rsquo;s who in Perl 6</span></h3>

<p><strong><span id="item_who_are_you%3f">Who are you?</span></strong><br />
Dave Mitchell. I work for a small UK-based software company.</p>

<p><strong><span id="item_what_do_you_do_for%2fwith_perl_6%3f">What do you do for/with Perl 6?</span></strong><br />
I wrote PDD7 (coding standards), then got sidetracked into fixing perl 5 instead. I intend to get more involved in Perl 6 post 5.8.0 release.</p>

<p><strong><span id="item_where_are_you_coming_from%3f">Where are you coming from?</span></strong><br />
Sheffield?</p>

<p><strong><span id="item_when_do_you_think_perl_6_will_be_released%3f">When do you think Perl 6 will be released?</span></strong><br />
In about 2 years, then ready for production use in a further year.</p>

<p><strong><span id="item_why_are_you_doing_this%3f">Why are you doing this?</span></strong><br />
Because I love Perl and want to contribute to OSS development</p>

<p><strong><span id="item_you_have_5_words%2e_describe_yourself%2e">You have 5 words. Describe yourself.</span></strong><br />
Lazy, apathetic, enjoyerofbugfixing, unsufferinggladlyoffools, rabidsceptic.</p>

<p><strong><span id="item_do_you_have_anything_to_declare%3f">Do you have anything to declare?</span></strong><br />
My lack of genius?</p>

<hr />

<h3 id="span-id-acknowledgements-corrections-threats-and-funding-drives-acknowledgements-corrections-threats-and-funding-drives-span"><span id="acknowledgements,_corrections,_threats_and_funding_drives">Acknowledgements, corrections, threats and funding drives</span></h3>

<p>Nicholas Clark would just like to clarify that, as far as right shifts of signed integers go, we should offer both arithmetic and logical right shifts. He doesn&rsquo;t appear to have any preference about which should be the default.</p>

<p>This summary was again prepared with the aid of GNER tea, supplemented this week by a ham and cheese toasted sandwich, the toasted sandwich of the gods (though their bacon and tomato toastie also has its adherents I remain faithful to good old ham and cheese.)</p>

<p>Thanks are also due to the wonderful Pete Sergeant, and to a certain person who I&rsquo;ll not mention again (but his favourite colour is orange) for their excellent proofreading skills. Anything which may have snuck past them (especially in this paragraph) is, of course, entirely my fault.</p>

<p>If your name appears in this, or any previous summary and you&rsquo;ve still not sent me your answers to the perl6 questionnaire, please consider doing so. My &ldquo;Perl 6 Who&rsquo;s who?&rdquo; archive hasn&rsquo;t run out yet, but it&rsquo;d be good to know that I&rsquo;d got a good supply to fall back on.</p>

<p>Still no T?iBook, but this week&rsquo;s haul of egoboo is well up there. Many thanks to the flatterers in <a href="mailto:perl-golf@perl.org.">perl-golf@perl.org.</a></p>

<p>If you didn&rsquo;t like this summary, write your own. Go on, I dare you. If you did like it, send money to the Perl Foundation at <a href="http://donate.perl-foundation.org/">http://donate.perl-foundation.org/</a> and remember, suitably large donations will earn you or your company a plug in a future summary. (You have to let me know though). See last week for details. And you&rsquo;ll be helping to fund the next generation of Perl, which will give you the warm fuzzies and a general feeling of virtue and well being. In the words of Mrs Doyle, &ldquo;Go on, go on, go on, go on!&rdquo;</p>

              </article>
              <p><strong>Tags</strong></p>
              <div class="tags">
                <div class="category"><a href="/categories/perl-6">perl-6</a></div>
                
                  <div class="tag"><a href="/tags/perl-6-internals-parrot">perl-6-internals-parrot</a></div>
                
              </div>
            </div>
            
              
                
<div class="row" id="author-bio-piers-cawley">
  <div class="col-sm-2">
    
    <a href="/authors/piers-cawley/"><div class="circle-avatar" style="background-image:url(/images/author/piers-cawley.jpg)"></div></a>
  </div>
  <div class="col-sm-10">
    <a href="/authors/piers-cawley/"><h3>Piers Cawley</h3></a>
    <p></p>
    <h5><a href="/authors/piers-cawley/">Browse their articles</a></h5>
  </div>
</div>

            
            <div class="row">
              <h3>Feedback</h3>
              <p>Something wrong with this article? Help us out by opening an issue or pull request on <a href="https://github.com/tpf/perldotcom/blob/master/content/legacy/_pub_2002_08_p6pdigest_20020811.md">GitHub</a></p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="latest-sidebar">

  <div class="row">
    <div class="col-sm-12 centering">
      <span style="font-size:1.8em" class="antonio txt-blue-major">OUR LATEST ARTICLES</span>
    </div>
  </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/the-perl-admbassador-curtis-poe/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/the-perl-ambassador-curtis-poe/curtis-poe.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>The Perl Ambassador: Curtis &#39;Ovid&#39; Poe</h6>
          <p style="line-height:1"><small>The person behind the news of Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/a-tour-with-net-ftp/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/a-tour-with-net-ftp/thumb_kidyes.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>A tour with Net::FTP</h6>
          <p style="line-height:1"><small>How to write an FTP client in Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/shortcode_test/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/author/brian-d-foy.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>shortcode_test</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/thumb_larry-wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Listen to Larry Wall&#39;s State of the Onion 2000 on YouTube</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/announcing-perl-7/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/announcing-perl-7/thumb_seven_on_blue_wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Announcing Perl 7</h6>
          <p style="line-height:1"><small>Perl 5 with modern defaults</small></p>
      </div>
        </a>
    </div>
  
</div>
<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
  <script async src="/widget/toplinks/toplinks.js" type="text/javascript"></script>
    <div id="toplinks"></div>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <a class="twitter-timeline" data-height="640" data-dnt="true" data-theme="dark" href="https://twitter.com/perlfoundation?ref_src=twsrc%5Etfw">Tweets by perlfoundation</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <script src="https://www.reddit.com/r/perl/hot/.embed?limit=10&t=all" type="text/javascript"></script>
  </div>
</div>



          </div>
        </div>
      </div>
    </section>
  </section>
<script>
 
var tables, i;
tables = document.getElementsByTagName('table');
for (i=0;i<tables.length;i++) {
  tables[i].className = 'table table-striped';
}
</script>
<div class="push"></div>
<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
        <h5>Site Map</h5>
        <ul>
        <li><a href="/">Home</a></li>
        <hr>
        <li><a href="/about">About</a></li>
        <hr>
        <li><a href="/authors">Authors</a></li>
        <hr>
        <li><a href="/categories">Categories</a></li>
        <hr>
        <li><a href="/tags">Tags</a></li>
        <hr>
        </ul>
      </div>
      <div class="col-md-3">
        <h5>Contact Us</h5>
        <p>To get in touch, send an email to: perl.com-editor@perl.org</p>
        <p><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a>
          <a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a>
          <a href="/index.xml" /><img src="/images/site/rss_20.png" alt="rss"></a>
          <a href="https://github.com/tpf/perldotcom">
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></p>
      </div>
      <div class="col-md-2">
          <h5>License</h5>
          <p>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.</p>
          <p><a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a></p>
      </div>
      <div class="col-md-5">
          <h5>Legal</h5>
          <p>Perl.com and the authors make no representations with respect to the accuracy or completeness of the contents of all work on this website and specifically disclaim all warranties, including without limitation warranties of fitness for a particular purpose. The information published on this website may not be suitable for every situation. All work on this website is provided with the understanding that Perl.com and the authors are not engaged in rendering professional services. Neither Perl.com nor the authors shall be liable for damages arising herefrom.</p>
      </div>
    </div>
  </div>
</div>
<script src="/javascript/jquery.min.js"></script>
<script src="/javascript/bootstrap.min.js"></script>
<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>
</html>

