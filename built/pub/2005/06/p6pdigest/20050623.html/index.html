<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title> This Week in Perl 6, June 8-21, 2005 </title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content=" Surprise! It&#39;s me again. You may be wondering what happened to last week&#39;s summary (I know I was) and where Matt had gone. Well, I&#39;m not entirely sure where exactly he is now, but last week was moving week..."/>
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="TZowffo_LX2mmsw2DbeNNbukCMnIOA8T-6CMJPiYllI" />

<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@PerlFoundation">
<meta property="og:url" content="http://localhost:1313/pub/2005/06/p6pdigest/20050623.html/" />
<meta property="og:title" content="This Week in Perl 6, June 8-21, 2005" />
<meta property="og:description" content=" Surprise! It&#39;s me again. You may be wondering what happened to last week&#39;s summary (I know I was) and where Matt had gone. Well, I&#39;m not entirely sure where exactly he is now, but last week was moving week...">
<meta property="og:site_name" content="Perl.com" />

<meta property="og:type" content="article" />
<meta property="og:article:published_time" content="2005-06-06T06:06:06Z" />
<meta property="og:image" content="http://localhost:1313/images/author/piers-cawley.jpg" />
<meta property="og:article:tag" content="compiler" />
<meta property="og:article:tag" content="internals" />
<meta property="og:article:tag" content="parrot" />
<meta property="og:article:tag" content="perl-6" />
<meta property="og:article:tag" content="pge" />
<meta property="og:article:tag" content="pugs" />
<meta property="og:article:tag" content="vm-development" />


  <link rel="icon" href="/favicon.ico">
  <link href="/article/index.xml" rel="alternate" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/article/index.xml" rel="feed" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/perldotcom.css"/>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-50555-22', 'auto');
ga('create', 'UA-85734801-2', 'auto', 'editor');
ga('send', 'pageview');
ga('editor.send', 'pageview');
</script>

</head>
<body>

<div class="container-fluid full-wdith antonio">
 <div class="row">
  <div class="navbar-inverse" style="border-radius:none !important" role="navigation">
    <div class="container-fluid">
      <ul class="nav navbar-nav pull-right follow">
          <li>MORE:</li>
          <li><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a><li>
          <li><a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a><li>
          <li><a href="/article/index.xml" />
              <img src="/images/site/rss_20.png" alt="rss"></a></li>
          <li><a href="https://github.com/tpf/perldotcom" />
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></li>
      </ul>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          <a class="navbar-nav" href="/">
            <div class="header-logo">Perl.com</div>
          </a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/about">
              <div class="circle">
                <img src="/images/site/perl-camel.png" alt="" />
              </div>
                  &nbsp;&nbsp;ABOUT</a>
          </li>
          <li><a href="/authors">
              <div class="circle">
                  <span class="glyphicon glyphicon-user txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;AUTHORS</a>
          </li>
          <li><a href="/categories">
              <div class="circle">
                  <span class="glyphicon glyphicon-folder-open txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;CATEGORIES</a>
          </li>
          <li><a href="/tags">
              <div class="circle">
                <span class="txt-blue-major" aria-hidden="true"><strong>#</strong></span>
              </div>
                  &nbsp;&nbsp;TAGS</a>
          </li>
          <li>
            <form class="search" name="ddg" action="https://duckduckgo.com/" method="get">
              <input type="text" name ="q" placeholder="SEARCH" />
              <input type="hidden" value="perl.com" name="sites" />
            </form>
          </li>
        </ul>
      </div>
    </div>
  </div>
 </div>
</div>


  <section id="content" role="main">
    <section class="entry-content">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <div class="row">
              <article class="fulltext">
              <h1 class="blog-post-title">This Week in Perl 6, June 8-21, 2005</h1>
              <p class="blog-post-meta">Jun 23, 2005 by
              
              
                
                
                <a href="#author-bio-piers-cawley">Piers Cawley</a>
              
              </p>
              <img alt="" src=""/>
                

<p>Surprise! It&rsquo;s me again. You may be wondering what happened to last week&rsquo;s summary (I know I was) and where Matt had gone. Well, I&rsquo;m not entirely sure where exactly he is now, but last week was moving week for him.</p>

<p>Those of you reading this on the mailing lists may also be wondering why this summary is so late. Um &hellip; three words: <em>World of Warcraft</em>.</p>

<h3 id="this-week-in-perl6-compiler">This Week in <em>perl6-compiler</em></h3>

<p>As a summarizer, when you see the &ldquo;last fortnight&rdquo; view of a mailing list containing 21 messages, several thoughts spring, unbidden, to your mind: &ldquo;Is my mail broken again?&rdquo; &ldquo;Has everyone given up?&rdquo; &ldquo;Phew, this group won&rsquo;t take long to do.&rdquo;</p>

<p>It turns out that the answer to both of those questions is &ldquo;No.&rdquo; What actually happened was that most of the stuff that normally happens in mail happened at the Austrian Perl Workshop and Leo Tötsch&rsquo;s house, with a side order of IRC conversation and a bunch of spinoff threads in <em>p6l</em> and <em>p6i</em>.</p>

<p>In the last fortnight, <a href="http://use.perl.org/~autrijus/journal/">Pugs reached the point where it has a (mostly) working Parrot back end, and</a> BÁRTHAZI Andras wondered if we shouldn&rsquo;t <a href="http://aspn.activestate.com/ASPN/Mail/Message/perl6-language/2622861">start a <em>perl6-general</em> mailing list</a>.</p>

<h3 id="this-week-in-perl6-internals">This Week in <em>perl6-internals</em></h3>

<p>140 messages in this one. <em>p6c</em> lulled me into a false sense of security. Again, you may notice a bewilderingly fast rate of change this summary. It turns out that they weren&rsquo;t just working on Pugs at Leo&rsquo;s house. Perl 6 Hackathons give great productivity.</p>

<h4 id="this-is-not-your-father-s-parrot">This Is Not Your Father&rsquo;s Parrot</h4>

<p>There&rsquo;s been some serious work going on under the Parrot hood in the last two weeks. Leo and Chip have drastically reworked the calling conventions, which now use four new opcodes: <code>set_args</code>, <code>set_returns</code>, <code>get_params</code>, and <code>get_results</code>. At the time of writing, IMCC doesn&rsquo;t give you full syntactic help with them, but they&rsquo;re easy enough to use explicitly for the time being and the help is getting there. Check out the <a href="http://svn.perl.org/parrot/trunk/docs/pdds/pdd03_calling_conventions.pod">Parrot Calling Conventions PDD</a> for details.</p>

<p>Also getting rejigged is the continuation/register frame architecture. Taking advantage of the fact that this is a <em>virtual</em> machine, we now have an unlimited number of registers per register frame. Combine this with the new calling conventions, in which arguments are passed outside of the register frame, and all of a sudden a full continuation becomes a simple pointer to the register frame and everything gets saved as if by magic, which opens up a whole bunch of possibilities, which has interesting implications for the register allocator.</p>

<p><a href="http://use.perl.org/~chip/journal/">Chip&rsquo;s design notes</a></p>

<h4 id="new-generational-gc-scheme-http-groups-google-com-groups-threadm-41b037ed050608072845298c13-mail-gmail-com"><a href="http://groups.google.com/groups?threadm=41b037ed050608072845298c13@mail.gmail.com">New Generational GC Scheme</a></h4>

<p>Alexandre Buisse posted his outline for a Google Summer of Code project to implement a shiny new Generational Garbage Collection scheme. Discussion of tunability and threading issues followed.</p>

<h4 id="ordered-hashes-more-thoughts-http-groups-google-com-groups-threadm-493a37523a8d17448240da1ddde924b4044d9040-msgboscld2win-dmn1-fmr-com"><a href="http://groups.google.com/groups?threadm=493A37523A8D17448240DA1DDDE924B4044D9040@MSGBOSCLD2WIN.DMN1.FMR.COM">Ordered Hashes: More Thoughts</a></h4>

<p>Steve Tolkin helpfully provided a summary of his thoughts about ordered hashes: &ldquo;An ordered hash that does not support deletes could cause a user-visible bug. At a minimum, it should support the special case of delete that is supported by the Perl <code>each()</code> operator.&rdquo; Dan pointed out that reusing the ordered hash code for anything other than the lexical pad it was specifically implemented for was just looking for trouble.</p>

<h4 id="the-thread-that-i-really-hoped-matt-would-be-summarizing-http-groups-google-com-groups-threadm-20050612111515-ga19372-tytlal-topaz-cx"><a href="http://groups.google.com/groups?threadm=20050612111515.GA19372@tytlal.topaz.cx">The Thread That I Really Hoped Matt Would Be Summarizing</a></h4>

<p>AKA &ldquo;Attack of the 50-foot register allocator vs. the undead continuation monster.&rdquo; Piers Cawley and Chip had something of a disagreement about interactions between continuations and the register allocator. After discussion on IRC, it became apparent that they were talking past each other. The new &ldquo;the register frame is the continuation&rdquo; means that yes, the register allocator definitely can&rsquo;t rely on being able to reuse registers that persist over function calls, but that&rsquo;s all right because you can always grab more registers.</p>

<h4 id="missing-mmd-default-functions-http-groups-google-com-groups-threadm-20050612113805-gc19372-tytlal-topaz-cx"><a href="http://groups.google.com/groups?threadm=20050612113805.GC19372@tytlal.topaz.cx">Missing MMD Default Functions</a></h4>

<p>Remember the missing multimethod functions I mentioned last time? At the time, Chip hadn&rsquo;t ruled on whether taking them out was the Right Thing or not. He has since ruled that it was.</p>

<p>This is probably not quite the right place to suggest this, but what the heck. Maybe in future when planning user visible changes of this sort, they should spend at least one release period deprecated and throwing warnings when used.</p>

<h4 id="pge-namespaced-rules-http-groups-google-com-groups-threadm-42aa039b-8030000-coleda-com"><a href="http://groups.google.com/groups?threadm=42AA039B.8030000@coleda.com">PGE, Namespaced Rules</a></h4>

<p>William Coleda worried that PGE subrules appear to be globally scoped. It turns out that Patrick worries, too, but is currently in the process of thrashing out how to scope them. He outlined his current thinking.</p>

<h4 id="pmcs-and-objects-question-http-groups-google-com-groups-threadm-42aa13d4-1010201-home-nl"><a href="http://groups.google.com/groups?threadm=42AA13D4.1010201@home.nl">PMCs and Objects Question</a></h4>

<p>Klaas-Jan Stol wondered about the possibilities of overriding PMC behavior with Parrot classes. He outlined possibilities and wondered if he was correct. Chip thought that it should be possible to implement (for instance) Perl&rsquo;s datatypes in pure PIR, if only for debugging and fun. I&rsquo;m still not entirely sure if it&rsquo;s possible to make a <code>ParrotClass</code> that inherits from a PMC, though.</p>

<h4 id="software-transactional-memory-http-groups-google-com-groups-threadm-rt-3-0-11-36250-115576-12-1956142453591-perl-org"><a href="http://groups.google.com/groups?threadm=rt-3.0.11-36250-115576.12.1956142453591@perl.org">Software Transactional Memory</a></h4>

<p>It seems the design team have drunk deeply of the Software Transaction Memory (STM) Kool Aid. STM is, to quote Chip, a &ldquo;wicked cool&rdquo; way of doing threading. Expect a more-fleshed-out design document eventually.</p>

<h4 id="parrot-bc-http-groups-google-com-groups-threadm-1579101353-20050611234913-rblasch-org"><a href="http://groups.google.com/groups?threadm=1579101353.20050611234913@rblasch.org">Parrot <code>bc</code></a></h4>

<p>According to the configuration scripts, Parrot looks for the GNU version of <code>bc</code> solely for checking that Parrot <code>bc</code> is working. This is all very well, but there is no Parrot implementation of <code>bc</code> in the SVN repository. Apparently, there&rsquo;s a broken version of it sitting on Bernhard Schmalhofer&rsquo;s local hard disk.</p>

<p>None of which addressed the issue of why, even with a &ldquo;working&rdquo; version, the tests need to access GNU <code>bc</code>. Surely it&rsquo;s possible to write tests statically. The only time you&rsquo;d need an authoritative version would be when you were adding tests. Oops, editorializing again.</p>

<h4 id="substituting-for-pge-http-groups-google-com-groups-threadm-42abb476-3030109-coleda-com"><a href="http://groups.google.com/groups?threadm=42ABB476.3030109@coleda.com">Substituting for PGE</a></h4>

<p>Will Coleda wondered if it was possible to do substitutions with PGE yet. &ldquo;Yes, sort of,&rdquo; Patrick replied. You can substitute the first occurrence by grabbing the match data and using <code>substr</code>. Everything else is for another day.</p>

<h4 id="unexpected-behavior-calling-method-http-groups-google-com-groups-threadm-42ac11c4-9000501-home-nl"><a href="http://groups.google.com/groups?threadm=42AC11C4.9000501@home.nl">Unexpected Behavior Calling Method</a></h4>

<p>Klaas-Jan Stol had some problems implementing delegated addition. Apparently it&rsquo;s because the signatures of the <code>__add</code> methods caught him out. Also, it&rsquo;s a really bad idea to delegate to a method called <code>__add</code>, because Parrot expects some very particular behavior from it. Think about calling it <code>add</code> instead.</p>

<h4 id="parrot-goals-and-priorities-http-groups-google-com-groups-threadm-20050612103228-gi4954-tytlal-topaz-cx"><a href="http://groups.google.com/groups?threadm=20050612103228.GI4954@tytlal.topaz.cx">Parrot Goals and Priorities</a></h4>

<p>Chip&rsquo;s put the slides of his Austrian Perl Workshop talk on <a href="http://feather.perl6.nl/~chip/Chip_APW.pdf">the Parrot project and its priorities</a> up on feather. Check them out; they&rsquo;re good.</p>

<h4 id="new-todos-http-rt-perl-org-rt3-search-listing-html-bookmark-frt-3b-404-7c-258-7c-242-7c10-242-7c11-241-7c7-241-7c9-258-7c-2411-7cdescription-245-7cfield-248-7coperator-245-7cvalue-2418-7cstatus-20-21-3d-20resolved-246-7cstatus-242-7c-21-3d-248-7cresolved-258-7c-2411-7cdescription-245-7cfield-248-7coperator-245-7cvalue-2418-7cstatus-20-21-3d-20rejected-246-7cstatus-242-7c-21-3d-248-7crejected-258-7c-2411-7cdescription-245-7cfield-248-7coperator-245-7cvalue-2414-7cqueue-20-3d-20parrot-245-7cqueue-241-7c-3d-246-7cparrot-258-7c-2411-7cdescription-245-7cfield-248-7coperator-245-7cvalue-2417-7csubject-20like-20todo-247-7csubject-244-7clike-244-7ctodo-242-7c12-241-7c0-241-7c0-ticketssortby-created-ticketssortorder-desc-rowsperpage-50"><a href="http://rt.perl.org/rt3/Search/Listing.html?Bookmark=FrT%3B%404%7C%258%7C%242%7C10%242%7C11%241%7C7%241%7C9%258%7C%2411%7CDESCRIPTION%245%7CFIELD%248%7COPERATOR%245%7CVALUE%2418%7CStatus%20%21%3D%20resolved%246%7CStatus%242%7C%21%3D%248%7Cresolved%258%7C%2411%7CDESCRIPTION%245%7CFIELD%248%7COPERATOR%245%7CVALUE%2418%7CStatus%20%21%3D%20rejected%246%7CStatus%242%7C%21%3D%248%7Crejected%258%7C%2411%7CDESCRIPTION%245%7CFIELD%248%7COPERATOR%245%7CVALUE%2414%7CQueue%20%3D%20parrot%245%7CQueue%241%7C%3D%246%7Cparrot%258%7C%2411%7CDESCRIPTION%245%7CFIELD%248%7COPERATOR%245%7CVALUE%2417%7CSubject%20LIKE%20TODO%247%7CSubject%244%7CLIKE%244%7CTODO%242%7C12%241%7C0%241%7C0&amp;TicketsSortBy=Created&amp;TicketsSortOrder=DESC&amp;RowsPerPage=50">New TODOs</a></h4>

<p>Will Coleda&rsquo;s been busy injecting a bunch of handy TODO items in the Parrot RT system. Check &lsquo;em out, you might be able to do some of them.</p>

<h4 id="new-list-for-pirate-http-groups-google-com-groups-threadm-pine-lnx-4-62-0506122306160-11002-hydrogen-sabren-com"><a href="http://groups.google.com/groups?threadm=Pine.LNX.4.62.0506122306160.11002@hydrogen.sabren.com">New List for Pirate</a></h4>

<p>Michal Wallace announced the creation of <a href="http://cornerhost.com/mailman/listinfo/pirate">a new list for work on Pirate</a>, a Python compiler for Parrot. If Python on Parrot is your bag, I suggest you sign up.</p>

<h4 id="adding-methods-to-existing-classes-http-groups-google-com-groups-threadm-20050615203833-gc7329-pmichaud-com"><a href="http://groups.google.com/groups?threadm=20050615203833.GC7329@pmichaud.com">Adding Methods to Existing Classes</a></h4>

<p>Patrick wondered how to add methods to existing classes. It turns out that the trick is to use <code>find_type</code> instead of <code>findclass</code>. According to Leo, <code>findclass</code> is deprecated.</p>

<h3 id="meanwhile-in-perl6-language">Meanwhile, in <em>perl6-language</em></h3>

<p>Hmm. 1242 GMT+1 on Thursday as I write this, and there are, oh, 246 messages in <em>perl6-language</em>. This could get sketchy.</p>

<h4 id="reduce-metaoperator-on-an-empty-list">Reduce Metaoperator on an Empty List</h4>

<p>Wow! The &ldquo;Reduce metaoperator on an empty list&rdquo; discussion is still going.</p>

<h4 id="return-in-pointy-type-blocks-http-aspn-activestate-com-aspn-mail-message-perl6-language-2617767"><a href="http://aspn.activestate.com/ASPN/Mail/Message/perl6-language/2617767"><code>return()</code> in Pointy Type Blocks</a></h4>

<p>Much to my personal chagrin, it looks like <code>return()</code> inside a of pointy block will use an escape continuation and will probably be picky about making sure that you can only invoke the pointy block from somewhere dynamically &ldquo;below&rdquo; the block in which it was created. This means no cunning tricks like:</p>

<pre><code>sub call_with_current_continuation(Code $code) {
  $code({ return $^cc })
}
</code></pre>

<p>which is probably a good thing.</p>

<h4 id="caller-and-want-http-aspn-activestate-com-aspn-mail-message-perl6-language-2619348"><a href="http://aspn.activestate.com/ASPN/Mail/Message/perl6-language/2619348"><code>caller</code> and <code>want</code></a></h4>

<p>Gaal Yahas asked for clarification about the behavior of the <code>caller</code> builtin. Larry provided it.</p>

<h4 id="musing-on-registerable-event-handlers-for-some-specific-events-http-aspn-activestate-com-aspn-mail-message-perl6-language-2619327"><a href="http://aspn.activestate.com/ASPN/Mail/Message/perl6-language/2619327">Musing on Registerable Event Handlers for Some Specific Events</a></h4>

<p>Adam Kennedy hoped that Perl 6 would have some sort of minimal set of hooks for handling events. (Personally, I&rsquo;d like a maximal set of hooks for anything that changes the runtime structure of Perl, but I&rsquo;m greedy like that.) Larry said that there would be such a thing, but that it wasn&rsquo;t designed yet. He appeared to volunteer Adam as an initial designer. Discussion ensued, but there&rsquo;s no concrete design yet. Slightly tangentially, Dan discussed his <a href="http://www.sidhe.org/~dan/blog/archives/000414.html">thoughts about a Parrot notifications manager</a> on his blog, which might be useful to some.</p>

<h4 id="speed-bump-placement-http-aspn-activestate-com-aspn-mail-message-perl6-language-2621258"><a href="http://aspn.activestate.com/ASPN/Mail/Message/perl6-language/2621258">Speed Bump Placement</a></h4>

<p>In a thread discussing adding an <code>eval STRING</code>-type behavior to the right-hand side of a substitution, Larry said that &ldquo;Deciding where (and where not) to put the speed bumps is a pretty good description of my job. It&rsquo;s impossible to have a language without bumps, so I reserve the right to put the necessary bumps where I think they&rsquo;ll do the most good and/or least harm.&rdquo;</p>

<p>Well, I thought that was worth reading by more than just the list subscribers.</p>

<h4 id="mmd-vs-anonymous-parameter-types-referencing-early-parameters-http-aspn-activestate-com-aspn-mail-message-perl6-language-2622814"><a href="http://aspn.activestate.com/ASPN/Mail/Message/perl6-language/2622814">MMD Vs. Anonymous Parameter Types Referencing Early Parameters</a></h4>

<p>Chip threw up his hands and despaired of ever efficiently implementing:</p>

<pre><code>  multi sub is_equal(Integer $a, Integer where { $_ == $a } $b: ) { 1 }
</code></pre>

<p>Which is cute, but Chip claims you need Jedi mind powers if you want to make it work.</p>

<p>Then Thomas Sandlaß popped up to say that actually, there was already a language called Cecil that allowed you to do precisely that sort of thing (called Predicate Dispatch) and there were several efficient implementation strategies. After a nudge from Chip, he even provided a link. Larry thought it eminently doable, too, and sketched out a strategy.</p>

<p>That strategy (which applies almost everywhere in Perl, when you think about) boils down to &ldquo;If you can&rsquo;t do it at compile time, do it at runtime (and pretend you did it at runtime).&rdquo;</p>

<h4 id="state-of-the-design-documents-http-aspn-activestate-com-aspn-mail-message-perl6-language-2620863"><a href="http://aspn.activestate.com/ASPN/Mail/Message/perl6-language/2620863">State of the Design Documents</a></h4>

<p>Joshua Gatcomb worries about the state of the synopses. He argued (quite persuasively) that the thing to do would be to put the synopses into public change control with global read access, but with write access limited to @Larry. The community could then provide new documentation in the form of patches, which @Larry would approve, reject, or modify as appropriate, which all hangs on whether @Larry has sufficient tuits.</p>

<p>Patrick pointed out that this already exists and that he had volunteered as gatekeeper and patch dispatcher, but that there were very few patches so far. But now you all know about it, right?</p>

<p>Some discussion followed about how to flesh out things, but the important thing is the <a href="http://svn.perl.org/perl6/doc/trunk">Perl 6 design document repository</a> URL.</p>

<h4 id="how-much-do-we-close-over-http-aspn-activestate-com-aspn-mail-message-perl6-language-2621742"><a href="http://aspn.activestate.com/ASPN/Mail/Message/perl6-language/2621742">How Much Do We Close Over?</a></h4>

<p>Piers Cawley wants to be able to write code like:</p>

<pre><code>sub foo { my $x = 1; return sub { eval $^codestring } }
say foo().('$x'); # 1
</code></pre>

<p>In Perl 5, this gives warnings about an undeclared variable. Chip maintained that this is actually the Right Thing. Piers understood that it may not be the right thing in all cases, but he wanted to be able to make it work when needed, if necessarily, with predeclaration. There was some discussion, but nothing from @Larry yet.</p>

<h4 id="begin-and-io-http-aspn-activestate-com-aspn-mail-message-perl6-language-2622126"><a href="http://aspn.activestate.com/ASPN/Mail/Message/perl6-language/2622126"><code>BEGIN {...}</code> and IO</a></h4>

<p>Ingo Blechschmidt noted that that <code>BEGIN {...}</code> can be a little scary when you want to compile to bytecode. Consider:</p>

<pre><code>my $fh = BEGIN { open &quot;some_file&quot; err ... }
</code></pre>

<p>This is okay, until you have a version of Perl that compiles that to bytecode. The response ran along the lines of &ldquo;Don&rsquo;t do that, then!&rdquo;</p>

<p>Personally I&rsquo;d write that as:</p>

<pre><code>my $fh = INIT { open &quot;some_file&quot; err ... }
</code></pre>

<p>Assuming that my recollection that <code>INIT</code> blocks happen after the code is compiled but before it starts to run&ndash;or do I mean a <code>CHECK</code> block?</p>

<h4 id="anonymous-macros-http-aspn-activestate-com-aspn-mail-message-perl6-language-2622133"><a href="http://aspn.activestate.com/ASPN/Mail/Message/perl6-language/2622133">Anonymous Macros</a></h4>

<p>Ingo also wondered if anonymous macros (at compile time) were allowed. Larry had no problem with macros being first-class objects during the compile. He also went on to wonder if they should be multidispatch, too.</p>

<h4 id="perl-defined-object-array-hash-classes-http-aspn-activestate-com-aspn-mail-message-perl6-language-2622337"><a href="http://aspn.activestate.com/ASPN/Mail/Message/perl6-language/2622337">Perl Defined <code>Object</code>, <code>Array</code>, <code>Hash</code> Classes</a></h4>

<p>While toying with Pugs, Eric Hodges managed to overwrite the internal definition of the <code>Object</code> class, which obviously caused him pain. Larry reckons we&rsquo;ll have constructs like:</p>

<pre><code>class Object is augmented { ... };
class Object is replaced { ... };
</code></pre>

<p>(names up for grabs). My personal preference is for making <code>augmented</code> the default behavior, but I&rsquo;ll live if I can have a pragma that makes it that way.</p>

<h4 id="hash1-hash2"><code>%hash1 »...« %hash2</code></h4>

<p>David Formosa wondered about the behavior of hyperops when applied to a pair of hashes. He wanted things arranged so that if you had a hash with keys in common, then the hypering process would keep them together. Luke agreed that it would be useful (so do I, for that matter) and then everyone started talking about inner and outer joins and my database comprehension head swapped out for the moment.</p>

<h4 id="binding-slices">Binding Slices</h4>

<p>With a small correction for syntactical niceness, Piers wondered if:</p>

<pre><code>my @y := @foo[0...][1]
</code></pre>

<p>would bind <code>@y</code> to a column of the two-dimensional matrix represented by <code>@foo[][]</code>, so that writing to <code>@y</code> would affect <code>@foo</code> and vice versa. @Larry hasn&rsquo;t said anything yet.</p>

<h4 id="alias-the-rubymeter-http-aspn-activestate-com-aspn-mail-message-perl6-language-2622775"><a href="http://aspn.activestate.com/ASPN/Mail/Message/perl6-language/2622775"><code>alias</code> the RubyMeter</a></h4>

<p>BÁRTHAZI Andras wondered if Perl 6 would have something like Ruby&rsquo;s rather lovely <code>alias</code>. Larry thought you should be able to write a macro to do the job, but wasn&rsquo;t entirely sure how exactly it would be done. Further discussion centered on whether the feature was a good idea and whether it had the right name. One school of thought thinks it already exists as <code>:=</code>, but I&rsquo;m not quite so sure.</p>

<h4 id="caller-block-vs-any-hope-of-efficiency-http-aspn-activestate-com-aspn-mail-message-perl6-language-2622877"><a href="http://aspn.activestate.com/ASPN/Mail/Message/perl6-language/2622877"><code>&amp;?CALLER::BLOCK</code> Vs. Any Hope of Efficiency</a></h4>

<p>Chip hopes that using <code>&amp;?CALLER::BLOCK</code> as a general-purpose block promoter will be disallowed unless the calling block has already marked itself as callable. Larry thought that this would be okay, noting that he saw <code>&amp;?CALLER::BLOCK</code> being mostly used for introspective purposes.</p>

<h4 id="creating-a-web-templating-engine-http-aspn-activestate-com-aspn-mail-message-perl6-language-2622993"><a href="http://aspn.activestate.com/ASPN/Mail/Message/perl6-language/2622993">Creating a Web Templating Engine</a></h4>

<p>Wow! Perl 6 isn&rsquo;t even finished, and already Andras is talking about writing a web templating engine for it. He outlined his plan and wondered how to go about implementing it. He and Ingo discussed it.</p>

<h4 id="hyper-concat-http-aspn-activestate-com-aspn-mail-message-perl6-language-2630895"><a href="http://aspn.activestate.com/ASPN/Mail/Message/perl6-language/2630895">Hyper Concat</a></h4>

<p>Thomas Klausner has been playing with <code>»~«</code> and uncovered some weirdness. Said weirdness lead to a discussion of <a href="http://aspn.activestate.com/ASPN/Mail/Message/perl6-language/2658196">the default strings/patterns in <code>split</code> and <code>join</code></a>.</p>

<h4 id="sub-my-zip-http-aspn-activestate-com-aspn-mail-message-perl6-language-2710261"><a href="http://aspn.activestate.com/ASPN/Mail/Message/perl6-language/2710261"><code>sub my_zip (...?) {}</code></a></h4>

<p>Autrijus worried that the current Pugs implementation of <code>zip</code> was signatureless, which, among other things, makes it uncompilable to Parrot. He wondered what its function signature should be. Larry came up with the (admittedly slightly weird) goods.</p>

<h4 id="ignoring-parameters-http-aspn-activestate-com-aspn-mail-message-perl6-language-2710606"><a href="http://aspn.activestate.com/ASPN/Mail/Message/perl6-language/2710606">Ignoring Parameters</a></h4>

<p>Gaal Yahas wondered if he&rsquo;d be able to write a class method as:</p>

<pre><code>method greet(Class undef:) {...}
</code></pre>

<p>when his class methods made no references to the class object itself. Damian thought that the syntax should actually be:</p>

<pre><code>method greet(FooClass ::class) {...}
</code></pre>

<p>and that subs and methods should complain about unused non-optional non-invocant parameters. There&rsquo;s more; see the sub for details.</p>

<h4 id="scalar-dereferencing-http-aspn-activestate-com-aspn-mail-message-perl6-language-2710912"><a href="http://aspn.activestate.com/ASPN/Mail/Message/perl6-language/2710912">Scalar Dereferencing</a></h4>

<p>Autrijus wondered about the semantics of a scalar reference in the face of stringification and numification. He provided an example of Pugs&rsquo; current behavior that may or may not be correct. Larry described broken behavior before thinking again and describing the really correct behavior, along with a summary of his raccoon problems.</p>

<h4 id="taking-given-as-read-http-aspn-activestate-com-aspn-mail-message-perl6-language-2711310"><a href="http://aspn.activestate.com/ASPN/Mail/Message/perl6-language/2711310">Taking <code>given</code> as Read</a></h4>

<p>Piers wondered how to write a function that would look like a <code>given</code> block to any <code>when</code>s inside of it. It turns out that you can&rsquo;t, yet. Damian thought that the right way to do it would be:</p>

<pre><code>sub factorial (Int $n is topic) {
  return 1 when 0;
  $n * factorial($n - 1);
}
</code></pre>

<p>Reading this again, I find myself wondering if the <code>return</code> is really necessary.</p>

<h4 id="method"><code>./method</code></h4>

<p>People don&rsquo;t like <code>./method</code>. Other people don&rsquo;t like <code>.method</code> in methods. I think we have what we have on the &ldquo;least worst option&rdquo; principle&ndash;but I would say that I don&rsquo;t like <code>./method</code>.</p>

<h4 id="autoload-and-http-aspn-activestate-com-aspn-mail-message-perl6-language-2713984"><a href="http://aspn.activestate.com/ASPN/Mail/Message/perl6-language/2713984"><code>AUTOLOAD</code> and <code>$_</code></a></h4>

<p>Sam Vilain wondered about the prototype of <code>AUTOLOAD</code>. In the discussion that ensued, some people felt that whatever happened, <code>AUTOLOAD</code> should return a code ref that <em>perl</em> would call.</p>

<h3 id="th-th-the-that-s-all-folks">Th-Th-The-That&rsquo;s All, Folks!</h3>

<p>I remember now why I gave up writing summaries in the first place. First, I started missing weeks, which meant that there was so much to write up in the fortnightly summaries, and then discussions grew interesting, which meant writing them took so much longer because there were hard things to understand first.</p>

<p>Still, once in a while is refreshing, but I really should stop putting things off until the last minute.</p>

<p>Ahem.</p>

<p>If you find these summaries useful or enjoyable, please consider contributing to the Perl Foundation to help support the development of Perl.</p>

<ul>
<li><a href="http://donate.perl-foundation.org/">The Perl Foundation</a></li>
<li><a href="http://dev.perl.org/perl6/">Perl 6 Development site</a></li>
</ul>

<p>Or, you can check out <a href="http://www.bofh.org.uk/">my website</a>. Maybe now I&rsquo;m back writing stuff I&rsquo;ll start updating it. There are also <a href="http://www.flickr.com/photos/pdcawley">vaguely pretty photos by me</a>.</p>

              </article>
              <p><strong>Tags</strong></p>
              <div class="tags">
                <div class="category"><a href="/categories/perl-6">perl-6</a></div>
                
                  <div class="tag"><a href="/tags/compiler">compiler</a></div>
                
                  <div class="tag"><a href="/tags/internals">internals</a></div>
                
                  <div class="tag"><a href="/tags/parrot">parrot</a></div>
                
                  <div class="tag"><a href="/tags/perl-6">perl-6</a></div>
                
                  <div class="tag"><a href="/tags/pge">pge</a></div>
                
                  <div class="tag"><a href="/tags/pugs">pugs</a></div>
                
                  <div class="tag"><a href="/tags/vm-development">vm-development</a></div>
                
              </div>
            </div>
            
              
                
<div class="row" id="author-bio-piers-cawley">
  <div class="col-sm-2">
    
    <a href="/authors/piers-cawley/"><div class="circle-avatar" style="background-image:url(/images/author/piers-cawley.jpg)"></div></a>
  </div>
  <div class="col-sm-10">
    <a href="/authors/piers-cawley/"><h3>Piers Cawley</h3></a>
    <p></p>
    <h5><a href="/authors/piers-cawley/">Browse their articles</a></h5>
  </div>
</div>

            
            <div class="row">
              <h3>Feedback</h3>
              <p>Something wrong with this article? Help us out by opening an issue or pull request on <a href="https://github.com/tpf/perldotcom/blob/master/content/legacy/_pub_2005_06_p6pdigest_20050623.md">GitHub</a></p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="latest-sidebar">

  <div class="row">
    <div class="col-sm-12 centering">
      <span style="font-size:1.8em" class="antonio txt-blue-major">OUR LATEST ARTICLES</span>
    </div>
  </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/the-perl-admbassador-curtis-poe/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/the-perl-ambassador-curtis-poe/curtis-poe.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>The Perl Ambassador: Curtis &#39;Ovid&#39; Poe</h6>
          <p style="line-height:1"><small>The person behind the news of Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/a-tour-with-net-ftp/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/a-tour-with-net-ftp/thumb_kidyes.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>A tour with Net::FTP</h6>
          <p style="line-height:1"><small>How to write an FTP client in Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/shortcode_test/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/author/brian-d-foy.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>shortcode_test</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/thumb_larry-wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Listen to Larry Wall&#39;s State of the Onion 2000 on YouTube</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/announcing-perl-7/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/announcing-perl-7/thumb_seven_on_blue_wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Announcing Perl 7</h6>
          <p style="line-height:1"><small>Perl 5 with modern defaults</small></p>
      </div>
        </a>
    </div>
  
</div>
<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
  <script async src="/widget/toplinks/toplinks.js" type="text/javascript"></script>
    <div id="toplinks"></div>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <a class="twitter-timeline" data-height="640" data-dnt="true" data-theme="dark" href="https://twitter.com/perlfoundation?ref_src=twsrc%5Etfw">Tweets by perlfoundation</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <script src="https://www.reddit.com/r/perl/hot/.embed?limit=10&t=all" type="text/javascript"></script>
  </div>
</div>



          </div>
        </div>
      </div>
    </section>
  </section>
<script>
 
var tables, i;
tables = document.getElementsByTagName('table');
for (i=0;i<tables.length;i++) {
  tables[i].className = 'table table-striped';
}
</script>
<div class="push"></div>
<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
        <h5>Site Map</h5>
        <ul>
        <li><a href="/">Home</a></li>
        <hr>
        <li><a href="/about">About</a></li>
        <hr>
        <li><a href="/authors">Authors</a></li>
        <hr>
        <li><a href="/categories">Categories</a></li>
        <hr>
        <li><a href="/tags">Tags</a></li>
        <hr>
        </ul>
      </div>
      <div class="col-md-3">
        <h5>Contact Us</h5>
        <p>To get in touch, send an email to: perl.com-editor@perl.org</p>
        <p><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a>
          <a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a>
          <a href="/index.xml" /><img src="/images/site/rss_20.png" alt="rss"></a>
          <a href="https://github.com/tpf/perldotcom">
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></p>
      </div>
      <div class="col-md-2">
          <h5>License</h5>
          <p>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.</p>
          <p><a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a></p>
      </div>
      <div class="col-md-5">
          <h5>Legal</h5>
          <p>Perl.com and the authors make no representations with respect to the accuracy or completeness of the contents of all work on this website and specifically disclaim all warranties, including without limitation warranties of fitness for a particular purpose. The information published on this website may not be suitable for every situation. All work on this website is provided with the understanding that Perl.com and the authors are not engaged in rendering professional services. Neither Perl.com nor the authors shall be liable for damages arising herefrom.</p>
      </div>
    </div>
  </div>
</div>
<script src="/javascript/jquery.min.js"></script>
<script src="/javascript/bootstrap.min.js"></script>
<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>
</html>

