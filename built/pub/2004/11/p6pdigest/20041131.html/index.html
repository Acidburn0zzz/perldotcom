<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title> This Fortnight on Perl 6, October 2004 Part Two </title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Perl 6 Summary for 2004-10-18 through 2004-10-23 Last week, I received a request to summarize perl6-language before internals. Frankly, it seems like a reasonable idea. Perl6-internals has always been first as long as I can remember. So perhaps, it is..."/>
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="TZowffo_LX2mmsw2DbeNNbukCMnIOA8T-6CMJPiYllI" />

<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@PerlFoundation">
<meta property="og:url" content="http://localhost:1313/pub/2004/11/p6pdigest/20041131.html/" />
<meta property="og:title" content="This Fortnight on Perl 6, October 2004 Part Two" />
<meta property="og:description" content="Perl 6 Summary for 2004-10-18 through 2004-10-23 Last week, I received a request to summarize perl6-language before internals. Frankly, it seems like a reasonable idea. Perl6-internals has always been first as long as I can remember. So perhaps, it is...">
<meta property="og:site_name" content="Perl.com" />

<meta property="og:type" content="article" />
<meta property="og:article:published_time" content="2004-11-11T11:11:11Z" />
<meta property="og:image" content="http://localhost:1313/images/site/avatar.png" />
<meta property="og:article:tag" content="compiler" />
<meta property="og:article:tag" content="internals" />
<meta property="og:article:tag" content="parrot" />
<meta property="og:article:tag" content="perl-6" />


  <link rel="icon" href="/favicon.ico">
  <link href="/article/index.xml" rel="alternate" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/article/index.xml" rel="feed" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/perldotcom.css"/>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-50555-22', 'auto');
ga('create', 'UA-85734801-2', 'auto', 'editor');
ga('send', 'pageview');
ga('editor.send', 'pageview');
</script>

</head>
<body>

<div class="container-fluid full-wdith antonio">
 <div class="row">
  <div class="navbar-inverse" style="border-radius:none !important" role="navigation">
    <div class="container-fluid">
      <ul class="nav navbar-nav pull-right follow">
          <li>MORE:</li>
          <li><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a><li>
          <li><a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a><li>
          <li><a href="/article/index.xml" />
              <img src="/images/site/rss_20.png" alt="rss"></a></li>
          <li><a href="https://github.com/tpf/perldotcom" />
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></li>
      </ul>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          <a class="navbar-nav" href="/">
            <div class="header-logo">Perl.com</div>
          </a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/about">
              <div class="circle">
                <img src="/images/site/perl-camel.png" alt="" />
              </div>
                  &nbsp;&nbsp;ABOUT</a>
          </li>
          <li><a href="/authors">
              <div class="circle">
                  <span class="glyphicon glyphicon-user txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;AUTHORS</a>
          </li>
          <li><a href="/categories">
              <div class="circle">
                  <span class="glyphicon glyphicon-folder-open txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;CATEGORIES</a>
          </li>
          <li><a href="/tags">
              <div class="circle">
                <span class="txt-blue-major" aria-hidden="true"><strong>#</strong></span>
              </div>
                  &nbsp;&nbsp;TAGS</a>
          </li>
          <li>
            <form class="search" name="ddg" action="https://duckduckgo.com/" method="get">
              <input type="text" name ="q" placeholder="SEARCH" />
              <input type="hidden" value="perl.com" name="sites" />
            </form>
          </li>
        </ul>
      </div>
    </div>
  </div>
 </div>
</div>


  <section id="content" role="main">
    <section class="entry-content">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <div class="row">
              <article class="fulltext">
              <h1 class="blog-post-title">This Fortnight on Perl 6, October 2004 Part Two</h1>
              <p class="blog-post-meta">Nov 4, 2004 by
              
              
                
                
                <a href="#author-bio-matt-fowles">Matt Fowles</a>
              
              </p>
              <img alt="" src=""/>
                

<h2 id="perl-6-summary-for-2004-10-18-through-2004-10-23">Perl 6 Summary for 2004-10-18 through 2004-10-23</h2>

<p>Last week, I received a request to summarize perl6-language before internals. Frankly, it seems like a reasonable idea. Perl6-internals has always been first as long as I can remember. So perhaps, it is time to switch it up. Before I start off with perl6-language, let me remind all American readers to vote. Non-American readers should also vote, but it seems unlikely that your day of voting is tomorrow (as I write this). So without further ado&hellip;</p>

<h3 id="perl6-language">Perl6 Language</h3>

<h4 id="packrat-parsing-http-xrl-us-dndb"><a href="http://xrl.us/dndb">Packrat Parsing</a></h4>

<p>Thomas Sandlass posted a link to an article on Packrat Parsing. It looks like a promising techinque for small programs, although its memory requirements may be a bit heavy for large programs. Mr. Sandlass appears to have been Warnocked, but there are several explanations. First, he posted from Google; there has been trouble in the past about such things getting through. Second, he posted to Perl6 Language instead of Perl6 Compiler.</p>

<h4 id="assorted-questions-http-xrl-us-drsq"><a href="http://xrl.us/drsq">Assorted Questions</a></h4>

<p>Rich Morin wanted to know two things. One, can he hook into function calls and just about everything else for his evil purposes? Two, can he get floating point values which automagically track their rounding errors? Austin Hastings pointed out that two would probably best be implemented as an opaque object whose value is a junction. Luke Palmer demonstrated an evil way to embed whatever hooks he wanted by adding an extra layer to the grammar. Somehow, I worry that shooting myself in the foot with this would take most of my body off&hellip;</p>

<h4 id="perl-6-backwards-compatibility-http-xrl-us-drsr"><a href="http://xrl.us/drsr">Perl 6 Backwards Compatibility</a></h4>

<pre><code> U. Ruirarchzatrea expressed a desire for perfect backwards
compatibility to Perl 5 and a Ponie too.  Matthew Walton, Brent &quot;Dax&quot;
Royal-Gordon, and Luke Palmer all told him that he could have a Ponie, but it
would not be perfect.
</code></pre>

<h3 id="perl6-compiler">Perl6 Compiler</h3>

<h4 id="perl6-compiler-list-troubles">Perl6 Compiler List Troubles</h4>

<p>In the last summary, I mentioned that Perl6 Compiler has not yet found its way to Google groups. Leo seems to have had trouble subscribing to it also. Perhaps this bears investigation? Does anyone know someone who can be poked/prodded/pleaded with about this? End result: no links for you!</p>

<h4 id="status-check">Status Check?</h4>

<p>Ovid popped in to see if he could find more detailed status info about the progress of P6C. Patrick Michaud provided a slightly unsatisfying answer of &ldquo;not much longer,&rdquo; and Luke Palmer provided a slightly more detailed answer, which can be summarized as &ldquo;not much longer.&rdquo;</p>

<h3 id="parrot">Parrot</h3>

<h4 id="unununium-http-xrl-us-dndc"><a href="http://xrl.us/dndc">Unununium</a></h4>

<p>Dan and Steve Fink told Jacques Mony that a port to Unununium would probably require substantial changes to <em>Configure</em>.</p>

<h4 id="grsecurity-interfering-with-the-parrot-jit-build-http-xrl-us-dndd"><a href="http://xrl.us/dndd">grsecurity Interfering with the Parrot JIT/build</a></h4>

<p>Apparently, our current scheme of <code>mem_alloc_executable</code> and <code>mem_free_executable</code> is not quite enough to make grsecurity happy. Work is ongoing&hellip;</p>

<h4 id="signal-t-failure-http-xrl-us-dnde"><a href="http://xrl.us/dnde"><em>signal.t</em> Failure</a></h4>

<p>Will Coleda had problems with <em>signal.t</em> failing while his machine was under load. Leo pointed out that this is known behavior. Jeff Clites was a little confused and disappointed that his earlier patches to help solve this problem had not sufficed.</p>

<h4 id="new-naming-for-parrot-interp-http-xrl-us-dndf"><a href="http://xrl.us/dndf">New Naming for <code>parrot_interp</code></a></h4>

<p>Brent &ldquo;Dax&rdquo; Royal-Gordon warned everyone that he was committing a gianormous change that would affect any pending patches. From the lack of chaos on the list, I would say that his warning worked.</p>

<h4 id="parrot-forth-http-xrl-us-dndg"><a href="http://xrl.us/dndg">Parrot Forth</a></h4>

<p>Michel Pelletier and Matt Diephouse discussed some of the finer points of Forth implementations and optimizations.</p>

<h4 id="win32-update">Win32 Update</h4>

<p>Ron Blaschke gave a quick update on his progress with VC7.1 on Win32. Looks good. Keep on chugging, Ron.</p>

<h4 id="downloading-parrot-http-xrl-us-dndh"><a href="http://xrl.us/dndh">Downloading Parrot</a></h4>

<p>Jerry Wiltz asked if help in downloading Parrot [he was starting from scratch (no Perl or C compiler)] on a WinXP box. Fred the LastNamelessOne provided a plethora of useful links.</p>

<h4 id="the-return-of-register-stacks">The Return of Register Stacks</h4>

<p>Miroslav Silovic posted a summary of a design change that he and Leo were considering. I asked for more details as to how it was different then something we had moved away from much earlier. Leo provided quite a nice and thorough explanation. Thanks. Dan observed that this recurring thread happened nearly yearly, but that the cycle was not quite 12 months. Dan also observed that the timing coinciding with his being sick was fortuitous. Leo and Dan went back and forth for a while discussing the implementation and implications of it. I believe that the end result is that we will have indirect access to registers; we will not need to have <code>saveall</code>/<code>restoreall</code> pairs around function calls; and Dan should eventually get better, but not until this is fully thrashed out.</p>

<ul>
<li><a href="http://xrl.us/dndi">http://xrl.us/dndi</a></li>
<li><a href="http://xrl.us/dndj">http://xrl.us/dndj</a></li>
<li><a href="http://xrl.us/dndk">http://xrl.us/dndk</a></li>
<li><a href="http://xrl.us/dndm">http://xrl.us/dndm</a></li>
<li><a href="http://xrl.us/dndn">http://xrl.us/dndn</a></li>
</ul>

<h4 id="jit-rework">JIT Rework</h4>

<p>As a side effect of indirect access to registers, the JIT needs to be rejiggered to account for this. Leo and Jeff Clites went back and forth working on this with what sounds like good progress being made.</p>

<ul>
<li><a href="http://xrl.us/dndo">http://xrl.us/dndo</a></li>
<li><a href="http://xrl.us/dndp">http://xrl.us/dndp</a></li>
<li><a href="http://xrl.us/dndq">http://xrl.us/dndq</a></li>
</ul>

<h4 id="win32-perlnum-test-fix-http-xrl-us-dndr"><a href="http://xrl.us/dndr">Win32 <code>perlnum</code> Test Fix</a></h4>

<p>Ron Blaschke fixed a test failing because of <code>-0.0</code>. Leo applied the patch.</p>

<h4 id="x86-64-problems-fix-http-xrl-us-dnds"><a href="http://xrl.us/dnds">x86-64 Problems Fix</a></h4>

<p>Brian Wheeler submitted a patch to fix x86-64. Leo couldn&rsquo;t apply it. Brian resubmitted. It got mangled on the way. Brian reresubmitted. Leo applied it. Thanks for perservering, Brian!</p>

<h4 id="external-dependencies-http-xrl-us-dndt"><a href="http://xrl.us/dndt">External Dependencies</a></h4>

<p>Robert Spier suggested several options on how to simplify the problem of Parrot and external dependencies. Sadly, Warnock applies.</p>

<h4 id="mod-parrot">mod_parrot</h4>

<p>Jeff Horwitz is making amazing progress with his cybernetically enhanced parrot. Oh wait, I mean embedding Parrot into Apache. It all looks really cool, and he has been able to use his experience to provide valuable critiques to us all.</p>

<ul>
<li><a href="http://xrl.us/dndu">http://xrl.us/dndu</a></li>
<li><a href="http://xrl.us/dndv">http://xrl.us/dndv</a></li>
</ul>

<h4 id="python-parrot-and-scoping-http-xrl-us-dndw"><a href="http://xrl.us/dndw">Python, Parrot, and Scoping</a></h4>

<p>Sam Ruby has &ldquo;been trying to make sense of Python&rsquo;s scoping in the context of Parrot.&rdquo; Leo, Dan, and Allen Short all rushed to his aid.</p>

<h4 id="resizable-array-implementation-http-xrl-us-dndx"><a href="http://xrl.us/dndx"><code>Resizable*Array</code> Implementation</a></h4>

<p>Bernhard Schmalhofer wondered if the <code>Resizable*Arrays</code> should use chunked allocation. Dan told him, &ldquo;No, the motivation behind them is simple and fast, thus the chunking would be unwanted overhead.&rdquo; He did mention that they could do something clever (like chunking) if they got big enough.</p>

<h4 id="register-spilling-http-xrl-us-dndy"><a href="http://xrl.us/dndy">Register Spilling</a></h4>

<p>In a flash of good news for Dan, Bill Coffman has started to put his mighty brain to work on the register spilling code. He, Leo, and Jeff discussed various aspects of it. I eagerly look forward to the results of getting Parrot a really cool spilling algorithm (although probably not a eagerly as Dan and his nasty pathological code ;-)</p>

<h4 id="c89-spec">C89 Spec</h4>

<p>Bill Coffman wondered if he could find the C89 spec so that he could ensure his changes were compliant. Dan suggested using K&amp;R second edition. Jeff Clites pointed out the <code>-std=c89</code> flag for gcc. Michael G Schwern suggested using C99 spec (which should also contain the C89 spec) as a &ldquo;frightening accessory this Halloween.&rdquo; Michael frightens me.</p>

<ul>
<li><a href="http://xrl.us/dndz">http://xrl.us/dndz</a></li>
<li><a href="http://xrl.us/dnd2">http://xrl.us/dnd2</a></li>
</ul>

<h4 id="method-util-c-http-xrl-us-dnd3"><a href="http://xrl.us/dnd3"><em>method_util.c</em></a></h4>

<p>Leo asked what the state of the functions in <em>src/method_util.c</em> is. He got Warnocked. I would say that means they should get pitched and see what happens.</p>

<h4 id="include-absolute-path-http-xrl-us-dnd4"><a href="http://xrl.us/dnd4"><code>.include 'absolute path'</code></a></h4>

<p>Matthias Huerlemann created a patch allowing absolute paths in <code>.include</code> statements. Leo responed that the implementation was not quite right, but the format of the patch was good.</p>

<h4 id="icu-red-hat-pain-http-xrl-us-dnd5"><a href="http://xrl.us/dnd5">ICU + Red Hat == Pain</a></h4>

<p>Joshua Gatcomb had a fairly long conversation with himself fleshing out a problem with ICU on Red Hat. Leo broke into his monologue to say that it seemed Red Hat specific.</p>

<h4 id="strange-segfault-involving-string-concat-http-xrl-us-dnd6"><a href="http://xrl.us/dnd6">Strange Segfault Involving String Concat</a></h4>

<p>Matthias Hoelzl has a fairly hard-to-pin-down segfault. Leo suggested trying to use <code>parrot -G</code>, <code>--gc-debug</code>, and <code>-t</code> to track it down. No response yet.</p>

<h4 id="pmccache-http-xrl-us-dnd7"><a href="http://xrl.us/dnd7">pmccache</a></h4>

<p>Leo suggested a small Perl task of making something akin to ccache for PMCs. Jeff Clites jumped on it.</p>

<h4 id="befunge-shall-live-again-http-xrl-us-dnd8"><a href="http://xrl.us/dnd8">Befunge Shall Live Again!!</a></h4>

<p>Stepan Roh fixed somethings with the Befunge interpreter while simultaneously accusing befunge of being unimportant. Jerome applied some of those fixes and admonished Stepan for saying such things. I remember a time when Befunge fleshed out many troublesome bugs in Parrot, and I forsee a future when Befunge will be included in webservers everywhere through the magic of mod_parrot!</p>

<h4 id="siva-the-multifaceted-pmc-http-xrl-us-drss"><a href="http://xrl.us/drss">Siva, the multifaceted PMC</a></h4>

<p>Stéphane Payrard asked about some problems he had encountered creating the magical all-in-one Siva PMC. Leo provided a helpful prod towards <code>LVALUE_CAST</code>. The other problems may or may not related to the Mandrake Cooker. Hopefully, someone will tell us.</p>

<h4 id="jitted-functions-calling-external-functions-http-xrl-us-drst"><a href="http://xrl.us/drst">JITted Functions Calling External Functions</a></h4>

<p>Leo reported that, thanks to Jeff, one can now call into Parrot functions from JIT. Yay!</p>

<h4 id="make-testexec-http-xrl-us-drsu"><a href="http://xrl.us/drsu"><code>make testexec</code></a></h4>

<p>Currently, <code>make testexec</code> will create and run a trivial &ldquo;hello world&rdquo; program for the exec core. Leo would like it to run the full test suite instead. This is a big thing but would probably win you many friends and even influence people.</p>

<h4 id="calling-conventions-and-indirect-register-access">Calling Conventions and Indirect Register Access</h4>

<p>Leo provided several warnings that he was going to make some big changes that would break any code that did not follow the calling conventions. He went on to implement and commit a whole lot of stuff. I was impressed, and Dan later wondered if it was all done or not (as he wants to make some big changes soon). Apparently, it is for the most part.</p>

<ul>
<li><a href="http://xrl.us/drsv">http://xrl.us/drsv</a></li>
<li><a href="http://xrl.us/drsw">http://xrl.us/drsw</a></li>
<li><a href="http://xrl.us/drsx">http://xrl.us/drsx</a></li>
<li><a href="http://xrl.us/drsy">http://xrl.us/drsy</a></li>
<li><a href="http://xrl.us/drsz">http://xrl.us/drsz</a></li>
<li><a href="http://xrl.us/drs2">http://xrl.us/drs2</a></li>
</ul>

<h4 id="stalk-walking-bug-http-xrl-us-drs3"><a href="http://xrl.us/drs3">Stalk Walking Bug</a></h4>

<p>Nicholas Clark, with Leo&rsquo;s help, found a bug in the stalk walking code. Apparrently, our mask for valid pointers was a little overzealous. Nicholas checked in a quick fix. Steve Fink has a few suggestions.</p>

<h4 id="register-allocation">Register Allocation</h4>

<p>Bill Coffman is continuing his amazing work with register allocation. He has been making strong progress, and his new code is fast approaching production-ready. Unfortunately for Dan, it still has a few rough points and a small memory leak preventing it from being used on Dan&rsquo;s evil code. Leo has been helping him along the entire time, and I predict that all of Bill&rsquo;s work will find its way into Parrot before the next summary.</p>

<ul>
<li><a href="http://xrl.us/drs4">http://xrl.us/drs4</a></li>
<li><a href="http://xrl.us/drs5">http://xrl.us/drs5</a></li>
</ul>

<h4 id="libjit-http-xrl-us-drs7"><a href="http://xrl.us/drs7">libjit</a></h4>

<p>Robert Spier pointed out the fairly nifty <a href="http://xrl.us/drs6">libjit</a>. Unfortunately, according to Leo, the current jit is far enough along that it would be too much work to switch. I tend to believe him.</p>

<h4 id="looking-for-a-hardware-donation-http-xrl-us-drs8"><a href="http://xrl.us/drs8">Looking for a Hardware Donation</a></h4>

<p>H. Merijn Brand reminded Leo that he hadn&rsquo;t been contacted yet about some &ldquo;Diana&rdquo; menthol alcohol. I was confused, but apparently Leo wasn&rsquo;t&hellip;</p>

<h4 id="pmc-inode-analogy-http-xrl-us-drs9"><a href="http://xrl.us/drs9">PMC/inode analogy</a></h4>

<p>Stéphane Payrard wanted to know if his analogy between pmcs and filesystems was correct. Leo felt that it was mostly right and attempted to explain the value/variable split. Dan corrected Leo and went a little further. What I have taken away from this is: &ldquo;do not think of it in terms of high level language operators, instead think of it in terms of C. You get pointers and values (and you can point to a value). Some things do shallow copies (i.e. pointer copies) others do deep.&rdquo;</p>

<h4 id="pmc-type-http-xrl-us-drta"><a href="http://xrl.us/drta"><code>pmc_type</code></a></h4>

<p>Nicholas Clark wanted to know what a <code>pcm_type</code> of 0 means. The answer: no such type. This led to Stéphane Payrard asking about pmc_type values for abstract types. They don&rsquo;t get types because they can&rsquo;t be directly instantiated. This led Paolo Molaro to wonder about the virtue of having a system closer to C++ with array lookup for virtual functions. Nicholas, Leo, and Paolo banged on this for awhile and decided that there was some room for optimization. Leo scares me when he optimizes&hellip;</p>

<h4 id="extend-c-parrot-call-http-xrl-us-drtb"><a href="http://xrl.us/drtb"><em>extend.c</em>: <code>Parrot_call</code></a></h4>

<p>Leo was bothered by the fact that <code>Parrot_call</code> only supported void return values. Much to Jeff Horwitz&rsquo;s joy, he fixed it.</p>

<h4 id="computed-goto-destroyer-of-weak-machines-http-xrl-us-drtc"><a href="http://xrl.us/drtc">Computed Goto Destroyer of Weak Machines!!!</a></h4>

<p>Vijay D. though that parrot was failing to install when it &ldquo;hung&rdquo; while compiling the computed goto cores. Nick Glencross, Leo, Dan, Peter Sinnott, and Joshua Gatcomb all helped out, explaining that cg is really hard on one&rsquo;s system and can be disabled with the <code>--cgoto=0</code> flag to <em>Configure.pl</em>.</p>

<h4 id="byte-code-http-xrl-us-drtd"><a href="http://xrl.us/drtd">Byte Code</a></h4>

<p>Peter Hickman wanted to know if Perl 6 would be able to be distributed in bytecode. The answer is yes, but this won&rsquo;t help you hide your source, as that will frequently be necessary meta-data. It will, however, speed up your compilation and even allow mmap of the bytecode to share between threads.</p>

<h4 id="pirate-python-http-xrl-us-drte"><a href="http://xrl.us/drte">Pirate/Python</a></h4>

<p>Sam Ruby has continued his work on Python and is making good progress. He was a little concerned about the speed issues of converting everything to dynclasses. He and Leo talked out some alternatives. Things are looking promising.</p>

<h4 id="threading-issues-http-xrl-us-drtf"><a href="http://xrl.us/drtf">Threading Issues</a></h4>

<p>Sam Ruby wanted to know about possible threading issues. Leo requested that they let the sleeping giant lie for a while longer.</p>

<h4 id="include-relative-path-http-xrl-us-drtg"><a href="http://xrl.us/drtg"><code>.include &quot;../relative path&quot;</code></a></h4>

<p>Matt Diephouse added a todo item for <code>.include</code>ing with relative paths. Takers welcome.</p>

<h4 id="array-fun-http-xrl-us-drth"><a href="http://xrl.us/drth">Array Fun</a></h4>

<p>Bernhard Schmalhofer added a few benchmarks for the various array PMCs. Leo applied the patch.</p>

<h4 id="prederefed-run-cores-http-xrl-us-drti"><a href="http://xrl.us/drti">Prederefed Run Cores</a></h4>

<p>Leo had some concerns about the prederef run cores. Dan suggested pitching them, but Leo opted to fix them instead. Some discussion of their relative values ensued, and then someone started using assembly to support a point and my head exploded.</p>

<h4 id="parakeet-in-cvs-http-xrl-us-drtj"><a href="http://xrl.us/drtj">Parakeet in CVS</a></h4>

<p>Michel Pelletier has finally gotten himself a perl.org account. The idea is that this would allow him to maintain Parakeet in CVS. Unfortunately, Warnock applies.</p>

<h4 id="gc-crash-http-xrl-us-drtk"><a href="http://xrl.us/drtk">GC Crash</a></h4>

<p>Matt Diephouse found a way to make Parrot&rsquo;s GC crash. Leo fixed it with alacrity.</p>

<h4 id="ppc-jit-failure-http-xrl-us-drtm"><a href="http://xrl.us/drtm">PPC JIT failure</a></h4>

<p>Jeff Clites found and fixed a bug in the grow-the-arena threshold for JIT. Leo seemed to feel that Jeff&rsquo;s solution was only a temporary one.</p>

<h4 id="aix-ppc-jit-warning-http-xrl-us-drtn"><a href="http://xrl.us/drtn">AIX PPC JIT warning</a></h4>

<p>Jeff Clites voiced some concern over the state of JIT on AIX. Adam Thomason told him, &ldquo;Worry not, it&rsquo;s already broken.&rdquo;</p>

<h4 id="call-chain-access-http-xrl-us-drto"><a href="http://xrl.us/drto">Call Chain Access</a></h4>

<p>Appropriately, Leo found himself playing with chains around Halloween. He wondered if the call chain should have a PMC wrapper. Dan figured not, as ops which do evil things would be unlikely to be invoked accidentally, whereas a PMC might&hellip;</p>

<h4 id="newsub-opcodes">newsub opcodes</h4>

<p>Leo wanted to add some newsub opcodes to save allocations. Dan countered that it would be a better thing to make constant PMCs work properly. Leo did.</p>

<ul>
<li><a href="http://xrl.us/drtp">http://xrl.us/drtp</a></li>
<li><a href="http://xrl.us/drtq">http://xrl.us/drtq</a></li>
<li><a href="http://xrl.us/drtr">http://xrl.us/drtr</a></li>
</ul>

<h4 id="pmc2c2-pm-features-http-xrl-us-drts"><a href="http://xrl.us/drts"><em>pmc2c2.pm</em> features</a></h4>

<p>Leo suggested a couple of extra features that he wanted in <em>pmc2c2.pm</em>. Sam Ruby supplied them.</p>

<h4 id="build-dynclasses-by-default-http-xrl-us-drtt"><a href="http://xrl.us/drtt">Build Dynclasses by Default</a></h4>

<p>Will Coleda provided a patch to build dynclasses by default. Leo is stalling before applying it, hoping to hear from other platforms. Now would be a great time to chime in&hellip; ::cricket noises:::</p>

<h4 id="warnings-for-duplicate-vars-http-xrl-us-drtu"><a href="http://xrl.us/drtu">Warnings for Duplicate Vars</a></h4>

<p>IMCC currently doesn&rsquo;t produce them. Will Coleda supplied a naive attempt at this, but Leo decided it would be better to do it the elegant way and split the PASM and PIR lexers/parsers apart.</p>

<h4 id="parrot-on-amd64-http-xrl-us-drtv"><a href="http://xrl.us/drtv">Parrot on AMD64</a></h4>

<p>Brent &ldquo;Dax&rdquo; Royal-Gordon managed to find an AMD64 for himself. Not only am I jealous, but Parrot passes all expected tests on it when built with <code>--ccflags=':add{ -fPIC }</code>.</p>

<h4 id="dynopslib-troubles-http-xrl-us-drtw"><a href="http://xrl.us/drtw">dynopslib Troubles</a></h4>

<p>Klaas-Jan discovered that dynopslib was failing. Leo concurred and asked for patches.</p>

<h4 id="makefile-bad-touch-http-xrl-us-drtx"><a href="http://xrl.us/drtx">makefile bad <code>$(TOUCH)</code></a></h4>

<p>Jeff Clites noticed that <em>Makefile</em>&rsquo;s <code>$(TOUCH)</code> does not actually work on many platforms and suggested a solution. Michael G. Schwern suggested using <a href="https://metacpan.org/pod/ExtUtils::Command">ExtUtils::Command</a> instead. Who knows what will finally happen?</p>

<h4 id="debug-ops-http-xrl-us-drty"><a href="http://xrl.us/drty">Debug ops</a></h4>

<p>Dan wondered about adding some ops for debugging parrot code. The response was favorable and enthusiastic.</p>

<h4 id="parrot-t-massive-leaks-http-xrl-us-drtz"><a href="http://xrl.us/drtz"><code>parrot -t</code> Massive Leaks</a></h4>

<p>Dan noticed that <code>parrot -t</code> leaks more memory then most cheap computers have.</p>

<h4 id="hash-vtable-http-xrl-us-drt2"><a href="http://xrl.us/drt2">hash vtable</a></h4>

<p>Sam Ruby wondered about adding a hash vtable method for Python&rsquo;s benefit. Dan seemed to think it was a good idea.</p>

<h4 id="disassembler-broken-http-xrl-us-drt3"><a href="http://xrl.us/drt3">disassembler broken</a></h4>

<p>Matt Diephouse noticed that the dissambler was broken. Dan pointed out that he was testing it wrong, but Matt soon discovered that it didn&rsquo;t work even if he tested it right.</p>

<h4 id="shebangs-for-everybody">Shebangs for Everybody</h4>

<p>James deBoer provided a patch adding shebang lines to <em>config/*.pl</em>. Brent &ldquo;Dax&rdquo; Royal-Gordon reasoned that these were unnessecary as these scripts should only be run by <em>Configure.pl</em>. James countered by offering a patch removing all of the shebang lines from the other ones. I like his style.</p>

<ul>
<li><a href="http://xrl.us/drt4">http://xrl.us/drt4</a></li>
<li><a href="http://xrl.us/drt5">http://xrl.us/drt4</a></li>
</ul>

<h3 id="the-usual-footer">The Usual Footer</h3>

<p>If you find these summaries useful or enjoyable, please consider contributing to the Perl Foundation to help support the development of Perl. You might also like to send feedback to <a href="mailto:ubermatt@gmail.com">ubermatt@gmail.com</a>.</p>

<ul>
<li><a href="http://donate.perl-foundation.org/">The Perl Foundation</a></li>
<li><a href="http://dev.perl.org/perl6/">Perl 6 Development site</a></li>
<li><a href="http://planet.parrotcode.org/">Parrot Blog aggregator</a></li>
</ul>

              </article>
              <p><strong>Tags</strong></p>
              <div class="tags">
                <div class="category"><a href="/categories/perl-6">perl-6</a></div>
                
                  <div class="tag"><a href="/tags/compiler">compiler</a></div>
                
                  <div class="tag"><a href="/tags/internals">internals</a></div>
                
                  <div class="tag"><a href="/tags/parrot">parrot</a></div>
                
                  <div class="tag"><a href="/tags/perl-6">perl-6</a></div>
                
              </div>
            </div>
            
              
                
<div class="row" id="author-bio-matt-fowles">
  <div class="col-sm-2">
    
    <a href="/authors/matt-fowles/"><div class="circle-avatar" style="background-image:url(/images/site/avatar.png)"></div></a>
  </div>
  <div class="col-sm-10">
    <a href="/authors/matt-fowles/"><h3>Matt Fowles</h3></a>
    <p></p>
    <h5><a href="/authors/matt-fowles/">Browse their articles</a></h5>
  </div>
</div>

            
            <div class="row">
              <h3>Feedback</h3>
              <p>Something wrong with this article? Help us out by opening an issue or pull request on <a href="https://github.com/tpf/perldotcom/blob/master/content/legacy/_pub_2004_11_p6pdigest_20041131.md">GitHub</a></p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="latest-sidebar">

  <div class="row">
    <div class="col-sm-12 centering">
      <span style="font-size:1.8em" class="antonio txt-blue-major">OUR LATEST ARTICLES</span>
    </div>
  </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/the-perl-admbassador-curtis-poe/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/the-perl-ambassador-curtis-poe/curtis-poe.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>The Perl Ambassador: Curtis &#39;Ovid&#39; Poe</h6>
          <p style="line-height:1"><small>The person behind the news of Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/a-tour-with-net-ftp/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/a-tour-with-net-ftp/thumb_kidyes.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>A tour with Net::FTP</h6>
          <p style="line-height:1"><small>How to write an FTP client in Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/shortcode_test/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/author/brian-d-foy.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>shortcode_test</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/thumb_larry-wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Listen to Larry Wall&#39;s State of the Onion 2000 on YouTube</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/announcing-perl-7/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/announcing-perl-7/thumb_seven_on_blue_wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Announcing Perl 7</h6>
          <p style="line-height:1"><small>Perl 5 with modern defaults</small></p>
      </div>
        </a>
    </div>
  
</div>
<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
  <script async src="/widget/toplinks/toplinks.js" type="text/javascript"></script>
    <div id="toplinks"></div>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <a class="twitter-timeline" data-height="640" data-dnt="true" data-theme="dark" href="https://twitter.com/perlfoundation?ref_src=twsrc%5Etfw">Tweets by perlfoundation</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <script src="https://www.reddit.com/r/perl/hot/.embed?limit=10&t=all" type="text/javascript"></script>
  </div>
</div>



          </div>
        </div>
      </div>
    </section>
  </section>
<script>
 
var tables, i;
tables = document.getElementsByTagName('table');
for (i=0;i<tables.length;i++) {
  tables[i].className = 'table table-striped';
}
</script>
<div class="push"></div>
<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
        <h5>Site Map</h5>
        <ul>
        <li><a href="/">Home</a></li>
        <hr>
        <li><a href="/about">About</a></li>
        <hr>
        <li><a href="/authors">Authors</a></li>
        <hr>
        <li><a href="/categories">Categories</a></li>
        <hr>
        <li><a href="/tags">Tags</a></li>
        <hr>
        </ul>
      </div>
      <div class="col-md-3">
        <h5>Contact Us</h5>
        <p>To get in touch, send an email to: perl.com-editor@perl.org</p>
        <p><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a>
          <a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a>
          <a href="/index.xml" /><img src="/images/site/rss_20.png" alt="rss"></a>
          <a href="https://github.com/tpf/perldotcom">
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></p>
      </div>
      <div class="col-md-2">
          <h5>License</h5>
          <p>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.</p>
          <p><a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a></p>
      </div>
      <div class="col-md-5">
          <h5>Legal</h5>
          <p>Perl.com and the authors make no representations with respect to the accuracy or completeness of the contents of all work on this website and specifically disclaim all warranties, including without limitation warranties of fitness for a particular purpose. The information published on this website may not be suitable for every situation. All work on this website is provided with the understanding that Perl.com and the authors are not engaged in rendering professional services. Neither Perl.com nor the authors shall be liable for damages arising herefrom.</p>
      </div>
    </div>
  </div>
</div>
<script src="/javascript/jquery.min.js"></script>
<script src="/javascript/bootstrap.min.js"></script>
<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>
</html>

