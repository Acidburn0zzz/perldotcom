<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title> Rapid Web Application Deployment with Maypole : Part 2 </title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content=" When we last left our intrepid web developer, he had successfully set up an online sales catalogue in 11 lines of code. Now, however, he has to move on to turning this into a sales site with a shopping..."/>
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="TZowffo_LX2mmsw2DbeNNbukCMnIOA8T-6CMJPiYllI" />

<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@PerlFoundation">
<meta property="og:url" content="http://localhost:1313/pub/2004/04/29/maypole.html/" />
<meta property="og:title" content="Rapid Web Application Deployment with Maypole : Part 2" />
<meta property="og:description" content=" When we last left our intrepid web developer, he had successfully set up an online sales catalogue in 11 lines of code. Now, however, he has to move on to turning this into a sales site with a shopping...">
<meta property="og:site_name" content="Perl.com" />

<meta property="og:type" content="article" />
<meta property="og:article:published_time" content="2004-04-04T04:04:04Z" />
<meta property="og:image" content="http://localhost:1313/images/_pub_2004_04_29_maypole/111-test_libs.gif" />
<meta property="og:article:tag" content="maypole" />
<meta property="og:article:tag" content="mvc" />


  <link rel="icon" href="/favicon.ico">
  <link href="/article/index.xml" rel="alternate" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/article/index.xml" rel="feed" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/perldotcom.css"/>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-50555-22', 'auto');
ga('create', 'UA-85734801-2', 'auto', 'editor');
ga('send', 'pageview');
ga('editor.send', 'pageview');
</script>

</head>
<body>

<div class="container-fluid full-wdith antonio">
 <div class="row">
  <div class="navbar-inverse" style="border-radius:none !important" role="navigation">
    <div class="container-fluid">
      <ul class="nav navbar-nav pull-right follow">
          <li>MORE:</li>
          <li><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a><li>
          <li><a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a><li>
          <li><a href="/article/index.xml" />
              <img src="/images/site/rss_20.png" alt="rss"></a></li>
          <li><a href="https://github.com/tpf/perldotcom" />
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></li>
      </ul>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          <a class="navbar-nav" href="/">
            <div class="header-logo">Perl.com</div>
          </a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/about">
              <div class="circle">
                <img src="/images/site/perl-camel.png" alt="" />
              </div>
                  &nbsp;&nbsp;ABOUT</a>
          </li>
          <li><a href="/authors">
              <div class="circle">
                  <span class="glyphicon glyphicon-user txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;AUTHORS</a>
          </li>
          <li><a href="/categories">
              <div class="circle">
                  <span class="glyphicon glyphicon-folder-open txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;CATEGORIES</a>
          </li>
          <li><a href="/tags">
              <div class="circle">
                <span class="txt-blue-major" aria-hidden="true"><strong>#</strong></span>
              </div>
                  &nbsp;&nbsp;TAGS</a>
          </li>
          <li>
            <form class="search" name="ddg" action="https://duckduckgo.com/" method="get">
              <input type="text" name ="q" placeholder="SEARCH" />
              <input type="hidden" value="perl.com" name="sites" />
            </form>
          </li>
        </ul>
      </div>
    </div>
  </div>
 </div>
</div>


  <section id="content" role="main">
    <section class="entry-content">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <div class="row">
              <article class="fulltext">
              <h1 class="blog-post-title">Rapid Web Application Deployment with Maypole : Part 2</h1>
              <p class="blog-post-meta">Apr 29, 2004 by
              
              
                
                
                <a href="#author-bio-simon-cozens">Simon Cozens</a>
              
              </p>
              <img alt="" src=""/>
                

<p>When we <a href="/pub/2004/04/15/maypole.html">last</a> left our intrepid web developer, he had successfully set up an online sales catalogue in 11 lines of code. Now, however, he has to move on to turning this into a sales site with a shopping cart and all the usual trimmings. It&rsquo;s time to see some of that flexibility we talked about last week; unfortunately this means we&rsquo;re going to have to write some more code, but we can&rsquo;t have everything.</p>

<h3 id="span-id-who-am-i-who-am-i-span"><span id="Who_Am_I?">Who Am I?</span></h3>

<p>In order to add the shopping cart to the site, we need to introduce the concept of a current user. This will allow viewers of the site to log in and have their own cart. We will be adding two new tables to the database, a table to store details about the user, and one to represent the cart. Our tables will look like so:</p>

<pre><code>  CREATE TABLE user (
    id int not null auto_increment primary key,
    first_name varchar(64),
    last_name varchar(64),
    email varchar(255),
    password varchar(64),
    address1 varchar(255),
    address2 varchar(255),
    state varchar(255),
    postal_code varchar(64),
    country varchar(64)
  );

  CREATE TABLE cart_item (
    id int not null auto_increment primary key,
    user int,
    item int
  );
</code></pre>

<p>As before, Maypole automatically creates classes for the tables. We use <code>Class::DBI</code> relationships to tell Maypole what&rsquo;s going on with these tables:</p>

<pre><code>  ISellIt::User-&gt;has_many( &quot;cart_items&quot; =&gt; &quot;ISellIt::BasketItem&quot;);
  ISellIt::BasketItem-&gt;has_a( &quot;user&quot; =&gt; &quot;ISellit::User&quot; );
  ISellIt::BasketItem-&gt;has_a( &quot;item&quot; =&gt; &quot;ISellit::Product&quot; );
</code></pre>

<p>We now need a way to tell our application about the current user. There&rsquo;s a long explanation of Maypole&rsquo;s authentication system in the <a href="http://maypole.simon-cozens.org/doc/authentication.html">Maypole documentation</a>, but one of the easiest ways to do add the concept of the current user is with the <code>Maypole::Authentication::UserSessionCookie</code> module.</p>

<p>As its name implies, this module takes care of associating a user with a session, and issuing a cookie to the user&rsquo;s browser. It also manages validating the user&rsquo;s login credentials, by default by looking up the user name and password in a database table; precisely what we need!</p>

<p>Maypole provides an authentication method for us to override, and it&rsquo;s here that we&rsquo;re going to intercept any request that requires a user &ndash; viewing the shopping cart, adding items to an order, and so on:</p>

<pre><code>  sub authenticate {
    my ($self, $r) = @_;
    unless ($r-&gt;{table} eq &quot;cart&quot; or $r-&gt;{action} eq &quot;buy&quot;) {
      return OK;
    }

    # Else we need a user
    $r-&gt;get_user;
    if (!$r-&gt;{user}) {
      $r-&gt;template(&quot;login&quot;);
    }
    return OK;
   }
</code></pre>

<p>The <code>get_user</code> method, which does all the work of setting the cookie and setting the credentials, is provided by the <code>UserSessionCookie</code> module. The only thing we need to tell it is that we&rsquo;re going to use the user&rsquo;s email address and password as login credentials, rather than some arbitrary user name. We can do this in the configuration for our application, as described in the <code>UserSessionCookie</code> documentation:</p>

<pre><code>  ISellIt-&gt;{config}-&gt;{auth}-&gt;{user_field} = &quot;email&quot;;
</code></pre>

<p>Next, we set up a login template, which will present the users with a form to enter their credentials; there&rsquo;s one in the Maypole manual, in the <a href="http://maypole.simon-cozens.org/doc/Request.html">Request chapter</a>, which we can modify to suit our needs:</p>

<pre><code>  [% INCLUDE header %]

    &lt;h2&gt; You need to log in before buying anything &lt;/h2&gt;

  &lt;DIV class=&quot;login&quot;&gt;
  [% IF login_error %]
     &lt;FONT COLOR=&quot;#FF0000&quot;&gt; [% login_error %] &lt;/FONT&gt;
  [% END %]
    &lt;FORM ACTION=&quot;/[% request.path%]&quot; METHOD=&quot;post&quot;&gt;
  Email Address:
    &lt;INPUT TYPE=&quot;text&quot; NAME=&quot;email&quot;&gt; &lt;BR&gt;
  Password: &lt;INPUT TYPE=&quot;password&quot; NAME=&quot;password&quot;&gt; &lt;BR&gt;
  &lt;INPUT TYPE=&quot;submit&quot;&gt;
  &lt;/FORM&gt;
  &lt;/DIV&gt;
</code></pre>

<p>And now logging in is sorted out; if a user presents the correct credentials, <code>get_user</code> will put the user&rsquo;s <code>ISellIt::User</code> object in the Maypole request object as <code>$r-&gt;{user}</code>, and the user&rsquo;s request will continue to where it was going.</p>

<p>Now, of course, since we have a user object we can play with, we can use the user&rsquo;s information in other contexts:</p>

<pre><code>  [% IF request.user %]
    &lt;DIV class=&quot;messages&quot;&gt;
    Welcome back, [% request.user.first_name %]!
    &lt;/DIV&gt;
  [% END %]
</code></pre>

<p>Since we&rsquo;re going to be referring to the user a lot, we pass it to the template as an additional argument, <code>my</code>. Maypole has an open-ended &ldquo;hook&rdquo; method, <code>additional_data</code>, which is perfect for doing just this.</p>

<pre><code>  sub additional_data {
    my $r = shift;
    $r-&gt;{template_args}{my} = $r-&gt;{user};
  }
</code></pre>

<p>We call it <code>my</code> so that we can say, for instance:</p>

<pre><code>    &lt;DIV class=&quot;messages&quot;&gt;
    Welcome back, [% my.first_name %]!
    &lt;/DIV&gt;
</code></pre>

<p>So now we have a user. We can add a new action, <code>order</code>, to add an item to the user&rsquo;s shopping cart:</p>

<pre><code>  package ISellIt::Product;

  sub order :Exported {
    my ($self, $r, $product) = @_;
    $r-&gt;{user}-&gt;add_to_cart_items({ item =&gt; $product });
    $r-&gt;{template} = &quot;view&quot;;
  }
</code></pre>

<p>This adds an entry in the <code>cart_item</code> table associating the item with the user, and then sends us back to viewing the item.</p>

<p>We&rsquo;ve sent our user back shopping without an indication that we actually did add an item to his shopping cart; we can give such an indication by passing information into the template:</p>

<pre><code>  sub order :Exported {
    my ($self, $r, $product) = @_;
    $r-&gt;{user}-&gt;add_to_cart_items({ item =&gt; $product });
    $r-&gt;{template} = &quot;view&quot;;
    $r-&gt;{template_args}{bought} = 1;
  }
</code></pre>

<p>And then displaying it:</p>

<pre><code>  [% IF bought %]
  &lt;DIV class=&quot;messages&quot;&gt;
    We've just added this item to your shopping cart. To complete
    your transaction, please &lt;A HREF=&quot;/user/view_cart&quot;&gt;view your
    cart&lt;/A&gt; and check out.
  &lt;/DIV&gt;
  [% END %]
</code></pre>

<p>So now we need to allow the user to view a cart.</p>

<h3 id="span-id-displaying-the-cart-displaying-the-cart-span"><span id="Displaying_the_Cart">Displaying the Cart</span></h3>

<p>This also turns out to be relatively easy &ndash; most things in Maypole are &ndash; involving an action on the user class. We need to fill our Maypole request object with the items in the user&rsquo;s cart:</p>

<pre><code>  package ISellIt::User;

  sub view_cart :Exported {
    my ($self, $r) = @_;
    $r-&gt;{objects} = [ $r-&gt;{user}-&gt;cart_items ];
  }
</code></pre>

<p>And then we need to produce a <em>user/view_cart</em> template that displays them:</p>

<pre><code>  [% PROCESS header %]

  &lt;h2&gt; Your Shopping Cart &lt;/h2&gt;

  &lt;TABLE&gt;
  &lt;TR&gt; &lt;TH&gt; Product &lt;/TH&gt; &lt;TH&gt; Price &lt;/TH&gt; &lt;/TR&gt;
  [% SET count = 0;
  FOR item = objects;
    SET count = count + 1;
    &quot;&lt;tr&quot;;
    ' class=&quot;alternate&quot;' IF count % 2;
    &quot;&gt;&quot;;
  %]
    &lt;TD&gt; [% item.product.name %] &lt;/TD&gt;
    &lt;TD&gt; [% item.product.price %] &lt;/TD&gt;
    &lt;TD&gt;
      &lt;FORM ACTION=&quot;/cart_item/delete/[% item.id %]&quot;&gt;
      &lt;INPUT TYPE=&quot;submit&quot; VALUE=&quot;Remove from cart&quot;&gt;
      &lt;/FORM&gt;
    &lt;/TD&gt;
  &lt;/tr&gt;
  [% END %]
  &lt;/TABLE&gt;

  &lt;A HREF=&quot;/user/checkout&quot;&gt; Check out! &lt;/A&gt;
</code></pre>

<p>Once again, the HTML isn&rsquo;t great, but it gives us something we can pass to the design people to style up nicely. Now on to checking out the cart&hellip;</p>

<h3 id="span-id-check-out-check-out-span"><span id="Check_out">Check Out</span></h3>

<p>The hardest part about building an e-commerce application is interacting with the payment and credit-card fulfillment service. We&rsquo;ll use the <a href="https://metacpan.org/pod/Business::OnlinePayment">Business::OnlinePayment</a> module to handle that side of things, and handle the order fulfillment by simply sending an email.</p>

<p>The actual check-out page needs to collect credit card and delivery information, and so it doesn&rsquo;t actually need any objects; the only object we actually need is the <code>ISellIt::User</code>, and that was stashed away in the request object by the authentication routine. However, we do want to display the total cost. So to make things easier we&rsquo;ll add an action and compute this in Perl. We make the total cost a method on the user, so we can use this later:</p>

<pre><code>  package ISellIt::User;
  use List::Util qw(sum);
  sub basket_cost {
    my $self = shift;
    sum map { $_-&gt;item-&gt;price }
    $self-&gt;basket_items
  }
</code></pre>

<p>And define <code>checkout</code> to add this total to our template:</p>

<pre><code>  sub checkout :Exported {
    my ($self, $r) = @_;
    $r-&gt;{template_args}{total_cost} = $r-&gt;{user}-&gt;basket_cost;
  }
</code></pre>

<p>Now we write our <em>user/checkout</em> template:</p>

<pre><code>  [% PROCESS header %]
  &lt;h2&gt; Check out &lt;/h2&gt;

  &lt;p&gt; Please enter your credit card and delivery details. &lt;/p&gt;

  &lt;form method=&quot;post&quot; action=&quot;https://www.isellit.com/user/do_checkout&quot;&gt;
    &lt;P&gt;
    First name: &lt;input name=&quot;first_name&quot; value=&quot;[% my.first_name %]&quot;&gt;&lt;BR&gt;
    Last name: &lt;input name=&quot;last_name&quot; value=&quot;[% my.last_name %]&quot;&gt;&lt;/P&gt;
    &lt;P&gt;
    Street address: &lt;input name=&quot;address&quot; value=&quot;[% my.address1 %]&quot;&gt;&lt;BR&gt;
    City: &lt;input name=&quot;city&quot; value=&quot;[% my.address2 %]&quot;&gt;&lt;BR&gt;
    State: &lt;input name=&quot;state&quot; value=&quot;[% my.state %]&quot;&gt;
    Zip: &lt;input name=&quot;zip&quot; value=&quot;[% my.postal_code %]&quot;&gt;
    &lt;/P&gt;

    &lt;P&gt;
    Card type: &lt;select name=&quot;type&quot;&gt;
      &lt;option&gt;Visa&lt;/option&gt;
      &lt;option&gt;Mastercard&lt;/option&gt;
      ...
    &lt;/select&gt;

    Card number: &lt;input name=&quot;card_number&quot;&gt;
    Expiration: &lt;input name=&quot;expiration&quot;&gt; &lt;BR&gt;
    Total: $ [% total_price %]
    &lt;/P&gt;
    &lt;P&gt;
    Please click &lt;B&gt;once&lt;/B&gt; and wait for the payment to be
    authorised.... &lt;input type=&quot;submit&quot; value=&quot;order&quot;&gt;
  &lt;/form&gt;
</code></pre>

<p>What happens when this data is sent to the <code>do_checkout</code> action? (Over SSL, you&rsquo;ll notice.) First of all, we&rsquo;ll check if the user has entered address details for the first time, and if so, store them in the database. Perhaps unnecessary in this day of browsers that auto-fill forms, but it&rsquo;s still a convenience. Maypole stores the POST&rsquo;ed in parameters in <code>params</code>:</p>

<pre><code>  sub do_checkout :Exported {
    my ($self, $r) = @_;
    my %params = %{$r-&gt;{params}};
    my $user = $r-&gt;{user};

    $user-&gt;address1($params{address}) unless $user-&gt;address1;
    $user-&gt;address2($params{city})  unless $user-&gt;address2;
    $user-&gt;state($params{state})    unless $user-&gt;state;
    $user-&gt;postal_code($params{zip})  unless $user-&gt;postal_code;
</code></pre>

<p>We need to construct a request to go out via <code>Business::OnlinePayment</code>; thankfully, the form parameters we&rsquo;ve received are going to be precisely in the format that <code>OnlinePayment</code> wants, thanks to careful form design. All we need to do is to insert our account details and the total:</p>

<pre><code>    my $tx = new Business::OnlinePayment(&quot;TCLink&quot;);
    $tx-&gt;content(%params,
      type   =&gt; &quot;cc&quot;,
      login  =&gt; VENDOR_LOGIN,
      password =&gt; VENDOR_PASSWORD,
      action   =&gt; 'Normal Authorization'
      amount   =&gt; $r-&gt;{user}-&gt;basket_total
    );
</code></pre>

<p>Now we can submit the payment and see what happens. If there&rsquo;s a problem, we add a message to the template and send the user back again:</p>

<pre><code>    $tx-&gt;submit;
    if (!$tx-&gt;is_success) {
      $r-&gt;{template_args}{message} =
        &quot;There was a problem authorizing your transaction: &quot;.
        $tx-&gt;error_message;
      $r-&gt;{template} = &quot;checkout&quot;;
      return;
    }
</code></pre>

<p>Otherwise, we have our money; we probably want to tell the box-shifters about it, or we lose customers fast:</p>

<pre><code>    fulfill_order(
      address_details =&gt; $r-&gt;{params},
      order_details   =&gt; [ map { $_-&gt;item } $r-&gt;{user}-&gt;cart_items ],
      cc_auth     =&gt; $tx-&gt;authorization
    );
</code></pre>

<p>And now we empty the shopping cart, and send the user on his way:</p>

<pre><code>    $_-&gt;delete for $r-&gt;{user}-&gt;cart_items;
    $r-&gt;{template} = &quot;frontpage&quot;;
  }
</code></pre>

<p>Done! We&rsquo;ve taken a user from logging in, adding goods to the cart, credit card validation, and checkout. But&hellip; wait. How did we get our user in the first place?</p>

<h3 id="span-id-registering-a-user-registering-a-user-span"><span id="Registering_a_User">Registering a User</span></h3>

<p>We have to find a way to sign a user up. This is actually not that hard, particularly since we can use the example of <a href="https://metacpan.org/pod/Maypole::Manual::Flox">Flox</a> in the Maypole manual. First, we&rsquo;ll add a &ldquo;register&rdquo; link to our login template:</p>

<pre><code>  &lt;P&gt;New user? &lt;A HREF=&quot;/user/register&quot;&gt;Sign up!&lt;/A&gt;&lt;/P&gt;
</code></pre>

<p>This page doesn&rsquo;t require any objects to be loaded up, since it&rsquo;s just going to display a registration form; we can just add our template in <em>/user/register</em>:</p>

<pre><code>  [% INCLUDE header %]
  &lt;P&gt;Welcome to buying with iSellIt!&lt;/P&gt;

  &lt;P&gt;To set up your account, we only need a few details from you:
  &lt;/P&gt;

  &lt;FORM METHOD=&quot;POST&quot; ACTION=&quot;/user/do_register&quot;&gt;
    &lt;P&gt;Your name:
    &lt;input name=&quot;first_name&quot;&gt;
    &lt;input name=&quot;last_name&quot;&gt; &lt;/P&gt;
    &lt;P&gt;Your email address: &lt;input name=&quot;email&quot;&gt; &lt;/P&gt;
    &lt;P&gt;Please choose a password: &lt;input name=&quot;password&quot;&gt; &lt;/P&gt;
    &lt;input type=&quot;submit&quot; name=&quot;Register&quot; value=&quot;Register&quot;&gt;
  &lt;/FORM&gt;
</code></pre>

<p>As before, we need to explain to <a href="https://metacpan.org/pod/Class::DBI::FromCGI">Class::DBI::FromCGI</a> how these fields are to be edited:</p>

<pre><code>  ISellIt::User-&gt;untaint_columns(
    printable =&gt; [qw/first_name last_name password/],
    email   =&gt; [qw/email/],
  );
</code></pre>

<p>And now we can write our <code>do_register</code> event, using the <code>FromCGI</code> style:</p>

<pre><code>  sub do_register :Exported {
    my ($self, $r) = @_;
    my $h = CGI::Untaint-&gt;new(%{$r-&gt;{params}});
    my $user = $self-&gt;create_from_cgi($h);
</code></pre>

<p>If there were any problems, we send them back to the register form again:</p>

<pre><code>    if (my %errors = $obj-&gt;cgi_update_errors) {
      $r-&gt;{template_args}{cgi_params} = $r-&gt;{params};
      $r-&gt;{template_args}{errors} = \%errors;
      $r-&gt;{template} = &quot;register&quot;;
      return;
    }
</code></pre>

<p>Otherwise, we now have a user; we need to issue the cookie as if the user had logged in normally. Again, this is something that <code>UserSessionCookie</code> looks after for us:</p>

<pre><code>    $r-&gt;{user} = $user;
    $r-&gt;login_user($user-&gt;id);
</code></pre>

<p>And finally we send the user on his or her way again:</p>

<pre><code>    $r-&gt;{template} = &quot;frontpage&quot;;
  }
</code></pre>

<p>There we go: now we can create new users; provision of a password reminder function is an exercise for the interested reader.</p>

<h3 id="span-id-maypole-summary-maypole-summary-span"><span id="Maypole_Summary">Maypole Summary</span></h3>

<p>We&rsquo;ve done it &ndash; we&rsquo;ve created an e-commerce store in a very short space of time and with a minimal amount of code. One of the things that I like about Maypole is the extent to which you only need to code your business logic; all of the display templates can be mocked up and then shipped off to professionals, and the rest of the work is just handled magically behind the scenes by Maypole.</p>

<p>Thanks to the TPF funding of Maypole, we now have an extensive user manual with several case studies (this one included), and a lively user and developer community. I hope you too will be joining it soon!</p>

              </article>
              <p><strong>Tags</strong></p>
              <div class="tags">
                <div class="category"><a href="/categories/web">web</a></div>
                
                  <div class="tag"><a href="/tags/maypole">maypole</a></div>
                
                  <div class="tag"><a href="/tags/mvc">mvc</a></div>
                
              </div>
            </div>
            
              
                
<div class="row" id="author-bio-simon-cozens">
  <div class="col-sm-2">
    
    <a href="/authors/simon-cozens/"><div class="circle-avatar" style="background-image:url(/images/author/simon-cozens.jpg)"></div></a>
  </div>
  <div class="col-sm-10">
    <a href="/authors/simon-cozens/"><h3>Simon Cozens</h3></a>
    <p></p>
    <h5><a href="/authors/simon-cozens/">Browse their articles</a></h5>
  </div>
</div>

            
            <div class="row">
              <h3>Feedback</h3>
              <p>Something wrong with this article? Help us out by opening an issue or pull request on <a href="https://github.com/tpf/perldotcom/blob/master/content/legacy/_pub_2004_04_29_maypole.md">GitHub</a></p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="latest-sidebar">

  <div class="row">
    <div class="col-sm-12 centering">
      <span style="font-size:1.8em" class="antonio txt-blue-major">OUR LATEST ARTICLES</span>
    </div>
  </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/the-perl-admbassador-curtis-poe/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/the-perl-ambassador-curtis-poe/curtis-poe.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>The Perl Ambassador: Curtis &#39;Ovid&#39; Poe</h6>
          <p style="line-height:1"><small>The person behind the news of Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/a-tour-with-net-ftp/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/a-tour-with-net-ftp/thumb_kidyes.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>A tour with Net::FTP</h6>
          <p style="line-height:1"><small>How to write an FTP client in Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/shortcode_test/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/author/brian-d-foy.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>shortcode_test</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/thumb_larry-wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Listen to Larry Wall&#39;s State of the Onion 2000 on YouTube</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/announcing-perl-7/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/announcing-perl-7/thumb_seven_on_blue_wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Announcing Perl 7</h6>
          <p style="line-height:1"><small>Perl 5 with modern defaults</small></p>
      </div>
        </a>
    </div>
  
</div>
<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
  <script async src="/widget/toplinks/toplinks.js" type="text/javascript"></script>
    <div id="toplinks"></div>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <a class="twitter-timeline" data-height="640" data-dnt="true" data-theme="dark" href="https://twitter.com/perlfoundation?ref_src=twsrc%5Etfw">Tweets by perlfoundation</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <script src="https://www.reddit.com/r/perl/hot/.embed?limit=10&t=all" type="text/javascript"></script>
  </div>
</div>



          </div>
        </div>
      </div>
    </section>
  </section>
<script>
 
var tables, i;
tables = document.getElementsByTagName('table');
for (i=0;i<tables.length;i++) {
  tables[i].className = 'table table-striped';
}
</script>
<div class="push"></div>
<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
        <h5>Site Map</h5>
        <ul>
        <li><a href="/">Home</a></li>
        <hr>
        <li><a href="/about">About</a></li>
        <hr>
        <li><a href="/authors">Authors</a></li>
        <hr>
        <li><a href="/categories">Categories</a></li>
        <hr>
        <li><a href="/tags">Tags</a></li>
        <hr>
        </ul>
      </div>
      <div class="col-md-3">
        <h5>Contact Us</h5>
        <p>To get in touch, send an email to: perl.com-editor@perl.org</p>
        <p><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a>
          <a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a>
          <a href="/index.xml" /><img src="/images/site/rss_20.png" alt="rss"></a>
          <a href="https://github.com/tpf/perldotcom">
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></p>
      </div>
      <div class="col-md-2">
          <h5>License</h5>
          <p>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.</p>
          <p><a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a></p>
      </div>
      <div class="col-md-5">
          <h5>Legal</h5>
          <p>Perl.com and the authors make no representations with respect to the accuracy or completeness of the contents of all work on this website and specifically disclaim all warranties, including without limitation warranties of fitness for a particular purpose. The information published on this website may not be suitable for every situation. All work on this website is provided with the understanding that Perl.com and the authors are not engaged in rendering professional services. Neither Perl.com nor the authors shall be liable for damages arising herefrom.</p>
      </div>
    </div>
  </div>
</div>
<script src="/javascript/jquery.min.js"></script>
<script src="/javascript/bootstrap.min.js"></script>
<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>
</html>

