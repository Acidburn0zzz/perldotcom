<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title> This week on Perl 6, week ending 2004-03-14 </title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content=" Another week, another summary. It&#39;s been a pretty active week so, with a cunningly mixed metaphor, we&#39;ll dive straight into the hive of activity that is perl6-internals. Benchmarking Discussion and development of Sebastien Riedel&#39;s nifty Parrot comparative benchmarking script..."/>
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="TZowffo_LX2mmsw2DbeNNbukCMnIOA8T-6CMJPiYllI" />

<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@PerlFoundation">
<meta property="og:url" content="http://localhost:1313/pub/2004/03/p6pdigest/20040314.html/" />
<meta property="og:title" content="This week on Perl 6, week ending 2004-03-14" />
<meta property="og:description" content=" Another week, another summary. It&#39;s been a pretty active week so, with a cunningly mixed metaphor, we&#39;ll dive straight into the hive of activity that is perl6-internals. Benchmarking Discussion and development of Sebastien Riedel&#39;s nifty Parrot comparative benchmarking script...">
<meta property="og:site_name" content="Perl.com" />

<meta property="og:type" content="article" />
<meta property="og:article:published_time" content="2004-03-03T03:03:03Z" />
<meta property="og:image" content="http://localhost:1313/images/author/piers-cawley.jpg" />
<meta property="og:article:tag" content="perl-6-internals-parrot" />


  <link rel="icon" href="/favicon.ico">
  <link href="/article/index.xml" rel="alternate" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/article/index.xml" rel="feed" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/perldotcom.css"/>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-50555-22', 'auto');
ga('create', 'UA-85734801-2', 'auto', 'editor');
ga('send', 'pageview');
ga('editor.send', 'pageview');
</script>

</head>
<body>

<div class="container-fluid full-wdith antonio">
 <div class="row">
  <div class="navbar-inverse" style="border-radius:none !important" role="navigation">
    <div class="container-fluid">
      <ul class="nav navbar-nav pull-right follow">
          <li>MORE:</li>
          <li><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a><li>
          <li><a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a><li>
          <li><a href="/article/index.xml" />
              <img src="/images/site/rss_20.png" alt="rss"></a></li>
          <li><a href="https://github.com/tpf/perldotcom" />
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></li>
      </ul>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          <a class="navbar-nav" href="/">
            <div class="header-logo">Perl.com</div>
          </a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/about">
              <div class="circle">
                <img src="/images/site/perl-camel.png" alt="" />
              </div>
                  &nbsp;&nbsp;ABOUT</a>
          </li>
          <li><a href="/authors">
              <div class="circle">
                  <span class="glyphicon glyphicon-user txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;AUTHORS</a>
          </li>
          <li><a href="/categories">
              <div class="circle">
                  <span class="glyphicon glyphicon-folder-open txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;CATEGORIES</a>
          </li>
          <li><a href="/tags">
              <div class="circle">
                <span class="txt-blue-major" aria-hidden="true"><strong>#</strong></span>
              </div>
                  &nbsp;&nbsp;TAGS</a>
          </li>
          <li>
            <form class="search" name="ddg" action="https://duckduckgo.com/" method="get">
              <input type="text" name ="q" placeholder="SEARCH" />
              <input type="hidden" value="perl.com" name="sites" />
            </form>
          </li>
        </ul>
      </div>
    </div>
  </div>
 </div>
</div>


  <section id="content" role="main">
    <section class="entry-content">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <div class="row">
              <article class="fulltext">
              <h1 class="blog-post-title">This week on Perl 6, week ending 2004-03-14</h1>
              <p class="blog-post-meta">Mar 14, 2004 by
              
              
                
                
                <a href="#author-bio-piers-cawley">Piers Cawley</a>
              
              </p>
              <img alt="" src=""/>
                

<p>Another week, another summary. It&rsquo;s been a pretty active week so, with a cunningly mixed metaphor, we&rsquo;ll dive straight into the hive of activity that is perl6-internals.</p>

<h4 id="span-id-benchmarking-benchmarking-span"><span id="Benchmarking">Benchmarking</span></h4>

<p>Discussion and development of Sebastien Riedel&rsquo;s nifty Parrot comparative benchmarking script continued. Leo suggested a handy config file approach which would allow for adding benchmarks in other languages without having to change the script itself.</p>

<p>The initial results don&rsquo;t look good if you&rsquo;re name&rsquo;s Dan and you want to avoid getting a pie in the face at OSCON though, as Dan pointed out, there&rsquo;s a few tricks still to be played in this area. Anyway, <em>benchmark.pl</em> is now in the CVS tree if you want to play with it.</p>

<p><a href="http://groups.google.com/groups?selm=200403080924.i289OAe19538@thu8.leo.home">http://groups.google.com</a></p>

<h4 id="span-id-speeling-mistacks-speeling-mistacks-span"><span id="Speeling_mistacks">Speeling mistacks</span></h4>

<p>The ever helpful chromatic applied Bernhard Schmalhofer&rsquo;s patch to fix up an endemic speling mostake in some tests. Apparently DESCRIPTION isn&rsquo;t spelt &ldquo;DECSRIPTION&rdquo;.</p>

<p><a href="http://groups.google.com/groups?selm=1078705129.15254.0.camel@localhost">http://groups.google.com</a></p>

<h4 id="span-id-dates-and-times-dates-and-times-span"><span id="Dates_and_Times">Dates and Times</span></h4>

<p>Discussion of parrot&rsquo;s handling of dates and times continued this week too. Joshua Hoblitt who works on DateTime.pm (a very handy base for doing date/time handling in Perl 5, you should check it out) said that the DateTime people really, really want is &ldquo;an epoch that&rsquo;s <em>absolutely</em> fixed across all platforms.&rdquo;</p>

<p>There was also some discussion of where the opcode/library boundary should be placed, with some arguing that the likes of <code>strftime</code> should be implemented as opcodes. Melvin Smith responded to this with what seems to me to be a very telling point: &ldquo;If we cannot provide a decently performing VM that makes people want to write stuff in bytecode (or compiled to bytecode) we have failed anyway&rdquo;.</p>

<p>Toward the end of the week, Dan announced some decisions and questions. Larry had a few quibbles, but otherwise there have been no other comments. Personally, if I never hear the phrase &ldquo;leap second&rdquo; again, I&rsquo;ll not be unhappy.</p>

<p><a href="http://groups.google.com/groups?selm=8765dh4voe.wl@badger.wordzoo.com">http://groups.google.com</a></p>

<p><a href="http://groups.google.com/groups?selm=a06010202bc74cd596e93@%5B10.0.1.2%5D">http://groups.google.com</a> &ndash; Dan&rsquo;s decisions</p>

<h4 id="span-id-alternate-function-calling-scheme-alternate-function-calling-scheme-span"><span id="Alternate_function_calling_scheme">Alternate function calling scheme</span></h4>

<p>Dan has come to the view that we need an alternative, light weight, calling convention for calling vtable opcode functions; the idea being that this should speed up objects a tad. He asked for suggestions.</p>

<p>Leo Tötsch wasn&rsquo;t convinced that we really need special calling conventions, arguing (with numbers) that it would be best to concentrate on speeding up object instantiation by optimizing object layout. Simon Glover agreed with him, noting that simply changing the Array that used to store class, classname and attributes gave him a speedup of around 15% on the object benchmarks.</p>

<p><a href="http://groups.google.com/groups?selm=a0601020cbc72593ac4bb@%5B10.0.1.2%5D">http://groups.google.com</a></p>

<h4 id="span-id-summary-correction-summary-correction-span"><span id="Summary_Correction">Summary Correction</span></h4>

<p>Last week I said that we can&rsquo;t yet do delegated method calls for vtable functions with objects. Leo pointed out that, actually, we can now. Leo also disclaimed any responsibility for helping Brent Royal-Gordon (né Dax?) fix up the support functions for Parrot::Config, though Brent later claimed that he was merely the person doing the typing&hellip;</p>

<p>Jerome Quelin noted that <em>parrotbug</em> has already reached version 0.2.1 (I wonder what its version will be when Parrot 1.0.0 gets released).</p>

<p><a href="http://groups.google.com/groups?selm=200403082309.i28N9ac17099@thu8.leo.home">http://groups.google.com</a></p>

<p><a href="http://groups.google.com/groups?selm=200403091942.29818.jquelin@mongueurs.net">http://groups.google.com</a></p>

<h4 id="span-id-dead-object-detection-improved-dead-object-detection-improved-span"><span id="Dead_Object_Detection_improved">Dead Object Detection improved</span></h4>

<p>Not content with his work on everything else this week, Leo has revisited the Garbage Collector and tracked down a couple of bugs including a really nasty sounding one that caused disappearing continuations. He even isolated the problem with a test.</p>

<p><a href="http://groups.google.com/groups?selm=404D8D7E.4050306@toetsch.at">http://groups.google.com</a></p>

<h4 id="span-id-rejigging-trace-output-rejigging-trace-output-span"><span id="Rejigging_trace_output">Rejigging trace output</span></h4>

<p>Leo&rsquo;s rearranged the output of <code>parrot -t</code> slightly in an effort to make it more readable. Jens Rieks was impressed and pointed out a couple of issues, which Leo quickly fixed.</p>

<p><a href="http://groups.google.com/groups?selm=404DDAE7.8030403@toetsch.at">http://groups.google.com</a></p>

<h4 id="span-id-namespaces-in-imcc-namespaces-in-imcc-span"><span id="Namespaces_in_IMCC">Namespaces in IMCC</span></h4>

<p>Dan&rsquo;s day job continues to be a handy driver of Parrot development. This time he needs to make use of namespaces and, whilst namespaces themselves aren&rsquo;t completely nailed down yet, there&rsquo;s enough there that the time has come to work out the syntax for working with them in IMCC. He proposed</p>

<pre><code>    .namespace [foo; bar; baz]
</code></pre>

<p>as a way of setting the current namespace to <code>foo::bar::baz</code> (in Perl style, your language may vary). Leo was okay with that as far as it went, but pointed out that things were slightly more complicated than Dan&rsquo;s proposal implied. He suggested that the time was right to sort out the duties of the PIR assembler towards variable names, name mangling, lexical scopes, namespaces, globals and all that good stuff. Dan punted slightly on this latter part, saying that, in general it shouldn&rsquo;t be the assembler&rsquo;s job to track them. The current namespace would simply be used as the namespace in which to place any subsequently defined functions. There was the sound of a hand slapping a forehead from Austria, and Leo went off and implemented it.</p>

<p><a href="http://groups.google.com/groups?selm=a06010201bc73817cf36b@%5B10.0.1.2%5D">http://groups.google.com</a></p>

<h4 id="span-id-new-library-objecthacks-imc-new-library-objecthacks-imc-span"><span id="New_library,_objecthacks.imc">New library, <em>objecthacks.imc</em></span></h4>

<p>In the process of redoing the Parrot Data::Dumper to use objects, Jens Rieks built a library of helper functions to make object usage easier, so he submitted it to the list as a standalone library. Leo checked it in, you can find it at <code>library/objecthacks.imc</code></p>

<p><a href="http://groups.google.com/groups?selm=200403091934.50795.parrot@jensbeimsurfen.de">http://groups.google.com</a></p>

<h4 id="span-id-implementing-stat-implementing-stat-span"><span id="Implementing_stat?">Implementing <code>stat</code>?</span></h4>

<p>Leo Tötsch proposed a <code>stat</code> opcode for finding out about things in the filesystem. He outlined a proposed interface. Dan agreed that we&rsquo;d need something, but that Leo&rsquo;s proposal was far too unix-centric to work for a cross platform platform like Parrot. He suggested going back to first principles and working out what information would be needed (and possibly available). He also said that one of his guiding principles for Parrot was that he would &ldquo;rather not re-implement and expose 35 years worth of &lsquo;Whoops, that turned out to be a bad idea&rsquo; crud.&rdquo;</p>

<p>Josh Wilmes took this opportunity to remind everyone of the proposed <em>miniparrot</em> and pointed out that, if we want it to work again, there needs to be a smooth way to exclude opcodes or PMCs that won&rsquo;t work in miniparrot&rsquo;s environment. Dan agreed strongly, reminding everyone that miniparrot is intended to be the basis of Parrot&rsquo;s eventual build system. (The process will go: Platform specific shell script -&gt; miniparrot -&gt; parrot).</p>

<p><a href="http://groups.google.com/groups?selm=404EF075.8040506@toetsch.at">http://groups.google.com</a></p>

<p><a href="http://groups.google.com/groups?selm=200403101753.i2AHrGYe020044@galactic.hitchhiker.org">http://groups.google.com</a> &ndash; Don&rsquo;t forget the miniparrot!</p>

<h4 id="span-id-imcc-and-method-calls-imcc-and-method-calls-span"><span id="IMCC_and_method_calls">IMCC and method calls</span></h4>

<p>Leo announced that he&rsquo;d expanded IMCC&rsquo;s PIR parser a bit, allowing you to write:</p>

<pre><code>    obj.method(args)
    ret = obj.method(...)
    (retvals) = obj.method(...)
</code></pre>

<p>where <code>method</code> is a label.</p>

<p>A couple of hours later Dan posted a design spec for how he wanted method calls to work in IMCC:</p>

<pre><code>    object.variable(params)
    object.&quot;literal name&quot;(params)
</code></pre>

<p>Methods would be declared like:</p>

<pre><code>    .pcc_sub foo prototyped, method
        .param pmc foo
        .param pmc bar
        ...
    .end
</code></pre>

<p>Declaring a method in this way would also create a local <code>self</code> which points to the object PMC register. What do you know, Leo implemented it all. There is also a more &lsquo;explicit&rsquo; way of making method calls for those occasions when you need more control. Check the docs/examples for details.</p>

<p><a href="http://groups.google.com/groups?selm=404F3777.9040005@toetsch.at">http://groups.google.com</a>&ndash; Leo implements at 3pm</p>

<p><a href="http://groups.google.com/groups?selm=a06010206bc74fab20f4d@%5B10.0.1.2%5D">http://groups.google.com</a> &ndash; Dan designs at 5pm</p>

<h4 id="span-id-data-dumper-test-version-data-dumper-test-version-span"><span id="Data::Dumper_test_version">Data::Dumper test version</span></h4>

<p>The excellent Jens Rieks posted a test version of his object oriented version of <code>library/dumper.imc</code> and asked for comments. (Mine was &ldquo;Wow!&rdquo; but I didn&rsquo;t post it to the list &lsquo;til now). Leo wondered if he should add it to the repository or wait for it to get rejigged to take account of all the improved object syntax changes that had gone into IMCC. Jens told him to hold fire until he&rsquo;d converted everything to the new syntax.</p>

<p><a href="http://groups.google.com/groups?selm=200403101412.58065.parrot@jensbeimsurfen.de">http://groups.google.com</a></p>

<h4 id="span-id-months-that-do-the-right-thing-months-that-do-the-right-thing-span"><span id="Months_that_Do_The_Right_Thing">Months that Do The Right Thing</span></h4>

<p>Dan&rsquo;s rejigged the date decoding logic to return months in the range 1-12 instead of 0-11. And there was some rejoicing.</p>

<p><a href="http://groups.google.com/groups?selm=a06010205bc7637281889@%5B10.222.20.224%5D">http://groups.google.com</a></p>

<h4 id="span-id-problems-calling-methods-on-self-problems-calling-methods-on-self-span"><span id="Problems_calling_methods_on_self">Problems calling methods on <code>self</code></span></h4>

<p>Jens Rieks discovered that he couldn&rsquo;t call <code>self.&quot;method&quot;(...)</code>, or even compile it for that matter. It turned out to be a problem with the grammar. Steve Fink provided a grammar fix, Leo tracked down a problem with registers not getting preserved properly, and there followed some discussion about the ambiguity of <code>.</code> being used for both method calls and string concatenation. Luke Palmer suggested (and Melvin Smith agreed) that it was probably better style to use the <code>concat</code> op anyway.</p>

<p><a href="http://groups.google.com/groups?selm=200403111634.23237.parrot@jensbeimsurfen.de">http://groups.google.com</a></p>

<h4 id="span-id-object-instantiation-initialization-object-instantiation-initialization-span"><span id="Object_instantiation/initialization">Object instantiation/initialization</span></h4>

<p>Dan&rsquo;s currently seesawing about how to customize object creation by passing arguments to the constructor function. At present, you create an object by calling the class&rsquo;s <code>init</code> method, which doesn&rsquo;t take any arguments, and then call an object method with appropriate arguments to do any other setup that&rsquo;s dependent on the arguments if you want to. Dan outlined three ways forward and asked for opinions.</p>

<p><a href="http://groups.google.com/groups?selm=a06010200bc7566408dbf@%5B10.222.20.224%5D">http://groups.google.com</a></p>

<h4 id="span-id-ponie-problems-ponie-problems-span"><span id="Ponie_problems">Ponie problems</span></h4>

<p>Nicholas Clark posted to say that Ponie was having problems when built using Parrot&rsquo;s garbage collection. After some encouragement from Leo, he managed to write a short test case that showed the issue in a few lines of C. Leo proposed a solution, but Nicholas and Arthur Bergman (Ponie&rsquo;s core team) weren&rsquo;t happy with either option. This hadn&rsquo;t been resolved by the end of the week.</p>

<p><a href="http://groups.google.com/groups?selm=20040311203553.GF12395@plum.flirble.org">http://groups.google.com</a></p>

<h4 id="span-id-why-does-parrot-have-so-many-opcodes-why-does-parrot-have-so-many-opcodes-span"><span id="Why_does_Parrot_have_so_many_opcodes?">Why does Parrot have so many opcodes?</span></h4>

<p>Matt Greenwood wondered why Parrot had so many opcodes, and what the criteria are for adding or deleting ops. Various rationales were offered. Dan&rsquo;s explanation was probably the most comprehensive though. Apparently, Parrot has opcode explosion issues because there&rsquo;s no runtime op variance and if you want to know what that means, read Dan&rsquo;s post.</p>

<p><a href="http://groups.google.com/groups?selm=DB30501EDA9FE34CB686A124032C127E02956E01@mxgbl1.twosigma.com">http://groups.google.com</a></p>

<p><a href="http://groups.google.com/groups?selm=a06010202bc77666a3dc0@%5B172.24.18.98%5D">http://groups.google.com</a> &ndash; Dan explains it all</p>

<h4 id="span-id-parrot-grabs-sigint-parrot-grabs-sigint-span"><span id="Parrot_grabs_SIGINT">Parrot grabs SIGINT</span></h4>

<p>Arthur &ldquo;Poniemaster&rdquo; Bergman noticed that Parrot grabs SIGINT, which makes some of Ponie&rsquo;s signal handling code break. He wondered if this was something that needed fixing, or a deliberate design decision. Dan says that, eventually and by design, Parrot will grab all the signals, though not necessarily in the embedded case (which is what Arthur is using of course.)</p>

<p><a href="http://groups.google.com/groups?selm=609A6A46-7420-11D8-8D57-000A95A2734C@fotango.com">http://groups.google.com</a></p>

<h4 id="span-id-ponie-gets-a-development-release-ponie-gets-a-development-release-span"><span id="Ponie_gets_a_development_release">Ponie gets a development release</span></h4>

<p>Arthur Bergman has made the second development release of Ponie, the Perl5/Parrot hybrid. The initial response was positive.</p>

<p><a href="http://groups.google.com/groups?selm=EBE5CF35-7445-11D8-8D57-000A95A2734C@nanisky.com">http://groups.google.com</a></p>

<h4 id="span-id-per-class-attribute-offsets-per-class-attribute-offsets-span"><span id="Per-class_attribute_offsets">Per-class attribute offsets</span></h4>

<p>Peter Haworth had a bunch of questions and worries about using numeric offsets to get at class attributes. Dan tried to reassure him, but Oli came up with a worrying corner case. Dan didn&rsquo;t think it was that big an issue, but confessed that it&rsquo;s still a worry.</p>

<p><a href="http://groups.google.com/groups?selm=PGM.20040312181417.1806.4266@edison.ioppublishing.com">http://groups.google.com</a></p>

<h4 id="span-id-using-ruby-objects-with-parrot-using-ruby-objects-with-parrot-span"><span id="Using_Ruby_Objects_with_Parrot">Using Ruby Objects with Parrot</span></h4>

<p>Poor old Dan; once you&rsquo;ve got some bits of objects done, it just means everyone wants more from you. Mark Sparshatt wondered how to handle languages like Ruby, where a class is also an object, which seems to run counter to Parrot&rsquo;s scheme using ParrotClass and ParrotObject PMCs where a ParrotClass isn&rsquo;t a ParrotObject. He suggested three ways forward.</p>

<p>Summarizing this stuff is Hard. One one level you can reduce the issue to a couple of sentences, but understanding those sentences involves rather a lot of underpinning knowledge that I&rsquo;m not sure I have. I just know that life&rsquo;s an awful lot easier if I can treat classes as objects.</p>

<p>Dan tried to wrap his head &lsquo;round things and posted a summary of his initial understanding of what a metaclass is. He wondered if we&rsquo;d need to have a &lsquo;call class method&rsquo; operation. Paolo Molaro pointed out that most of this stuff only becomes a real issue when you have to deal with objects implemented in one language calling methods on objects implemented in a different one. Leo Tötsch explained Parrot&rsquo;s current (somewhat confusing to these eyes) hierarchy where:</p>

<ul>
<li>A ParrotClass isa delegate PMC</li>
<li>A ParrotObject isa ParrotClass</li>
<li>A HLL class isa ParrotClass and a low-level PMC object</li>
<li>A HLL object isa all of above</li>
</ul>

<p>Piers Cawley thought that having ParrotObject inherit from ParrotClass rather than vice versa seemed somewhat perverse. He also argued that method dispatch should be decoupled from method lookup. I think he and Leo failed to communicate.</p>

<p>Mitchell N Charity was good value on all this as well; definitely worth reading if you&rsquo;re into the theory behind OO should work.</p>

<p><a href="http://groups.google.com/groups?selm=4052382E.30108@yahoo.co.uk">http://groups.google.com</a></p>

<p><a href="http://groups.google.com/groups?selm=a06010211bc78efbdadc4@%5B172.24.18.98%5D">http://groups.google.com</a></p>

<p><a href="http://groups.google.com/groups?selm=200403141936.i2EJaog10368@vendian.org">http://groups.google.com</a> &ndash; Mitchell N Charity on Objects, Classes and MetaClasses</p>

<h4 id="span-id-configure-changes-configure-changes-span"><span id="Configure_changes">Configure changes</span></h4>

<p>Brent announced that he&rsquo;s been making some significant changes to Configure in the last week or so. He posted a big list. Leo liked what had been done so far, but thought the process needed more steps to probe for more stuff.</p>

<p><a href="http://groups.google.com/groups?selm=4052638F.9020806@brentdax.com">http://groups.google.com</a></p>

<h4 id="span-id-pir-changes-pir-changes-span"><span id="PIR_changes">PIR changes</span></h4>

<p>Leo announced that he&rsquo;s added some syntactic sugar to PIR; you can now write:</p>

<pre><code>    $N0 = sin 0
    $I0 = can $P0, &quot;puts&quot;
    $I0 = isa $P0, &quot;scalar&quot;
</code></pre>

<p>etc, and they&rsquo;ll be magically converted to</p>

<pre><code>    PARROT_OP lhs[, args]
</code></pre>

<p>which is rather handy (with some ugly cases: <code>P1 = invoke</code> being the example Leo came up with).</p>

<p><a href="http://groups.google.com/groups?selm=405428FD.60608@toetsch.at">http://groups.google.com</a></p>

<h4 id="span-id-oo-version-of-data-dumper-oo-version-of-data-dumper-span"><span id="OO_version_of_Data::Dumper">OO version of Data::Dumper</span></h4>

<p>On Sunday, Jens Rieks released his OO version of Data::Dumper, along with a couple of helper libraries, including a rewritten <em>objecthacks.imc</em>, now called <em>objects.imc</em>. Leo committed it (and a followup bugfix) promptly and Parrot now has its first OO application/library. Yay Jens!</p>

<p><a href="http://groups.google.com/groups?selm=200403141744.41872.parrot@jensbeimsurfen.de">http://groups.google.com</a></p>

<h3 id="span-id-meanwhile-in-perl6-language-meanwhile-in-perl6-language-span"><span id="Meanwhile,_in_perl6-language">Meanwhile, in perl6-language</span></h3>

<h4 id="span-id-magic-blocks-magic-blocks-span"><span id="Magic_blocks">Magic blocks</span></h4>

<p>Remember last week I implied that magic UPPERCASE blocks for things like <code>BEGIN</code>, <code>CHECK</code>, <code>INIT</code> etc were being replaced by properties on variables? Well, I was wrong. We keep magic blocks but we also get handy properties for attaching actions to variables.</p>

<p>In fact, the handy properties were first discussed in April last year, as Larry pointed out.</p>

<p><a href="http://groups.google.com/groups?selm=20040309002351.GA10938@wall.org">http://groups.google.com</a></p>

<h4 id="span-id-mutating-methods-mutating-methods-span"><span id="Mutating_methods">Mutating methods</span></h4>

<p>Juerd wondered about the possibility of mutating and non mutating methods in Perl 6. Consider the Perl 5 functions <code>chomp</code> and <code>lc</code>. <code>chomp</code> potentially modifies its argument, whereas <code>lc</code> returns a new string. Juerd liked the idea of having mutating and non mutating versions of both <code>chomp</code> and <code>lc</code> (and other such string methods). He proposed using</p>

<pre><code>    $aString.lc; # Non-mutating
    $aString.=lc; # Mutating
</code></pre>

<p>The general response to this was favourable.</p>

<p>The thread sparked a discussion of Perl 6 Rules and hypothetical variables (which just makes me hope Damian gets Perl6::Rules written really soon).</p>

<p>Larry posted a chunk of stuff from the forthcoming Apocalypse 12 that looks rather neat. Then he and Simon Cozens started talking Japanese and my head started spinning.</p>

<p><a href="http://groups.google.com/groups?selm=20040310163933.GB10971@c4.convolution.nl">http://groups.google.com</a></p>

<p><a href="http://groups.google.com/groups?selm=20040312200110.GA2793@wall.org">http://groups.google.com</a> &ndash; Larry tells us more about A12</p>

<h4 id="span-id-operators-that-keep-going-and-going-operators-that-keep-going-and-going-span"><span id="Operators_that_keep_going_and_going...">Operators that keep going and going&hellip;</span></h4>

<p>Carissa wondered if Perl 6 would have what she called &lsquo;persistent&rsquo; operators, so that you could do:</p>

<pre><code>    my $a = 10;
    my $b = 5;

    my $c = $b + $a;

    print $c; # 15

    $a = 8;

    print $c; # 13
</code></pre>

<p>Several people pointed out that it&rsquo;s already possible to do this sort of thing in Perl 5 so it&rsquo;d be a big surprise if you couldn&rsquo;t do the same thing in Perl 6. (See perldoc overload in the section &ldquo;Really symbolic calculator&rdquo; for details).</p>

<p><a href="http://groups.google.com/groups?selm=KKEPICKEKBFIGENPCEJIIEKDCAAA.c_nikkel@shaw.ca">http://groups.google.com</a></p>

<h3 id="span-id-announcements-apologies-acknowledgements-announcements-apologies-acknowledgements-span"><span id="Announcements,_Apologies,_Acknowledgements">Announcements, Apologies, Acknowledgements</span></h3>

<p>I&rsquo;ve had it with discussions of whether Unicode&rsquo;s a good idea or not, and from this summary onwards I&rsquo;ll not be including any such discussions unless Larry does an implausible <em>volte face</em>. That is all.</p>

<p>Now I can go back to being anxious about my stepdaughter who&rsquo;s been in labour for rather a long time.</p>

<p>If you find these summaries useful or enjoyable, please consider contributing to the Perl Foundation to help support the development of Perl. You might also like to send me feedback at <a href="mailto:p6summarizer@bofh.org.uk">mailto:p6summarizer@bofh.org.uk</a>, or drop by my website, maybe I&rsquo;ll add some content to it this week.</p>

<p><a href="http://donate.perl-foundation.org/">http://donate.perl-foundation.org/</a> &ndash; The Perl Foundation</p>

<p><a href="http://dev.perl.org/perl6/">http://dev.perl.org/perl6/</a> &ndash; Perl 6 Development site</p>

<p><a href="http://www.bofh.org.uk/">http://www.bofh.org.uk/</a> &ndash; My website, &ldquo;Just a Summary&rdquo;</p>

              </article>
              <p><strong>Tags</strong></p>
              <div class="tags">
                <div class="category"><a href="/categories/perl-6">perl-6</a></div>
                
                  <div class="tag"><a href="/tags/perl-6-internals-parrot">perl-6-internals-parrot</a></div>
                
              </div>
            </div>
            
              
                
<div class="row" id="author-bio-piers-cawley">
  <div class="col-sm-2">
    
    <a href="/authors/piers-cawley/"><div class="circle-avatar" style="background-image:url(/images/author/piers-cawley.jpg)"></div></a>
  </div>
  <div class="col-sm-10">
    <a href="/authors/piers-cawley/"><h3>Piers Cawley</h3></a>
    <p></p>
    <h5><a href="/authors/piers-cawley/">Browse their articles</a></h5>
  </div>
</div>

            
            <div class="row">
              <h3>Feedback</h3>
              <p>Something wrong with this article? Help us out by opening an issue or pull request on <a href="https://github.com/tpf/perldotcom/blob/master/content/legacy/_pub_2004_03_p6pdigest_20040314.md">GitHub</a></p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="latest-sidebar">

  <div class="row">
    <div class="col-sm-12 centering">
      <span style="font-size:1.8em" class="antonio txt-blue-major">OUR LATEST ARTICLES</span>
    </div>
  </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/the-perl-admbassador-curtis-poe/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/the-perl-ambassador-curtis-poe/curtis-poe.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>The Perl Ambassador: Curtis &#39;Ovid&#39; Poe</h6>
          <p style="line-height:1"><small>The person behind the news of Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/a-tour-with-net-ftp/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/a-tour-with-net-ftp/thumb_kidyes.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>A tour with Net::FTP</h6>
          <p style="line-height:1"><small>How to write an FTP client in Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/shortcode_test/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/author/brian-d-foy.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>shortcode_test</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/thumb_larry-wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Listen to Larry Wall&#39;s State of the Onion 2000 on YouTube</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/announcing-perl-7/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/announcing-perl-7/thumb_seven_on_blue_wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Announcing Perl 7</h6>
          <p style="line-height:1"><small>Perl 5 with modern defaults</small></p>
      </div>
        </a>
    </div>
  
</div>
<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
  <script async src="/widget/toplinks/toplinks.js" type="text/javascript"></script>
    <div id="toplinks"></div>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <a class="twitter-timeline" data-height="640" data-dnt="true" data-theme="dark" href="https://twitter.com/perlfoundation?ref_src=twsrc%5Etfw">Tweets by perlfoundation</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <script src="https://www.reddit.com/r/perl/hot/.embed?limit=10&t=all" type="text/javascript"></script>
  </div>
</div>



          </div>
        </div>
      </div>
    </section>
  </section>
<script>
 
var tables, i;
tables = document.getElementsByTagName('table');
for (i=0;i<tables.length;i++) {
  tables[i].className = 'table table-striped';
}
</script>
<div class="push"></div>
<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
        <h5>Site Map</h5>
        <ul>
        <li><a href="/">Home</a></li>
        <hr>
        <li><a href="/about">About</a></li>
        <hr>
        <li><a href="/authors">Authors</a></li>
        <hr>
        <li><a href="/categories">Categories</a></li>
        <hr>
        <li><a href="/tags">Tags</a></li>
        <hr>
        </ul>
      </div>
      <div class="col-md-3">
        <h5>Contact Us</h5>
        <p>To get in touch, send an email to: perl.com-editor@perl.org</p>
        <p><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a>
          <a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a>
          <a href="/index.xml" /><img src="/images/site/rss_20.png" alt="rss"></a>
          <a href="https://github.com/tpf/perldotcom">
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></p>
      </div>
      <div class="col-md-2">
          <h5>License</h5>
          <p>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.</p>
          <p><a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a></p>
      </div>
      <div class="col-md-5">
          <h5>Legal</h5>
          <p>Perl.com and the authors make no representations with respect to the accuracy or completeness of the contents of all work on this website and specifically disclaim all warranties, including without limitation warranties of fitness for a particular purpose. The information published on this website may not be suitable for every situation. All work on this website is provided with the understanding that Perl.com and the authors are not engaged in rendering professional services. Neither Perl.com nor the authors shall be liable for damages arising herefrom.</p>
      </div>
    </div>
  </div>
</div>
<script src="/javascript/jquery.min.js"></script>
<script src="/javascript/bootstrap.min.js"></script>
<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>
</html>

