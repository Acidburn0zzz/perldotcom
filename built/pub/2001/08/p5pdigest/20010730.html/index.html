<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title> This Week on p5p 2001/07/30 </title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Notes This Week on P5P  Hash &#34;clamping&#34;  P5P Meeting  Asynchronous Callbacks  h2ph  iThreads Please send corrections and additions to perl-thisweek-YYYYMM@simon-cozens.org where YYYYMM is the current year and month. Changes and additions to the perl5-porters biographies..."/>
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="TZowffo_LX2mmsw2DbeNNbukCMnIOA8T-6CMJPiYllI" />

<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@PerlFoundation">
<meta property="og:url" content="http://localhost:1313/pub/2001/08/p5pdigest/20010730.html/" />
<meta property="og:title" content="This Week on p5p 2001/07/30" />
<meta property="og:description" content="Notes This Week on P5P  Hash &#34;clamping&#34;  P5P Meeting  Asynchronous Callbacks  h2ph  iThreads Please send corrections and additions to perl-thisweek-YYYYMM@simon-cozens.org where YYYYMM is the current year and month. Changes and additions to the perl5-porters biographies...">
<meta property="og:site_name" content="Perl.com" />

<meta property="og:type" content="article" />
<meta property="og:article:published_time" content="2001-08-08T08:08:08Z" />
<meta property="og:image" content="http://localhost:1313/images/author/simon-cozens.jpg" />


  <link rel="icon" href="/favicon.ico">
  <link href="/article/index.xml" rel="alternate" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/article/index.xml" rel="feed" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/perldotcom.css"/>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-50555-22', 'auto');
ga('create', 'UA-85734801-2', 'auto', 'editor');
ga('send', 'pageview');
ga('editor.send', 'pageview');
</script>

</head>
<body>

<div class="container-fluid full-wdith antonio">
 <div class="row">
  <div class="navbar-inverse" style="border-radius:none !important" role="navigation">
    <div class="container-fluid">
      <ul class="nav navbar-nav pull-right follow">
          <li>MORE:</li>
          <li><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a><li>
          <li><a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a><li>
          <li><a href="/article/index.xml" />
              <img src="/images/site/rss_20.png" alt="rss"></a></li>
          <li><a href="https://github.com/tpf/perldotcom" />
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></li>
      </ul>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          <a class="navbar-nav" href="/">
            <div class="header-logo">Perl.com</div>
          </a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/about">
              <div class="circle">
                <img src="/images/site/perl-camel.png" alt="" />
              </div>
                  &nbsp;&nbsp;ABOUT</a>
          </li>
          <li><a href="/authors">
              <div class="circle">
                  <span class="glyphicon glyphicon-user txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;AUTHORS</a>
          </li>
          <li><a href="/categories">
              <div class="circle">
                  <span class="glyphicon glyphicon-folder-open txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;CATEGORIES</a>
          </li>
          <li><a href="/tags">
              <div class="circle">
                <span class="txt-blue-major" aria-hidden="true"><strong>#</strong></span>
              </div>
                  &nbsp;&nbsp;TAGS</a>
          </li>
          <li>
            <form class="search" name="ddg" action="https://duckduckgo.com/" method="get">
              <input type="text" name ="q" placeholder="SEARCH" />
              <input type="hidden" value="perl.com" name="sites" />
            </form>
          </li>
        </ul>
      </div>
    </div>
  </div>
 </div>
</div>


  <section id="content" role="main">
    <section class="entry-content">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <div class="row">
              <article class="fulltext">
              <h1 class="blog-post-title">This Week on p5p 2001/07/30</h1>
              <p class="blog-post-meta">Aug 1, 2001 by
              
              
                
                
                <a href="#author-bio-simon-cozens">Simon Cozens</a>
              
              </p>
              <img alt="" src=""/>
                

<h3 id="span-id-notes-notes-span"><span id="Notes">Notes</span></h3>

<table>
<colgroup>
<col width="100%" />
</colgroup>
<tbody>
<tr class="odd">
<td></td>
</tr>
<tr class="even">
<td><p>This Week on P5P</p>
<p>• <a href="#Hash_clamping">Hash &quot;clamping&quot;</a><br />
<br />
• <a href="#P5P_Meeting">P5P Meeting</a><br />
<br />
• <a href="#Asynchronous_Callbacks">Asynchronous Callbacks</a><br />
<br />
• <a href="#h2ph">h2ph</a><br />
<br />
• <a href="#iThreads">iThreads</a></p></td>
</tr>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>

<p>Please send corrections and additions to perl-thisweek-YYYYMM@simon-cozens.org where YYYYMM is the current year and month. Changes and additions to the perl5-porters biographies are particularly welcome.</p>

<p>Again this is a somewhat abridged summary this week, since I&rsquo;m still on the road, but also because last week was the Perl conference and so there was very little activity.</p>

<h3 id="span-id-hash-clamping-hash-clamping-span"><span id="Hash_clamping">Hash &ldquo;clamping&rdquo;</span></h3>

<p>The discussion of Jeffrey Friedl&rsquo;s idea of hash &ldquo;clamping&rdquo; - that is, disallowing new hash key creation - rolled on. <a href="http://simon-cozens.org/writings/whos-who.html#who">Nick</a> encouraged Jeffrey to make use of the HV&rsquo;s existing readonly bit to signal &ldquo;clampedness&rdquo; instead of using up another flag bit, but Jeffrey disagreed that this makes semantic sense: readonlyness would refer to the values as well as the keys. <a href="http://simon-cozens.org/writings/whos-who.html#who">Abigail</a> took a more holistic view:</p>

<blockquote>
<p>I think this is yet another example of &ldquo;there&rsquo;s something wrong/missing in Perl, let&rsquo;s fix it with a kludge&rdquo;.</p>

<p>The real underlaying problems here are 1) Perl doesn&rsquo;t have structs, but more importantly, 2) Perl only gives you one instance variable per object. Pseudo-hashes tried to fix the symptoms, not the cause and they didn&rsquo;t succeed. &ldquo;clamp&rdquo; tries to fix the symptoms too - and not the cause.</p>

<p>The problem isn&rsquo;t really that you can make typos with hashkeys, the problem is that you&rsquo;re almost forced to use hashes in cases you really wanted something else, but the best alternative Perl gives you are hashes.</p>

<p>While I agree such a &ldquo;clamp&rdquo; function feels better than pseudo-hashes, I feel less than thrilled by the idea explaining the reasoning about &ldquo;clamp&rdquo; to my students - or collegeas for that matter.</p>
</blockquote>

<p>He also disagreed (as did I) with the idea that something like this, which can be done with a simple tie, should require a change in the language. I proposed <code>Tie::SecureHash</code> which does what was requested but without the speed of a core hack.</p>

<h3 id="span-id-p5p-meeting-p5p-meeting-span"><span id="P5P_Meeting">P5P Meeting</span></h3>

<p>At TPC, a motley crew of developers got together to discuss the state of Perl development and raise issues of interest. Jarkko started the ball rolling by talking about development. He outlined some of the new things and also some of the deprecations in 5.7.x, which you should all probably know if you&rsquo;ve been following these summaries; he also outlined things that had been put off for the future so that he wouldn&rsquo;t have to care too much about them: Artur&rsquo;s ithreads work, bignum, Unicode, and Inline. He mentioned that a hopeful timetable for 5.8.0 would be around three months. After that, Hugo would take the helm for 5.9.0, which would include a cleanup of the regexp engine plus a phased shift towards 6.0 features.</p>

<p>(Jarkko&rsquo;s slides can be found at <a href="http://www.iki.fi/jhi/osc2001/">http://www.iki.fi/jhi/osc2001/</a>)</p>

<p>At this point, Damian mentioned that we might be producing versions too fast for companies to adequately support - many companies will skip 5.6.0 and go to 5.8 if it&rsquo;s stable. Randy Ray explained how RedHat&rsquo;s product adoption works.</p>

<p>Sarathy came up and talk about 5.6, saying that he wouldn&rsquo;t do much maintainance other than integrating minor patches from 5.8. He also once again appealed for a new pumpking.</p>

<p>Nat and Dan talked about Perl 6, and again outlined a lot of things that should be familiar; I&rsquo;ll try and make sure these are covered in the Perl 6 digest.</p>

<p>Hugo explained the regex changes that were needed, including rewriting the regex engine to use an optree much like (but separate to) Perl&rsquo;s own optree, rather than the current bytecode &ldquo;oplist&rdquo;. This would allow for more aggressive but at the same time conceptually simpler optimization. Dan suggested that this should be done as a module to give it a trial run, then moved to core if it works. Hugo also said that he and MJD have been trying to remove the recursion in the regular expression engine.</p>

<p>Jeff Pinyan then talked about some work he&rsquo;d been doing with Jeff Friedl, particularly new syntax for character class arithmetic (&ldquo;alphabetic characters minus vowels&rdquo; and so on) and syntax for named captures. Larry had, of course, been through this: he announced the character class arithmetic syntax in Perl 6, and said that the deeper problem with named captures is that people really wanted regular expressions to return complex data structures. MJD also pointed out that overloading <code>qr</code> could do a lot of what the Jeffs wanted, including reversable regular expressions.</p>

<p>I spoke briefly about Unicode and the compiler, but pre-empted myself since both topics were covered in my TPC tutorials. Jeff Okamoto enthused about IPv6; the discussion continued throughout the week and is too verbose to explain here.</p>

<p>Finally, there was a long discussion about the standard module set and SDKs. Most people agreed that an SDK was required, but opinions differed on how to make one &ldquo;official&rdquo; and how to ensure that the user installs what they need. Larry&rsquo;s proposal for Perl 6 was that the standard library was so small as to be almost useless on its own, forcing people to go get what they need from CPAN.</p>

<p>Huge thanks to Ziggy for taking notes.</p>

<h3 id="span-id-asynchronous-callbacks-asynchronous-callbacks-span"><span id="Asynchronous_Callbacks">Asynchronous Callbacks</span></h3>

<p>Remember the discussion about asynchronous callbacks <a href="/pub/2001/07/p5pdigest/20010709.html">way back when?</a> Well, David Lloyd has come back with a solution Async::Callback. Nice one, David.</p>

<p>He notes that it&rsquo;s not re-entrant unless you link Perl with <code>-lpthread</code>, but it&rsquo;s pretty fast.</p>

<h3 id="span-id-h2ph-h2ph-span"><span id="h2ph">h2ph</span></h3>

<p>Kurt Starsinic rocks! He wrote a fantastic little test for <code>h2ph</code> which compares the constants provided by the <code>Socket</code> and <code>POSIX</code> extensions with their values from the <code>.h</code> files as generated by <code>h2ph</code>. This uncovered a load of bugs in <code>h2ph</code>, as well as one in <code>Scalar::Utils::dualvar</code>. Kurt also fixed these bugs. Oh, and made hex constants appear as numbers when used in a numeric context and strings of bytes when used as strings. What more could you ask for?</p>

<h3 id="span-id-ithreads-ithreads-span"><span id="iThreads">iThreads</span></h3>

<p>Artur Bergman announced the release of some of his new threading modules, <code>threads</code>, <code>threads::shared</code> and <code>threads::queue</code> to CPAN. Great work, Artur!</p>

<h3 id="span-id-various-various-span"><span id="Various">Various</span></h3>

<p>Phillip Newton continued his clean-up work of typoes and POD errors in the documentation, and Ilya dropped in a bunch of patches mainly to help tidy up the build process. One of the patches which was particularly handy allowed</p>

<pre><code>    make OPTIMIZE=-g perl
</code></pre>

<p>to simply rebuild perl with debugging.</p>

<p>If you ever thought pseudohashes were useful, Autrijus Tang demonstrated that they were even slower than tying and overloading.</p>

<p>Will Sanchez produced another clutch of Darwin patches - thanks, Will! I tried a patch to turn off optimization and constant folding but was quickly convinced these are two separate areas. Look for a new one coming next week&hellip;</p>

<p>There was another report about how <code>$a</code> and <code>$b</code> aren&rsquo;t picked up by the <code>strict</code> pragma. I have despatched the hellhounds.</p>

<p>Until next week I remain, your humble and obedient servant,</p>

<hr />

<p><a href="mailto:simon.co.uk">Simon Cozens</a></p>

              </article>
              <p><strong>Tags</strong></p>
              <div class="tags">
                <div class="category"><a href="/categories/community">community</a></div>
                
              </div>
            </div>
            
              
                
<div class="row" id="author-bio-simon-cozens">
  <div class="col-sm-2">
    
    <a href="/authors/simon-cozens/"><div class="circle-avatar" style="background-image:url(/images/author/simon-cozens.jpg)"></div></a>
  </div>
  <div class="col-sm-10">
    <a href="/authors/simon-cozens/"><h3>Simon Cozens</h3></a>
    <p></p>
    <h5><a href="/authors/simon-cozens/">Browse their articles</a></h5>
  </div>
</div>

            
            <div class="row">
              <h3>Feedback</h3>
              <p>Something wrong with this article? Help us out by opening an issue or pull request on <a href="https://github.com/tpf/perldotcom/blob/master/content/legacy/_pub_2001_08_p5pdigest_20010730.md">GitHub</a></p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="latest-sidebar">

  <div class="row">
    <div class="col-sm-12 centering">
      <span style="font-size:1.8em" class="antonio txt-blue-major">OUR LATEST ARTICLES</span>
    </div>
  </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/the-perl-admbassador-curtis-poe/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/the-perl-ambassador-curtis-poe/curtis-poe.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>The Perl Ambassador: Curtis &#39;Ovid&#39; Poe</h6>
          <p style="line-height:1"><small>The person behind the news of Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/a-tour-with-net-ftp/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/a-tour-with-net-ftp/thumb_kidyes.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>A tour with Net::FTP</h6>
          <p style="line-height:1"><small>How to write an FTP client in Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/shortcode_test/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/author/brian-d-foy.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>shortcode_test</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/thumb_larry-wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Listen to Larry Wall&#39;s State of the Onion 2000 on YouTube</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/announcing-perl-7/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/announcing-perl-7/thumb_seven_on_blue_wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Announcing Perl 7</h6>
          <p style="line-height:1"><small>Perl 5 with modern defaults</small></p>
      </div>
        </a>
    </div>
  
</div>
<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
  <script async src="/widget/toplinks/toplinks.js" type="text/javascript"></script>
    <div id="toplinks"></div>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <a class="twitter-timeline" data-height="640" data-dnt="true" data-theme="dark" href="https://twitter.com/perlfoundation?ref_src=twsrc%5Etfw">Tweets by perlfoundation</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <script src="https://www.reddit.com/r/perl/hot/.embed?limit=10&t=all" type="text/javascript"></script>
  </div>
</div>



          </div>
        </div>
      </div>
    </section>
  </section>
<script>
 
var tables, i;
tables = document.getElementsByTagName('table');
for (i=0;i<tables.length;i++) {
  tables[i].className = 'table table-striped';
}
</script>
<div class="push"></div>
<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
        <h5>Site Map</h5>
        <ul>
        <li><a href="/">Home</a></li>
        <hr>
        <li><a href="/about">About</a></li>
        <hr>
        <li><a href="/authors">Authors</a></li>
        <hr>
        <li><a href="/categories">Categories</a></li>
        <hr>
        <li><a href="/tags">Tags</a></li>
        <hr>
        </ul>
      </div>
      <div class="col-md-3">
        <h5>Contact Us</h5>
        <p>To get in touch, send an email to: perl.com-editor@perl.org</p>
        <p><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a>
          <a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a>
          <a href="/index.xml" /><img src="/images/site/rss_20.png" alt="rss"></a>
          <a href="https://github.com/tpf/perldotcom">
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></p>
      </div>
      <div class="col-md-2">
          <h5>License</h5>
          <p>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.</p>
          <p><a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a></p>
      </div>
      <div class="col-md-5">
          <h5>Legal</h5>
          <p>Perl.com and the authors make no representations with respect to the accuracy or completeness of the contents of all work on this website and specifically disclaim all warranties, including without limitation warranties of fitness for a particular purpose. The information published on this website may not be suitable for every situation. All work on this website is provided with the understanding that Perl.com and the authors are not engaged in rendering professional services. Neither Perl.com nor the authors shall be liable for damages arising herefrom.</p>
      </div>
    </div>
  </div>
</div>
<script src="/javascript/jquery.min.js"></script>
<script src="/javascript/bootstrap.min.js"></script>
<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>
</html>

