<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title> POD is not Literate Programming </title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content=""/>
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="TZowffo_LX2mmsw2DbeNNbukCMnIOA8T-6CMJPiYllI" />

<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@PerlFoundation">
<meta property="og:url" content="http://localhost:1313/pub/tchrist/litprog.html/" />
<meta property="og:title" content="POD is not Literate Programming" />
<meta property="og:description" content="Since 1997 Perl.com has published articles about the Perl programming language, its culture and community.">
<meta property="og:site_name" content="Perl.com" />

<meta property="og:type" content="article" />
<meta property="og:article:published_time" content="2000-03-03T03:03:03Z" />
<meta property="og:image" content="http://localhost:1313/images/author/mjd.jpg" />


  <link rel="icon" href="/favicon.ico">
  <link href="/article/index.xml" rel="alternate" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/article/index.xml" rel="feed" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/perldotcom.css"/>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-50555-22', 'auto');
ga('create', 'UA-85734801-2', 'auto', 'editor');
ga('send', 'pageview');
ga('editor.send', 'pageview');
</script>

</head>
<body>

<div class="container-fluid full-wdith antonio">
 <div class="row">
  <div class="navbar-inverse" style="border-radius:none !important" role="navigation">
    <div class="container-fluid">
      <ul class="nav navbar-nav pull-right follow">
          <li>MORE:</li>
          <li><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a><li>
          <li><a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a><li>
          <li><a href="/article/index.xml" />
              <img src="/images/site/rss_20.png" alt="rss"></a></li>
          <li><a href="https://github.com/tpf/perldotcom" />
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></li>
      </ul>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          <a class="navbar-nav" href="/">
            <div class="header-logo">Perl.com</div>
          </a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/about">
              <div class="circle">
                <img src="/images/site/perl-camel.png" alt="" />
              </div>
                  &nbsp;&nbsp;ABOUT</a>
          </li>
          <li><a href="/authors">
              <div class="circle">
                  <span class="glyphicon glyphicon-user txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;AUTHORS</a>
          </li>
          <li><a href="/categories">
              <div class="circle">
                  <span class="glyphicon glyphicon-folder-open txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;CATEGORIES</a>
          </li>
          <li><a href="/tags">
              <div class="circle">
                <span class="txt-blue-major" aria-hidden="true"><strong>#</strong></span>
              </div>
                  &nbsp;&nbsp;TAGS</a>
          </li>
          <li>
            <form class="search" name="ddg" action="https://duckduckgo.com/" method="get">
              <input type="text" name ="q" placeholder="SEARCH" />
              <input type="hidden" value="perl.com" name="sites" />
            </form>
          </li>
        </ul>
      </div>
    </div>
  </div>
 </div>
</div>


  <section id="content" role="main">
    <section class="entry-content">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <div class="row">
              <article class="fulltext">
              <h1 class="blog-post-title">POD is not Literate Programming</h1>
              <p class="blog-post-meta">Mar 20, 2000 by
              
              
                
                
                <a href="#author-bio-mark-jason-dominus">Mark-Jason Dominus</a>
              
              </p>
              <img alt="" src=""/>
                

<table>
<tbody>
<tr class="odd">
<td>Table of Contents</td>
</tr>
<tr class="even">
<td>•<a href="#POD_is_Not_Literate_Programming">POD is Not Literate Programming</a><br />
•<a href="#What_is_Literate_Programming_">What is Literate Programming?</a><br />
•<a href="#How_Literate_Programming_Works">How Literate Programming Systems Work</a><br />
   •<a href="#C_tangle_"><code>tangle</code></a><br />
   •<a href="#C_weave_"><code>weave</code></a><br />
•<a href="#Summary">Summary</a><br />
</td>
</tr>
</tbody>
</table>

<p>I frequently come across assertions that POD, Perl&rsquo;s documentation system, is an example of `Literate Programming&rsquo;. For example, FOLDOC, the Free On-Line Dictionary of Computing, says <a href="http://burks.bton.ac.uk/burks/foldoc/35/63.htm">``Perl&rsquo;s literate programming system is called pod.&rdquo;</a> The manual for Ian Clatworthy&rsquo;s Simple Document Format (SDF) package says <a href="http://www.mincom.com/mtr/sdf/paper/sdfintro.html#POD">``Like SDF, POD supports literate programming.&rdquo;</a> But POD is <em>not</em> literate programming.</p>

<p>Why is this important? POD is a really good idea. But literate programming is an even better idea. Perl has a long history of borrowing good ideas from elsewhere. If we go around thinking that POD is literate programming when it isn&rsquo;t, that&rsquo;ll lead us to disregard literate programming when we hear about it. ``Oh, I already know what that is,&rdquo; we&rsquo;ll say. But we <em>don&rsquo;t</em> know what it is, and since it&rsquo;s such an excellent idea, it would be a shame if we missed out on it just because we thought we already knew what it was.</p>

<h1 id="span-id-what-is-literate-programming-what-is-literate-programming-span"><span id="What_is_Literate_Programming_">What is Literate Programming?</span></h1>

<p>Literate programming was invented around 1983 by the very famous Donald Knuth, author of the TeX typesetting system and the multi-volume series <em>The Art of Computer Programming</em>. It is based on two important ideas.</p>

<p>The first idea is that good program documentation shouldn&rsquo;t be squeezed into little `comments&rsquo;. It should be structured more like a technical article for a journal, and it should have all the support that a journal article usually gets, including good typesetting. The programmer should have the opportunity to annotate each section of the code with as much explanation as is necessary and appropriate.</p>

<p>So far this sounds just like POD. Where POD comes up short is in the other important idea.</p>

<p>Knuth&rsquo;s other idea was that the best order to explain the parts of the program in a journal article is not going to be the same as the order that the computer needs to see the code. When you write a computer program, you have to present the code to the computer in a certain order, or else it doesn&rsquo;t work. This order might not be a good order for explaining the way the program works.</p>

<p>For example, you might have</p>

<pre><code>        unless (open(F, &quot;&lt; $file&quot;)) {
           # 55 lines of error handling here ...        
        }

        $line = &lt;F&gt;;
</code></pre>

<p>When you&rsquo;re explaining the program to someone else, you want to talk about opening the file and reading a line. You don&rsquo;t want to have to interrupt yourself with a huge digression about the error handling just because the computer language you&rsquo;re using requires that you put the error handling in between the open and the read; you&rsquo;d might prefer to talk about the main logic first, and return to discuss the error-handling part much later.</p>

<p>For the same reason, having the error handling code in the middle there is no just an impediment to you when you try to explain the code, it&rsquo;s also an impediment to another programmer trying to understand the code. One frequent criticism of C is that it&rsquo;s too hard to follow the flow of logic because it is visually dominated by block after block of error handling code.</p>

<p>It&rsquo;s sometimes possible to work around this kind of problem by using subroutines or exceptions or some other kind of non-local control flow, but Knuth&rsquo;s idea goes right to the heart of the problem. When you program in a literate programming system, you get to write the code in any order you want to. The literate programming system comes with a utility program, usually called <code>tangle</code>, which permutes the code into the right order so that you can compile or execute it.</p>

<p>Perl doesn&rsquo;t have anything like <code>tangle</code>. You can write comments and typeset them with your favorite typesetting system, but you still have to explain the code in an order that makes sense for the perl interpreter, and not for the person who&rsquo;s trying to understand it.</p>

<h1 id="span-id-how-literate-programming-works-how-literate-programming-systems-work-span"><span id="How_Literate_Programming_Works">How Literate Programming Systems Work</span></h1>

<p>The world&rsquo;s full of examples of literate programming in action; see the links at the end of this article. Here&rsquo;s a super-simple incomplete example, to give you the idea.</p>

<p>This is a fragment of a typical file written in the literate programming style. You should focus on the main idea, rather than on the details of syntax, because this example was written for a notional literate programming system that doesn&rsquo;t actually exist.</p>

<pre><code>        # much code omitted....
        =head1 Open the file

        First we will need to open the file.  Blah blah blah.  In a
        real example, this might be much more complicated and might
        require an extended explanation such as a description of the
        algorithm or pictures of the data structures.

        =cut

        unless (open FH, $file) {
          &lt;&lt;handle the errors&gt;&gt;
        }

        =head1 Handle the errors

        If `normal' errors occur, we will just ask the user for a new
        filename.  `Normal' errors are if the file doesn't exist
        (perhaps the user mispelled the name) or if the user lacks
        permission to read it.  In case of some other error, such as
        `disk is on fire', the program will abort immediately.

        =cut

        if (   $! =~ /no such file/i
            || $! =~ /permission denied/i) {
          warn &quot;Could not open file `$file': $!.\n&quot;;
          &lt;&lt;get new filename and start over&gt;&gt;
        }

        =head1 Process input

        Notice how we don't need to deal with ``get new filename and
        start over'' until we feel like it.  We have postponed that
        section for later.

        =cut

        # and so on...
</code></pre>

<p>The file is divided up into sections. Each section has some documentation, a title, and some code. The code might be incomplete; if it contains <code>&lt;&lt;title&gt;&gt;</code> then that means the code from another section should be inserted at that point.</p>

<p>A literate programming system comes with two important programs. One, typically called <code>tangle</code>, discards the documentation sections and rearranges the code into the right order. The output of tangling the example above would look something like this:</p>

<pre><code>        # Open the file
        unless (open FH, $file) {
          # handle the errors
        if (   $! =~ /no such file/i
            || $! =~ /permission denied/i) {
          warn &quot;Could not open file `$file': $!.\n&quot;;
           #Get new filename and start over
           print &quot;Enter new filename: &quot;;
           #[Etc.]
        }
</code></pre>

<p>This actually runs. The code from `Handle the errors&rsquo; was inserted into the appropriate place in `Open the file&rsquo;, and the code from `Get new filename and start over&rsquo; (which I didn&rsquo;t show before) was inserted into the appropriate place in `Handle the errors&rsquo;. This code is ugly, but no uglier than the output of the C preprocessor, or a C compiler. Just consider the output of <code>tangle</code> to be object code: You can run it, but you don&rsquo;t want to look at it.</p>

<h2 id="span-id-c-weave-weave-span"><span id="C_weave_"><code>weave</code></span></h2>

<p>The other important program that comes with a literate programming system is typically called <code>weave</code>. It formats and typesets the documentation and the code, generates an appropriate index and table of contents, and so on. The result of running <code>weave</code> on our example above might look something like this:</p>

<table>
<colgroup>
<col width="100%" />
</colgroup>
<tbody>
<tr class="odd">
<td><h4 id="open-the-file"><span id="open_the_file">Open the file</span></h4>
<p>First we will need to open the file. Blah blah blah. In a real example, this might be much more complicated and might require an extended explanation such as a description of the algorithm or pictures of the data structures.</p>
<pre><code>unless (open FH, $file) {
  handle the errors
}</code></pre>
<h4 id="handle-the-errors"><span id="handle_the_errors">Handle the errors</span></h4>
<p>If `normal' errors occur, we will just ask the user for a new filename. `Normal' errors are if the file doesn't exist (perhaps the user mispelled the name) or if the user lacks permission to read it. In case of some other error, such as `disk is on fire', the program will abort immediately.</p>
<pre><code>warn &quot;Could not open file `$file&#39;: $!.\n&quot;;
if (   $! =~ /no such file/i
    || $! =~ /permission denied/i) {
  get new filename and start over
} else {
  exit 1;
}</code></pre>
<h4 id="process-input"><span id="process_input">Process input</span></h4>
<p>Notice how we don't need to deal with ``get new filename and start over'' until we feel like it. We have postponed that section for later.</p>
<pre><code># Much omitted...</code></pre>
<h3 id="index"><span id="#INDEX">Index</span></h3>
<ul>
<li><a href="#get_new_filename_and_start_over">Get new filename and start over</a></li>
<li><a href="#handle_the_errors">Handle the errors</a></li>
<li><a href="#open_the_file">Open the file</a></li>
<li><a href="#process_input">Process input</a></li>
</ul></td>
</tr>
</tbody>
</table>

<h1 id="span-id-summary-summary-span"><span id="Summary">Summary</span></h1>

<p>Literate programming systems have the following properties:</p>

<ol>
<li><p>Code and extended, detailed comments are intermingled.</p></li>

<li><p>The code sections can be written in whatever order is best for people to understand, and are re-ordered automatically when the computer needs to run the program.</p></li>

<li><p>The program and its documentation can be handsomely typeset into a single article that explains the program and how it works. Indices and cross-references are generated automatically.</p></li>
</ol>

<p>POD only does task 1, but the other tasks are much more important.</p>

<p>Literate programming is an intersting idea, and worth looking into, but if we think that we already know all about it, we won&rsquo;t bother. Let&rsquo;s bother. For an introduction, <a href="http://www.literateprogramming.com/knuthweb.pdf">see Knuth&rsquo;s original paper</a> which has a short but complete example. For a slightly longer example, <a href="http://www.plover.com/~mjd/23tree.tgz">here&rsquo;s a library I wrote in literate style</a> that manages 2-3 trees in C.</p>

<p>Andrew Johnson&rsquo;s new book <a href="http://www.manning.com/Johnson/"><em>Elements of Programming with Perl</em></a> uses literate programming techniques extensively, and shows the source code for a literate programming system written in Perl.</p>

<p>Finally, <a href="http://www.literateprogramming.com/">the Literate Programming web site</a> has links to many other resources, including literate programming environments that you can try out yourself.</p>

              </article>
              <p><strong>Tags</strong></p>
              <div class="tags">
                <div class="category"><a href="/categories/development">development</a></div>
                
              </div>
            </div>
            
              
                
<div class="row" id="author-bio-mark-jason-dominus">
  <div class="col-sm-2">
    
    <a href="/authors/mark-jason-dominus/"><div class="circle-avatar" style="background-image:url(/images/author/mjd.jpg)"></div></a>
  </div>
  <div class="col-sm-10">
    <a href="/authors/mark-jason-dominus/"><h3>Mark-Jason Dominus</h3></a>
    <p></p>
    <h5><a href="/authors/mark-jason-dominus/">Browse their articles</a></h5>
  </div>
</div>

            
            <div class="row">
              <h3>Feedback</h3>
              <p>Something wrong with this article? Help us out by opening an issue or pull request on <a href="https://github.com/tpf/perldotcom/blob/master/content/legacy/_pub_tchrist_litprog.md">GitHub</a></p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="latest-sidebar">

  <div class="row">
    <div class="col-sm-12 centering">
      <span style="font-size:1.8em" class="antonio txt-blue-major">OUR LATEST ARTICLES</span>
    </div>
  </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/the-perl-admbassador-curtis-poe/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/the-perl-ambassador-curtis-poe/curtis-poe.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>The Perl Ambassador: Curtis &#39;Ovid&#39; Poe</h6>
          <p style="line-height:1"><small>The person behind the news of Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/a-tour-with-net-ftp/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/a-tour-with-net-ftp/thumb_kidyes.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>A tour with Net::FTP</h6>
          <p style="line-height:1"><small>How to write an FTP client in Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/shortcode_test/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/author/brian-d-foy.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>shortcode_test</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/thumb_larry-wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Listen to Larry Wall&#39;s State of the Onion 2000 on YouTube</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/announcing-perl-7/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/announcing-perl-7/thumb_seven_on_blue_wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Announcing Perl 7</h6>
          <p style="line-height:1"><small>Perl 5 with modern defaults</small></p>
      </div>
        </a>
    </div>
  
</div>
<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
  <script async src="/widget/toplinks/toplinks.js" type="text/javascript"></script>
    <div id="toplinks"></div>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <a class="twitter-timeline" data-height="640" data-dnt="true" data-theme="dark" href="https://twitter.com/perlfoundation?ref_src=twsrc%5Etfw">Tweets by perlfoundation</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <script src="https://www.reddit.com/r/perl/hot/.embed?limit=10&t=all" type="text/javascript"></script>
  </div>
</div>



          </div>
        </div>
      </div>
    </section>
  </section>
<script>
 
var tables, i;
tables = document.getElementsByTagName('table');
for (i=0;i<tables.length;i++) {
  tables[i].className = 'table table-striped';
}
</script>
<div class="push"></div>
<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
        <h5>Site Map</h5>
        <ul>
        <li><a href="/">Home</a></li>
        <hr>
        <li><a href="/about">About</a></li>
        <hr>
        <li><a href="/authors">Authors</a></li>
        <hr>
        <li><a href="/categories">Categories</a></li>
        <hr>
        <li><a href="/tags">Tags</a></li>
        <hr>
        </ul>
      </div>
      <div class="col-md-3">
        <h5>Contact Us</h5>
        <p>To get in touch, send an email to: perl.com-editor@perl.org</p>
        <p><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a>
          <a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a>
          <a href="/index.xml" /><img src="/images/site/rss_20.png" alt="rss"></a>
          <a href="https://github.com/tpf/perldotcom">
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></p>
      </div>
      <div class="col-md-2">
          <h5>License</h5>
          <p>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.</p>
          <p><a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a></p>
      </div>
      <div class="col-md-5">
          <h5>Legal</h5>
          <p>Perl.com and the authors make no representations with respect to the accuracy or completeness of the contents of all work on this website and specifically disclaim all warranties, including without limitation warranties of fitness for a particular purpose. The information published on this website may not be suitable for every situation. All work on this website is provided with the understanding that Perl.com and the authors are not engaged in rendering professional services. Neither Perl.com nor the authors shall be liable for damages arising herefrom.</p>
      </div>
    </div>
  </div>
</div>
<script src="/javascript/jquery.min.js"></script>
<script src="/javascript/bootstrap.min.js"></script>
<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>
</html>

