<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title> This Week on p5p 2000/04/30 </title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content=" Notes Line Disciplines Continue Ben Tilly Fixes map Gack! Big Bug in 5.6 More pack Options IPC::BashEm perldiag Re-alphabetized Poor Diagnosis of sort Errors glob() function not documented Overloading Assignment POSIX Character Classes First Cite for &#39;Perl&#39;? Various Notes..."/>
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="TZowffo_LX2mmsw2DbeNNbukCMnIOA8T-6CMJPiYllI" />

<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@PerlFoundation">
<meta property="og:url" content="http://localhost:1313/pub/2000/04/p5pdigest/THISWEEK-20000430.html/" />
<meta property="og:title" content="This Week on p5p 2000/04/30" />
<meta property="og:description" content=" Notes Line Disciplines Continue Ben Tilly Fixes map Gack! Big Bug in 5.6 More pack Options IPC::BashEm perldiag Re-alphabetized Poor Diagnosis of sort Errors glob() function not documented Overloading Assignment POSIX Character Classes First Cite for &#39;Perl&#39;? Various Notes...">
<meta property="og:site_name" content="Perl.com" />

<meta property="og:type" content="article" />
<meta property="og:article:published_time" content="2000-04-04T04:04:04Z" />
<meta property="og:image" content="http://localhost:1313/images/author/mjd.jpg" />


  <link rel="icon" href="/favicon.ico">
  <link href="/article/index.xml" rel="alternate" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/article/index.xml" rel="feed" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/perldotcom.css"/>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-50555-22', 'auto');
ga('create', 'UA-85734801-2', 'auto', 'editor');
ga('send', 'pageview');
ga('editor.send', 'pageview');
</script>

</head>
<body>

<div class="container-fluid full-wdith antonio">
 <div class="row">
  <div class="navbar-inverse" style="border-radius:none !important" role="navigation">
    <div class="container-fluid">
      <ul class="nav navbar-nav pull-right follow">
          <li>MORE:</li>
          <li><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a><li>
          <li><a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a><li>
          <li><a href="/article/index.xml" />
              <img src="/images/site/rss_20.png" alt="rss"></a></li>
          <li><a href="https://github.com/tpf/perldotcom" />
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></li>
      </ul>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          <a class="navbar-nav" href="/">
            <div class="header-logo">Perl.com</div>
          </a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/about">
              <div class="circle">
                <img src="/images/site/perl-camel.png" alt="" />
              </div>
                  &nbsp;&nbsp;ABOUT</a>
          </li>
          <li><a href="/authors">
              <div class="circle">
                  <span class="glyphicon glyphicon-user txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;AUTHORS</a>
          </li>
          <li><a href="/categories">
              <div class="circle">
                  <span class="glyphicon glyphicon-folder-open txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;CATEGORIES</a>
          </li>
          <li><a href="/tags">
              <div class="circle">
                <span class="txt-blue-major" aria-hidden="true"><strong>#</strong></span>
              </div>
                  &nbsp;&nbsp;TAGS</a>
          </li>
          <li>
            <form class="search" name="ddg" action="https://duckduckgo.com/" method="get">
              <input type="text" name ="q" placeholder="SEARCH" />
              <input type="hidden" value="perl.com" name="sites" />
            </form>
          </li>
        </ul>
      </div>
    </div>
  </div>
 </div>
</div>


  <section id="content" role="main">
    <section class="entry-content">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <div class="row">
              <article class="fulltext">
              <h1 class="blog-post-title">This Week on p5p 2000/04/30</h1>
              <p class="blog-post-meta">Apr 30, 2000 by
              
              
                
                
                <a href="#author-bio-mark-jason-dominus">Mark-Jason Dominus</a>
              
              </p>
              <img alt="" src=""/>
                

<ul>
<li><a href="#Notes">Notes</a></li>
<li><a href="#Line_Disciplines_Continue">Line Disciplines Continue</a></li>
<li><a href="#Ben_Tilly_Fixes_%5Bmap%5D">Ben Tilly Fixes <code>map</code></a></li>
<li><a href="#Gack__Big_Bug_in_56">Gack! Big Bug in 5.6</a></li>
<li><a href="#More_%5Bpack%5D_Options">More <code>pack</code> Options</a></li>
<li><a href="#%5BIPC::BashEm%5D"><code>IPC::BashEm</code></a></li>
<li><a href="#%5Bperldiag%5D_Re_alphabetized"><code>perldiag</code> Re-alphabetized</a></li>
<li><a href="#Poor_Diagnosis_of_%5Bsort%5D_Errors">Poor Diagnosis of <code>sort</code> Errors</a></li>
<li><a href="#%5Bglob%5D_function_not_documented"><code>glob()</code> function not documented</a></li>
<li><a href="#Overloading_Assignment">Overloading Assignment</a></li>
<li><a href="#POSIX_Character_Classes">POSIX Character Classes</a></li>
<li><a href="#First_Cite_for_Perl?">First Cite for &lsquo;Perl&rsquo;?</a></li>
<li><a href="#Various">Various</a></li>
</ul>

<h3 id="span-id-notes-notes-span"><span id="Notes">Notes</span></h3>

<p>You can subscribe to an email version of this summary by sending an empty message to <a href="mailto:p5p-digest-subscribe@plover.com"><code>p5p-digest-subscribe@plover.com</code>.</a></p>

<p>Please send corrections and additions to <code>mjd-perl-thisweek-YYYYMM@plover.com</code> where <code>YYYYMM</code> is the current year and month.</p>

<h3 id="span-id-line-disciplines-continue-line-disciplines-continue-span"><span id="Line_Disciplines_Continue">Line Disciplines Continue</span></h3>

<p>The discussion of Simon&rsquo;s trial implementation of line disciplines continued, with Sarathy, Ilya, Nick Ing-Simmons, and Larry participating. Some topics of discussion: How do disciplines interact with end-of-line location? Will a discipline request data character-by-character from the discipline below it, or can it request lines or larger chunks? Does a filter transform a file object into another file object, or does it transform an SV into another SV? In either case, what to do with the current <code>sv_gets</code> function that reads a line from a file and passes the resulting line upwards as an SV? What is the real meaning of <code>:raw</code>? Is it a filter, or an indication that filters should not be used? What happens to <code>$/</code> in the presence of disciplines? What does <code>sysread</code> do when buffering is being provided by some line discipline? (Larry&rsquo;s answer to this last: It calls the low-level <code>read()</code> function, bypassing the disciplines, as usual.)</p>

<p>Paul Moore asked what the benefit of line disciplines is that is not shared by tied filehandles. The answer was &lsquo;speed&rsquo;. Tied filehandles have all the overhead of objects and method calls.</p>

<h3 id="span-id-ben-tilly-fixes-map-ben-tilly-fixes-map-span"><span id="Ben_Tilly_Fixes_[map]">Ben Tilly Fixes <code>map</code></span></h3>

<p>Last week, I reported on all the interesting topics raised by Ben Tilly, including an opservation that the <code>grep</code> code is optimized for the assumption that the output will be smaller than (or the same size as) the input, which is a good assumption. However, the <code>map</code> code, which is derived from <code>grep</code>, is optimized the same way, but in this case the assumption is totally wrong. Ben pointed out that you can rewrite a version of <code>map</code> <em>in Perl</em> that is faster than the builtin <code>map</code> for many common cases. He even suggested how this might be fixed, and I regretfully observed that he did not provide a patch.</p>

<p>Apparently spurred by this, Ben submitted a patch! Woo-hoo!</p>

<h3 id="span-id-gack-big-bug-in-56-gack-big-bug-in-5-6-span"><span id="Gack__Big_Bug_in_56">Gack! Big Bug in 5.6</span></h3>

<p>Larry Rosler pointed out that</p>

<pre><code>        perl -e &quot;my $x = 10; $x = '2' . $x; print $x + 0&quot;
</code></pre>

<p>prints <code>10</code> instead of <code>210</code>. Whoops. Simon Cozens provided a patch. 5.6.1 anybody?</p>

<h3 id="span-id-more-pack-options-more-pack-options-span"><span id="More_[pack]_Options">More <code>pack</code> Options</span></h3>

<p>John Holdsworth added more features to pack] to better support Sun&rsquo;s XDR (external data representation) formats, which is something I haven&rsquo;t looked at since about 1990. His change also supports <code>?</code> as a length specifier, saying that the length can be found in the data. Ilya found fault with this; he thinks it is not general enough.</p>

<p><a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2000-04/msg00900.html">Interested parties might like to read more</a></p>

<p>For me this discussion is reminiscent of a long discussion from last year in which Ilya wanted to introduce a feature that would make data self-unpacking; it would carry its own template with it.</p>

<p><a href="/pub/1999/10/p5pdigest/THISWEEK-19991031.html#pack_t_Template">Similar discussion from last year</a></p>

<h3 id="span-id-ipc-bashem-ipc-bashem-span"><span id="[IPC::BashEm]"><code>IPC::BashEm</code></span></h3>

<p>Barrie Slaymaker posted a really interesting module that combines <code>open3</code>, <code>select</code> and , <code>waitpid</code>. This is something we&rsquo;ve needed for a long time. Everyone should check out this thread.</p>

<p><a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2000-04/msg00980.html">Full details, including man page</a></p>

<p>Discussion about the user interface followed for about 25 messages.</p>

<h3 id="span-id-perldiag-re-alphabetized-perldiag-re-alphabetized-span"><span id="[perldiag]_Re_alphabetized"><code>perldiag</code> Re-alphabetized</span></h3>

<p>I submitted a little patch to add a new diagnostic message, and Ron Kimball pointed out that I had put the message into the wrong part of <code>perldiag</code>. The messages in <code>perldiag</code> are supposed to be in alphabetical order, but in 5.6 there are a bunch that are just tacked onto the end in their own miniature alphabetical order, and I had added mine there by mistake.</p>

<p>I re-alphabetized the whole thing with a different (and more consistent) alphabetic scheme.</p>

<p><a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2000-04/msg00891.html">Novus Ordo Seclorum</a></p>

<h3 id="span-id-poor-diagnosis-of-sort-errors-poor-diagnosis-of-sort-errors-span"><span id="Poor_Diagnosis_of_[sort]_Errors">Poor Diagnosis of <code>sort</code> Errors</span></h3>

<p>If you try to use a <code>sort</code> comparator function when either of the magical variables <code>$a</code> or <code>$b</code> has been declared to have lexical scope, the comparator won&rsquo;t work, because it is looking at the lexical variables, and <code>sort</code> is leaving the values to be compared in the global variables. There&rsquo;s a diagnostic for this:</p>

<pre><code>        Can't use &quot;my $a&quot; in sort comparison
</code></pre>

<p>Here&rsquo;s what <code>perldiag</code> says about it:</p>

<pre><code>     (F) The global variables $a and $b are reserved for sort comparisons.
     You mentioned $a or $b in the same line as the &lt;=&gt; or cmp operator,
     and the variable had earlier been declared as a lexical variable.
     Either qualify the sort variable with the package name, or rename the
     lexical variable.
</code></pre>

<p>Peter Scott points out that this is not very nice&mdash;it only detects uses of <code>$a</code> that appear in comparisons; in particular, the following code does not produce the diagnostic, although it should:</p>

<pre><code>        my $a;
        my @sorted_list = sort { sortfunc($a, $b) } @list;
</code></pre>

<p>I know there are many people out there looking for a not-too-difficult core hacking project to get started on. Fixing this might be such a project.</p>

<h3 id="span-id-glob-function-not-documented-glob-function-not-documented-span"><span id="[glob]_function_not_documented"><code>glob()</code> function not documented</span></h3>

<p>Randal pointed out that the <code>File::Glob</code> man page, which is the default globber for the 5.6.0 <code>glob()</code> function, does not say what the function actually does. For example, does this globber support the csh-style <code>{foo,bar,baz}</code> notation? Perhaps someone would like to rectify this?</p>

<h3 id="span-id-overloading-assignment-overloading-assignment-span"><span id="Overloading_Assignment">Overloading Assignment</span></h3>

<p>You can&rsquo;t use the overload mechanism to overload assignment, but you can use the <code>tie</code> mechanism. Jeff Pinyan posted an example module that wraps up overloaded assignment semantics for a module. Damian replied that he has a paper about that. Discussion went offlist.</p>

<p><a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2000-04/msg00892.html">Jeff&rsquo;s Idea</a></p>

<h3 id="span-id-posix-character-classes-posix-character-classes-span"><span id="POSIX_Character_Classes">POSIX Character Classes</span></h3>

<p>POSIX Character Classes (new in 5.6) do not work in the <code>tr</code> operator. Since <code>\d</code> and <code>\w</code>, and character classes generally also do not work there, it is not a big surprise. Summary: <code>tr[a-z][A-Z]</code> looks like it has character classes, but it doesn&rsquo;t.</p>

<h3 id="span-id-first-cite-for-perl-first-cite-for-perl-span"><span id="First_Cite_for_Perl?">First Cite for &lsquo;Perl&rsquo;?</span></h3>

<p>The Oxford English Dictionary folks contacted Larry and asked for the earliest possible print citation for the word &lsquo;Perl&rsquo;. (The OED is the premier dictionary of the English languagem, and seeks to provide contemporary quotations for every word; that way you can see from examples how the meaning and usage of each word has changed over its lifetime. The Third Edition of the OED is due out in 2007.)</p>

<p>The earliest cite located seems to be around 1989; it would be good to get an earlier cite, which the OED folks call an &lsquo;antedating&rsquo;. If you know of an English source that mentions Perl that was printed prior to 1989, please contact Larry. If you can&rsquo;t reach Larry, contact me.</p>

<p>People guess that the best bet for antedatings is probably old <code>;login:</code> magazines. If you have a pile of these, please take a look.</p>

<h3 id="span-id-various-various-span"><span id="Various">Various</span></h3>

<p>A large collection of bug reports, bug fixes, an unusual number of non-bug reports (<code>split</code> deletes trailing null fields! <code>int</code> rounds down! <code>$object-&gt;$field = $value</code> is a snytax error!), questions, answers, and a small amaount of spam. There were no flames this week.</p>

<p>Until next week I remain, your humble and obedient servant,</p>

<hr />

<p><a href="mailto:mjd-perl-thisweek-200004+@plover.com">Mark-Jason Dominus</a></p>

              </article>
              <p><strong>Tags</strong></p>
              <div class="tags">
                <div class="category"><a href="/categories/community">community</a></div>
                
              </div>
            </div>
            
              
                
<div class="row" id="author-bio-mark-jason-dominus">
  <div class="col-sm-2">
    
    <a href="/authors/mark-jason-dominus/"><div class="circle-avatar" style="background-image:url(/images/author/mjd.jpg)"></div></a>
  </div>
  <div class="col-sm-10">
    <a href="/authors/mark-jason-dominus/"><h3>Mark-Jason Dominus</h3></a>
    <p></p>
    <h5><a href="/authors/mark-jason-dominus/">Browse their articles</a></h5>
  </div>
</div>

            
            <div class="row">
              <h3>Feedback</h3>
              <p>Something wrong with this article? Help us out by opening an issue or pull request on <a href="https://github.com/tpf/perldotcom/blob/master/content/legacy/_pub_2000_04_p5pdigest_THISWEEK-20000430.md">GitHub</a></p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="latest-sidebar">

  <div class="row">
    <div class="col-sm-12 centering">
      <span style="font-size:1.8em" class="antonio txt-blue-major">OUR LATEST ARTICLES</span>
    </div>
  </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/the-perl-admbassador-curtis-poe/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/the-perl-ambassador-curtis-poe/curtis-poe.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>The Perl Ambassador: Curtis &#39;Ovid&#39; Poe</h6>
          <p style="line-height:1"><small>The person behind the news of Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/a-tour-with-net-ftp/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/a-tour-with-net-ftp/thumb_kidyes.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>A tour with Net::FTP</h6>
          <p style="line-height:1"><small>How to write an FTP client in Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/shortcode_test/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/author/brian-d-foy.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>shortcode_test</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/thumb_larry-wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Listen to Larry Wall&#39;s State of the Onion 2000 on YouTube</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/announcing-perl-7/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/announcing-perl-7/thumb_seven_on_blue_wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Announcing Perl 7</h6>
          <p style="line-height:1"><small>Perl 5 with modern defaults</small></p>
      </div>
        </a>
    </div>
  
</div>
<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
  <script async src="/widget/toplinks/toplinks.js" type="text/javascript"></script>
    <div id="toplinks"></div>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <a class="twitter-timeline" data-height="640" data-dnt="true" data-theme="dark" href="https://twitter.com/perlfoundation?ref_src=twsrc%5Etfw">Tweets by perlfoundation</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <script src="https://www.reddit.com/r/perl/hot/.embed?limit=10&t=all" type="text/javascript"></script>
  </div>
</div>



          </div>
        </div>
      </div>
    </section>
  </section>
<script>
 
var tables, i;
tables = document.getElementsByTagName('table');
for (i=0;i<tables.length;i++) {
  tables[i].className = 'table table-striped';
}
</script>
<div class="push"></div>
<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
        <h5>Site Map</h5>
        <ul>
        <li><a href="/">Home</a></li>
        <hr>
        <li><a href="/about">About</a></li>
        <hr>
        <li><a href="/authors">Authors</a></li>
        <hr>
        <li><a href="/categories">Categories</a></li>
        <hr>
        <li><a href="/tags">Tags</a></li>
        <hr>
        </ul>
      </div>
      <div class="col-md-3">
        <h5>Contact Us</h5>
        <p>To get in touch, send an email to: perl.com-editor@perl.org</p>
        <p><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a>
          <a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a>
          <a href="/index.xml" /><img src="/images/site/rss_20.png" alt="rss"></a>
          <a href="https://github.com/tpf/perldotcom">
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></p>
      </div>
      <div class="col-md-2">
          <h5>License</h5>
          <p>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.</p>
          <p><a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a></p>
      </div>
      <div class="col-md-5">
          <h5>Legal</h5>
          <p>Perl.com and the authors make no representations with respect to the accuracy or completeness of the contents of all work on this website and specifically disclaim all warranties, including without limitation warranties of fitness for a particular purpose. The information published on this website may not be suitable for every situation. All work on this website is provided with the understanding that Perl.com and the authors are not engaged in rendering professional services. Neither Perl.com nor the authors shall be liable for damages arising herefrom.</p>
      </div>
    </div>
  </div>
</div>
<script src="/javascript/jquery.min.js"></script>
<script src="/javascript/bootstrap.min.js"></script>
<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>
</html>

