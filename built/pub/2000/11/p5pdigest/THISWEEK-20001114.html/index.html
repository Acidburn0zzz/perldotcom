<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title> This Week on p5p 2000/11/14 </title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content=" Notes stat vs. lstat Threads and POSIX PerlIO README.Solaris Locales Integer handling revisited =head3 Little fixes Various Notes You can subscribe to an e-mail version of this summary by sending an empty message to p5p-digest-subscribe@plover.com. Please send corrections and..."/>
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="TZowffo_LX2mmsw2DbeNNbukCMnIOA8T-6CMJPiYllI" />

<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@PerlFoundation">
<meta property="og:url" content="http://localhost:1313/pub/2000/11/p5pdigest/THISWEEK-20001114.html/" />
<meta property="og:title" content="This Week on p5p 2000/11/14" />
<meta property="og:description" content=" Notes stat vs. lstat Threads and POSIX PerlIO README.Solaris Locales Integer handling revisited =head3 Little fixes Various Notes You can subscribe to an e-mail version of this summary by sending an empty message to p5p-digest-subscribe@plover.com. Please send corrections and...">
<meta property="og:site_name" content="Perl.com" />

<meta property="og:type" content="article" />
<meta property="og:article:published_time" content="2000-11-11T11:11:11Z" />
<meta property="og:image" content="http://localhost:1313/images/author/simon-cozens.jpg" />


  <link rel="icon" href="/favicon.ico">
  <link href="/article/index.xml" rel="alternate" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/article/index.xml" rel="feed" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/perldotcom.css"/>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-50555-22', 'auto');
ga('create', 'UA-85734801-2', 'auto', 'editor');
ga('send', 'pageview');
ga('editor.send', 'pageview');
</script>

</head>
<body>

<div class="container-fluid full-wdith antonio">
 <div class="row">
  <div class="navbar-inverse" style="border-radius:none !important" role="navigation">
    <div class="container-fluid">
      <ul class="nav navbar-nav pull-right follow">
          <li>MORE:</li>
          <li><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a><li>
          <li><a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a><li>
          <li><a href="/article/index.xml" />
              <img src="/images/site/rss_20.png" alt="rss"></a></li>
          <li><a href="https://github.com/tpf/perldotcom" />
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></li>
      </ul>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          <a class="navbar-nav" href="/">
            <div class="header-logo">Perl.com</div>
          </a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/about">
              <div class="circle">
                <img src="/images/site/perl-camel.png" alt="" />
              </div>
                  &nbsp;&nbsp;ABOUT</a>
          </li>
          <li><a href="/authors">
              <div class="circle">
                  <span class="glyphicon glyphicon-user txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;AUTHORS</a>
          </li>
          <li><a href="/categories">
              <div class="circle">
                  <span class="glyphicon glyphicon-folder-open txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;CATEGORIES</a>
          </li>
          <li><a href="/tags">
              <div class="circle">
                <span class="txt-blue-major" aria-hidden="true"><strong>#</strong></span>
              </div>
                  &nbsp;&nbsp;TAGS</a>
          </li>
          <li>
            <form class="search" name="ddg" action="https://duckduckgo.com/" method="get">
              <input type="text" name ="q" placeholder="SEARCH" />
              <input type="hidden" value="perl.com" name="sites" />
            </form>
          </li>
        </ul>
      </div>
    </div>
  </div>
 </div>
</div>


  <section id="content" role="main">
    <section class="entry-content">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <div class="row">
              <article class="fulltext">
              <h1 class="blog-post-title">This Week on p5p 2000/11/14</h1>
              <p class="blog-post-meta">Nov 14, 2000 by
              
              
                
                
                <a href="#author-bio-simon-cozens">Simon Cozens</a>
              
              </p>
              <img alt="" src=""/>
                

<ul>
<li><a href="#Notes">Notes</a></li>
<li><a href="#stat_vs_lstat">stat vs. lstat</a></li>
<li><a href="#Threads_and_POSIX">Threads and POSIX</a></li>
<li><a href="#PerlIO">PerlIO</a></li>
<li><a href="#READMESolaris">README.Solaris</a></li>
<li><a href="#Locales">Locales</a></li>
<li><a href="#Integer_handling_revisited">Integer handling revisited</a></li>
<li><a href="#head3">=head3</a></li>
<li><a href="#Little_fixes">Little fixes</a></li>
<li><a href="#Various">Various</a></li>
</ul>

<h3 id="span-id-notes-notes-span"><span id="Notes">Notes</span></h3>

<p>You can subscribe to an e-mail version of this summary by sending an empty message to <a href="mailto:p5p-digest-subscribe@plover.com"><code>p5p-digest-subscribe@plover.com</code>.</a></p>

<p>Please send corrections and additions to simon@brecon.co.uk</p>

<p>There were 348 messages this week.</p>

<p>Dominus mentioned this during his tenure, but now it&rsquo;s my turn: these reports are only made possible due to the generosity of O&rsquo;Reilly and Associates, who keep me in caffeine.</p>

<h3 id="span-id-stat-vs-lstat-stat-vs-lstat-span"><span id="stat_vs_lstat">stat vs. lstat</span></h3>

<p>David Dyck was using <code>find2perl</code> and turned up a couple of problems with <code>lstat</code>. The problem is that <code>lstat _</code> produces a warning because it thinks that <code>_</code> is a filehandle, and you can&rsquo;t <code>lstat</code> a filehandle. (Only a filename)</p>

<p>David produced a patch to take care of this, but then discovered that <code>lstat</code> and the <code>-l</code> filetest were acting differently; you shouldn&rsquo;t be allowed to follow <code>stat('something')</code> with <code>lstat _</code>. Again, David produced another patch to cause a fatal error if you try.</p>

<p>He also noticed that <code>-l FH</code> dies, whereas <code>lstat FH</code> doesn&rsquo;t, but nobody has looked into that yet.</p>

<p>Also in the &ldquo;file tests&rdquo; area, Rich Morin quoted the camel book:</p>

<blockquote>
<p>&ldquo;Because Perl has to read a file to do the -T test, you don&rsquo;t want to use -T on special files that might hang or give you other kinds of grief.&rdquo;</p>
</blockquote>

<p>and commented that maybe Perl should test to see whether someone is planning to do a <code>-T</code> or a <code>-B</code> test on a special file, and &ldquo;keep itself out of trouble&rdquo;.</p>

<p>Kurt Starsinic pointed out that there were times when you do want to test, for example, a named pipe, and Perl shouldn&rsquo;t restrict the programmer from doing so. Nick said it&rsquo;ll all be OK when we have PerlIO working.</p>

<h3 id="span-id-threads-and-posix-threads-and-posix-span"><span id="Threads_and_POSIX">Threads and POSIX</span></h3>

<p>Kurt was indulging in bug archaeology and turned up something spooky relating to signals and threads. He asked for an explanation of how the signal model changes between nonthreaded and threaded Perl, which Dan Sugalski <a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2000-11/msg00356.html">duly provided</a>. The rest of that thread (ho, ho) is worth reading, if you&rsquo;re interested in how threads work with Perl.</p>

<h3 id="span-id-perlio-perlio-span"><span id="PerlIO">PerlIO</span></h3>

<p>As usual, there&rsquo;s a lot of good work going on with PerlIO, and quite a lot of the bulk of this week&rsquo;s traffic was taken up with PerlIO-related test results, bug reports and discussion.</p>

<p>To remind you, PerlIO is going to be a complete IO library for Perl, which, among other things, allows us to insert filters at various stages of the input and output process. This means that, for instance, data can be transparently converted to UTF8 from other character sets.</p>

<p>Nick mentioned that he&rsquo;d like to test PerlIO a lot, so it would be appreciated if those following the Perl development sources could do something like the following:</p>

<pre><code>    ./Configure -Duseperlio -d
    make
    ...
    PERLIO=stdio  make test
    PERLIO=perlio make test
    PERLIO=mmap   make test
</code></pre>

<p>and report results. ( <code>mmap</code> may not be available, depending on platform.) Dominic Dunlop fixed the MachTen hints to stop it for claiming to support <code>mmap</code>, since any attempt to use the function just causes the program to abort due to an error.</p>

<p>Robin Barker found that PerlIO-over- <code>stdio</code> breaks large file support; Nick found that this was a problem with 64-bit support and that Perl was using <code>fseek</code> where it should have been using <code>fseeko</code>.</p>

<p>Nicholas Clark did some work on <code>IO::Handle</code> and some other IO calls, and found that the return values weren&rsquo;t particularly intuitive; Perl was reporting the raw return values from <code>stdio</code> rather than true or false. This becomes problematic, of course, when the IO model isn&rsquo;t <code>stdio</code>. He produced some fixes for <code>ungetc</code> and <code>getpos</code>, and he also noted that if we&rsquo;re using <code>sfio</code> then we shouldn&rsquo;t treat <code>sftell</code> as if it were <code>ftell</code>, as there&rsquo;s yet another return value inconsistency.</p>

<p>Nicholas also came up with a <a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2000-11/msg00604.html">&ldquo;dumb shell&rdquo;</a>to allow a shell with a per-process current directory on systems that don&rsquo;t have one, which should make dealing with subdirectories during building easier, and might also help with cross-compiling Perl.</p>

<p>Nick Ing-Simmons also asked</p>

<blockquote>
<p>Now that PerlIO is in the mainline I _really_ need to know what to do next in terms of making it useful.</p>

<p>This means knowing what it &ldquo;should&rdquo; look like to perl5</p>
</blockquote>

<p>There followed a useful discussion of the proposed API; <a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2000-11/msg00390.html">Read about it.</a></p>

<p>It was also determined that one should open a file containing Latin data as follows:</p>

<p>[ XL indementum tum biguttam tum latin-1 inquementum tum LatinFile inquementum evolute meo fho morive errorum. ]</p>

<p>and that Perl programs dealing with data in Japanese are implicity permitted to seppuku.</p>

<h3 id="span-id-readmesolaris-readme-solaris-span"><span id="READMESolaris">README.Solaris</span></h3>

<p>Andy Dougherty produced a README.Solaris, which Jarkko, Russ, Alan and many others looked over and improved; later on, he produced a final version to be integrated, along with some other Solaris fixes. This was applied to the tree, and then some people picked over it a little more. <a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2000-11/msg00559.html">Read about it.</a></p>

<h3 id="span-id-locales-locales-span"><span id="Locales">Locales</span></h3>

<p>Jarkko&rsquo;s old nemesis was out in force this week. Robin Barker and Larry Virden found that the UTF8 locales didn&rsquo;t work properly - this was not really a surprise, since Jarkko had disabled the tests as they require the fabled polymorphic regular expression support. (This means that <code>/(.)/</code> should be equally happy capturing a UTF8 character as a non-UTF8 character.) Lupe Christoph found that most of the tests work OK, as there&rsquo;s only two that require polymorphic regexes. Jarkko grudgingly re-enabled them - locales are Not His Friend.</p>

<p>Vadim Konovalov produced a little fix to make the locale tests work, and added a test for the MS-DOS Russian code page; seems like Perl is now happy to speak Russian even on MS-DOS systems.</p>

<h3 id="span-id-integer-handling-revisited-integer-handling-revisited-span"><span id="Integer_handling_revisited">Integer handling revisited</span></h3>

<p>If you remember a month ago, there was a discussion on <a href="/pub/2000/10/p5pdigest/THISWEEK-20001008.html#Integer_and_floating_point_handling">integer and floating point handling</a>, in which it was suggested that adding two integers together at run-time should result in an integer, rather than a floating point.</p>

<p>Jarkko and Nicholas Clark have been looking into this, and Jarkko produced a patch; it looked to me like the complexity of determining whether it&rsquo;s possible to sum two integers without overflowing is going to cause a slowdown, and Perl usually trades space for speed.</p>

<p>However, Nicholas mentioned that on the StrongARM architecture, floating points are all emulated, and thus keeping everything integer might actually speed it up.</p>

<h3 id="span-id-head3-head3-span"><span id="head3">=head3</span></h3>

<p>Casey Tweten produced a patch that allowed <code>Pod::Man</code> to deal with <code>=head3</code> and above. Russ Allbery disapproved, on the grounds that the <code>man</code> translator should not be singled out - if we&rsquo;re going to do this, we should change the documentation for POD, and all the other translators. Andy pointed out that it&rsquo;s OK to update the translators one at a time, since it&rsquo;s not really reasonable to blitz through them all in one go. However, <code>perlpod.pod</code> should be updated. (Nobody&rsquo;s done this yet.)</p>

<p>Tim Jenness pointed out that the LaTeX translator already deals with <code>=head3</code> and <code>=head4</code>.</p>

<h3 id="span-id-little-fixes-little-fixes-span"><span id="Little_fixes">Little fixes</span></h3>

<p>Since last week, I concentrated on things that nobody fixed, this time we&rsquo;ll have a whirlwind tour of things that people did get fixed.</p>

<p>The <a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2000-11/msg00271.html">VMS and Cygwin flock fix</a> we mentioned last week were implemented, thanks to Craig Berry and Andy Dougherty.</p>

<p>Eric Fifer brought the Cygwin port up to date with Cygwin 1.1.5. (Great work as ever, Eric!)</p>

<p>Harold Morris, one of the Amdahl UTS people produced some patches to help Perl run under UTS; Lupe Christoph had some of the regular expression-test suite explain why it was failing if it did. Lots of people fixed up documentation, so I won&rsquo;t mention them all. Casey Tweten did some good work, including adding an <code>import</code> method to <code>Class::Struct</code>. Nicholas Clark fixed some FreeBSD <code>stdio</code> declarations. Robin Barker picked up some dodgy casts between pointers and integers.</p>

<h3 id="span-id-various-various-span"><span id="Various">Various</span></h3>

<p>As usual, plenty of small bug reports, patches, irrelevant questions, the complete absence of flames, and only one spam.</p>

<p>Until next week I remain, your humble and obedient servant,</p>

<hr />

<p><a href="mailto:simon@brecon.co.uk">Simon Cozens</a></p>

              </article>
              <p><strong>Tags</strong></p>
              <div class="tags">
                <div class="category"><a href="/categories/community">community</a></div>
                
              </div>
            </div>
            
              
                
<div class="row" id="author-bio-simon-cozens">
  <div class="col-sm-2">
    
    <a href="/authors/simon-cozens/"><div class="circle-avatar" style="background-image:url(/images/author/simon-cozens.jpg)"></div></a>
  </div>
  <div class="col-sm-10">
    <a href="/authors/simon-cozens/"><h3>Simon Cozens</h3></a>
    <p></p>
    <h5><a href="/authors/simon-cozens/">Browse their articles</a></h5>
  </div>
</div>

            
            <div class="row">
              <h3>Feedback</h3>
              <p>Something wrong with this article? Help us out by opening an issue or pull request on <a href="https://github.com/tpf/perldotcom/blob/master/content/legacy/_pub_2000_11_p5pdigest_THISWEEK-20001114.md">GitHub</a></p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="latest-sidebar">

  <div class="row">
    <div class="col-sm-12 centering">
      <span style="font-size:1.8em" class="antonio txt-blue-major">OUR LATEST ARTICLES</span>
    </div>
  </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/the-perl-admbassador-curtis-poe/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/the-perl-ambassador-curtis-poe/curtis-poe.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>The Perl Ambassador: Curtis &#39;Ovid&#39; Poe</h6>
          <p style="line-height:1"><small>The person behind the news of Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/a-tour-with-net-ftp/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/a-tour-with-net-ftp/thumb_kidyes.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>A tour with Net::FTP</h6>
          <p style="line-height:1"><small>How to write an FTP client in Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/shortcode_test/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/author/brian-d-foy.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>shortcode_test</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/thumb_larry-wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Listen to Larry Wall&#39;s State of the Onion 2000 on YouTube</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/announcing-perl-7/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/announcing-perl-7/thumb_seven_on_blue_wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Announcing Perl 7</h6>
          <p style="line-height:1"><small>Perl 5 with modern defaults</small></p>
      </div>
        </a>
    </div>
  
</div>
<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
  <script async src="/widget/toplinks/toplinks.js" type="text/javascript"></script>
    <div id="toplinks"></div>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <a class="twitter-timeline" data-height="640" data-dnt="true" data-theme="dark" href="https://twitter.com/perlfoundation?ref_src=twsrc%5Etfw">Tweets by perlfoundation</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <script src="https://www.reddit.com/r/perl/hot/.embed?limit=10&t=all" type="text/javascript"></script>
  </div>
</div>



          </div>
        </div>
      </div>
    </section>
  </section>
<script>
 
var tables, i;
tables = document.getElementsByTagName('table');
for (i=0;i<tables.length;i++) {
  tables[i].className = 'table table-striped';
}
</script>
<div class="push"></div>
<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
        <h5>Site Map</h5>
        <ul>
        <li><a href="/">Home</a></li>
        <hr>
        <li><a href="/about">About</a></li>
        <hr>
        <li><a href="/authors">Authors</a></li>
        <hr>
        <li><a href="/categories">Categories</a></li>
        <hr>
        <li><a href="/tags">Tags</a></li>
        <hr>
        </ul>
      </div>
      <div class="col-md-3">
        <h5>Contact Us</h5>
        <p>To get in touch, send an email to: perl.com-editor@perl.org</p>
        <p><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a>
          <a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a>
          <a href="/index.xml" /><img src="/images/site/rss_20.png" alt="rss"></a>
          <a href="https://github.com/tpf/perldotcom">
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></p>
      </div>
      <div class="col-md-2">
          <h5>License</h5>
          <p>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.</p>
          <p><a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a></p>
      </div>
      <div class="col-md-5">
          <h5>Legal</h5>
          <p>Perl.com and the authors make no representations with respect to the accuracy or completeness of the contents of all work on this website and specifically disclaim all warranties, including without limitation warranties of fitness for a particular purpose. The information published on this website may not be suitable for every situation. All work on this website is provided with the understanding that Perl.com and the authors are not engaged in rendering professional services. Neither Perl.com nor the authors shall be liable for damages arising herefrom.</p>
      </div>
    </div>
  </div>
</div>
<script src="/javascript/jquery.min.js"></script>
<script src="/javascript/bootstrap.min.js"></script>
<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>
</html>

