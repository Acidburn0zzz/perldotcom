<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title> This Week on p5p 2000/11/20 </title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="&gt; Notes Fixing the Regexp Engine UTF8 and Charnames PerlIO (again) =head3 (again) New subs.pm Congratulations Various Notes You can subscribe to an e-mail version of this summary by sending an empty message to p5p-digest-subscribe@plover.com. Please send corrections and additions..."/>
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="TZowffo_LX2mmsw2DbeNNbukCMnIOA8T-6CMJPiYllI" />

<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@PerlFoundation">
<meta property="og:url" content="http://localhost:1313/pub/2000/11/p5pdigest/THISWEEK-20001120.html/" />
<meta property="og:title" content="This Week on p5p 2000/11/20" />
<meta property="og:description" content="&gt; Notes Fixing the Regexp Engine UTF8 and Charnames PerlIO (again) =head3 (again) New subs.pm Congratulations Various Notes You can subscribe to an e-mail version of this summary by sending an empty message to p5p-digest-subscribe@plover.com. Please send corrections and additions...">
<meta property="og:site_name" content="Perl.com" />

<meta property="og:type" content="article" />
<meta property="og:article:published_time" content="2000-11-11T11:11:11Z" />
<meta property="og:image" content="http://localhost:1313/images/author/simon-cozens.jpg" />


  <link rel="icon" href="/favicon.ico">
  <link href="/article/index.xml" rel="alternate" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/article/index.xml" rel="feed" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/perldotcom.css"/>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-50555-22', 'auto');
ga('create', 'UA-85734801-2', 'auto', 'editor');
ga('send', 'pageview');
ga('editor.send', 'pageview');
</script>

</head>
<body>

<div class="container-fluid full-wdith antonio">
 <div class="row">
  <div class="navbar-inverse" style="border-radius:none !important" role="navigation">
    <div class="container-fluid">
      <ul class="nav navbar-nav pull-right follow">
          <li>MORE:</li>
          <li><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a><li>
          <li><a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a><li>
          <li><a href="/article/index.xml" />
              <img src="/images/site/rss_20.png" alt="rss"></a></li>
          <li><a href="https://github.com/tpf/perldotcom" />
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></li>
      </ul>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          <a class="navbar-nav" href="/">
            <div class="header-logo">Perl.com</div>
          </a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/about">
              <div class="circle">
                <img src="/images/site/perl-camel.png" alt="" />
              </div>
                  &nbsp;&nbsp;ABOUT</a>
          </li>
          <li><a href="/authors">
              <div class="circle">
                  <span class="glyphicon glyphicon-user txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;AUTHORS</a>
          </li>
          <li><a href="/categories">
              <div class="circle">
                  <span class="glyphicon glyphicon-folder-open txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;CATEGORIES</a>
          </li>
          <li><a href="/tags">
              <div class="circle">
                <span class="txt-blue-major" aria-hidden="true"><strong>#</strong></span>
              </div>
                  &nbsp;&nbsp;TAGS</a>
          </li>
          <li>
            <form class="search" name="ddg" action="https://duckduckgo.com/" method="get">
              <input type="text" name ="q" placeholder="SEARCH" />
              <input type="hidden" value="perl.com" name="sites" />
            </form>
          </li>
        </ul>
      </div>
    </div>
  </div>
 </div>
</div>


  <section id="content" role="main">
    <section class="entry-content">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <div class="row">
              <article class="fulltext">
              <h1 class="blog-post-title">This Week on p5p 2000/11/20</h1>
              <p class="blog-post-meta">Nov 20, 2000 by
              
              
                
                
                <a href="#author-bio-simon-cozens">Simon Cozens</a>
              
              </p>
              <img alt="" src=""/>
                

<p>&gt;</p>

<ul>
<li><a href="#Notes">Notes</a></li>
<li><a href="#Fixing_the_Regexp_Engine">Fixing the Regexp Engine</a></li>
<li><a href="#UTF8_and_Charnames">UTF8 and Charnames</a></li>
<li><a href="#PerlIO_again">PerlIO (again)</a></li>
<li><a href="#head3_again">=head3 (again)</a></li>
<li><a href="#New_subspm">New subs.pm</a></li>
<li><a href="#Congratulations">Congratulations</a></li>
<li><a href="#Various">Various</a></li>
</ul>

<h3 id="span-id-notes-notes-span"><span id="Notes">Notes</span></h3>

<p>You can subscribe to an e-mail version of this summary by sending an empty message to <a href="mailto:p5p-digest-subscribe@plover.com"><code>p5p-digest-subscribe@plover.com</code>.</a></p>

<p>Please send corrections and additions to <code>simon@brecon.co.uk</code></p>

<p>There were more than 250 messages this week.</p>

<h3 id="span-id-fixing-the-regexp-engine-fixing-the-regexp-engine-span"><span id="Fixing_the_Regexp_Engine">Fixing the Regexp Engine</span></h3>

<p>There&rsquo;s been a lot of work on the regular-expression engine this week, from Jarkko and Ilya. If you recall, there have been two major problems with the regular-expression engine. First, there&rsquo;s re-entrancy. What this means is that if you try to say</p>

<pre><code>    m/something(?{s|foo|bar|})bad/
</code></pre>

<p>then by the time you get to <code>bad</code>, the engine will be confused, because it can&rsquo;t restore context properly after the <code>s|foo|bar</code>. It can now, thanks to Ilya, who noted:</p>

<blockquote>
<p>Why such a trivial patch should wait for me to do it?!</p>

<p>Doing a similar edit of regexec() is left as an exercise to the reader.</p>
</blockquote>

<p>Jarkko retaliated, &ldquo;Most us mortals find the <code>reg*.[hc]</code> rather daunting.&rdquo; I note that the &ldquo;trivial patch&rdquo; was 89k.</p>

<p>The second problem is recursion; (See <a href="/pub/2000/11/p5pdigest/THISWEEK-20001107.html#The_Regex_Stack_Problem">coverage two weeks ago</a>) what this means is that things such as the pathological example that Dan Brumlevel produced this week causes stack overflows:</p>

<pre><code>    '' =~ ($re = qr((??{$i++ &lt; 10e4 ? $re : ''})));
</code></pre>

<p>Ilya also started work on &ldquo;flattening&rdquo; the regular expression engine to remove this recursion. While his patch doesn&rsquo;t solve the problem, it mitigates it considerably and also allows stack unwinding on things like alternation.</p>

<p>The famous &ldquo;polymorphic regular expression&rdquo; problem also saw some work, thanks to Jarkko. This problem occurs when matching inside UTF8 strings; it goes a little like this: Given a character string which contains character 300, which is represented in UTF8 as character 196 followed by character 172, should character 172 match? Of course, it shouldn&rsquo;t, but it currently does. What&rsquo;s needed is to turn each &ldquo;node&rdquo; of a regular expression into something that can make sense as a character and also as a series of bytes, and then it can behave appropriately when matched in <code>byte</code> mode and in character mode. (See <a href="/pub/2000/07/p5pdigest/THISWEEK-20000702.html#Unicode_Regex_Matching">previous discussion of this</a>.)</p>

<p>Jarkko reports that most of it is now working, apart from the special match variables ( <code>$&amp;</code>, <code>$`</code> and <code>$'</code>) and the POSIX character classes.</p>

<h3 id="span-id-utf8-and-charnames-utf8-and-charnames-span"><span id="UTF8_and_Charnames">UTF8 and Charnames</span></h3>

<p>Andrew McNaughton found that <code>Charnames</code> didn&rsquo;t produce UTF8-encoded strings on code points less than 255. He produced some patches to make it do so, but Nick and I didn&rsquo;t believe that it should be UTF8-encoding if it doesn&rsquo;t need to be. Perl&rsquo;s UTF8 encoding is done lazily - strings are upgraded if Perl can&rsquo;t avoid upgrading them.</p>

<h3 id="span-id-perlio-again-perlio-again-span"><span id="PerlIO_again">PerlIO (again)</span></h3>

<p>Nick&rsquo;s sterling work on PerlIO continues, and this week he raised the question of where to store the defaults that <code>use open</code> sets; currently, there are four bits set in the CV, two for input and two for output. However, since this only gives you four states, it&rsquo;s not exactly extensible to user-defined disciplines. The suggestion from Sarathy was to use the same area used by the lexical warnings pragma. The whole thread contains a good discussion about how the semantics of PerlIO disciplines will pad out. <a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2000-11/msg00780.html">Read about it.</a></p>

<h3 id="span-id-head3-again-head3-again-span"><span id="head3_again">=head3 (again)</span></h3>

<p>Casey Tweten&rsquo;s unstinting drive to make POD support <code>=head3</code> and further levels continues. He first patched the documentation, and then patched <code>Pod::Checker</code> to make sure it wouldn&rsquo;t complain about the new levels. Russ Allbery released a new version of the podlaters to support them.</p>

<h3 id="span-id-new-subspm-new-subs-pm-span"><span id="New_subspm">New subs.pm</span></h3>

<p>Jeff Pinyan put forward a new <a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2000-11/msg00822.html">version of subs.pm</a> which is supposed to deal with pre-declaring prototypes and attributes. It needed a little smoothing out, but it&rsquo;s looking quite good now.</p>

<h3 id="span-id-congratulations-congratulations-span"><span id="Congratulations">Congratulations</span></h3>

<p>Two sets of congratulations are in order this week. First, to the dedicated team of bug squashers; there are now less than 1,000 open bugs in Perl, and none of those is considered fatal.</p>

<p>Congratulations are also due to Perl hacker Mark Fisher, who just become a daddy. <a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2000-11/msg00934.html">Read about it.</a></p>

<h3 id="span-id-various-various-span"><span id="Various">Various</span></h3>

<p>Quite a lot of useful minor fixes, and a few noninteresting bug reports. Lots of the usual test results. Only two flames this week, and one each from your illustrious perl5-porters digest authors. You&rsquo;d think we&rsquo;d know better.</p>

<p>Until next week I remain, your humble and obedient servant,</p>

<hr />

<p><a href="mailto:simon@brecon.co.uk">Simon Cozens</a></p>

              </article>
              <p><strong>Tags</strong></p>
              <div class="tags">
                <div class="category"><a href="/categories/community">community</a></div>
                
              </div>
            </div>
            
              
                
<div class="row" id="author-bio-simon-cozens">
  <div class="col-sm-2">
    
    <a href="/authors/simon-cozens/"><div class="circle-avatar" style="background-image:url(/images/author/simon-cozens.jpg)"></div></a>
  </div>
  <div class="col-sm-10">
    <a href="/authors/simon-cozens/"><h3>Simon Cozens</h3></a>
    <p></p>
    <h5><a href="/authors/simon-cozens/">Browse their articles</a></h5>
  </div>
</div>

            
            <div class="row">
              <h3>Feedback</h3>
              <p>Something wrong with this article? Help us out by opening an issue or pull request on <a href="https://github.com/tpf/perldotcom/blob/master/content/legacy/_pub_2000_11_p5pdigest_THISWEEK-20001120.md">GitHub</a></p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="latest-sidebar">

  <div class="row">
    <div class="col-sm-12 centering">
      <span style="font-size:1.8em" class="antonio txt-blue-major">OUR LATEST ARTICLES</span>
    </div>
  </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/the-perl-admbassador-curtis-poe/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/the-perl-ambassador-curtis-poe/curtis-poe.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>The Perl Ambassador: Curtis &#39;Ovid&#39; Poe</h6>
          <p style="line-height:1"><small>The person behind the news of Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/a-tour-with-net-ftp/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/a-tour-with-net-ftp/thumb_kidyes.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>A tour with Net::FTP</h6>
          <p style="line-height:1"><small>How to write an FTP client in Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/shortcode_test/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/author/brian-d-foy.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>shortcode_test</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/thumb_larry-wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Listen to Larry Wall&#39;s State of the Onion 2000 on YouTube</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/announcing-perl-7/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/announcing-perl-7/thumb_seven_on_blue_wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Announcing Perl 7</h6>
          <p style="line-height:1"><small>Perl 5 with modern defaults</small></p>
      </div>
        </a>
    </div>
  
</div>
<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
  <script async src="/widget/toplinks/toplinks.js" type="text/javascript"></script>
    <div id="toplinks"></div>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <a class="twitter-timeline" data-height="640" data-dnt="true" data-theme="dark" href="https://twitter.com/perlfoundation?ref_src=twsrc%5Etfw">Tweets by perlfoundation</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <script src="https://www.reddit.com/r/perl/hot/.embed?limit=10&t=all" type="text/javascript"></script>
  </div>
</div>



          </div>
        </div>
      </div>
    </section>
  </section>
<script>
 
var tables, i;
tables = document.getElementsByTagName('table');
for (i=0;i<tables.length;i++) {
  tables[i].className = 'table table-striped';
}
</script>
<div class="push"></div>
<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
        <h5>Site Map</h5>
        <ul>
        <li><a href="/">Home</a></li>
        <hr>
        <li><a href="/about">About</a></li>
        <hr>
        <li><a href="/authors">Authors</a></li>
        <hr>
        <li><a href="/categories">Categories</a></li>
        <hr>
        <li><a href="/tags">Tags</a></li>
        <hr>
        </ul>
      </div>
      <div class="col-md-3">
        <h5>Contact Us</h5>
        <p>To get in touch, send an email to: perl.com-editor@perl.org</p>
        <p><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a>
          <a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a>
          <a href="/index.xml" /><img src="/images/site/rss_20.png" alt="rss"></a>
          <a href="https://github.com/tpf/perldotcom">
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></p>
      </div>
      <div class="col-md-2">
          <h5>License</h5>
          <p>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.</p>
          <p><a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a></p>
      </div>
      <div class="col-md-5">
          <h5>Legal</h5>
          <p>Perl.com and the authors make no representations with respect to the accuracy or completeness of the contents of all work on this website and specifically disclaim all warranties, including without limitation warranties of fitness for a particular purpose. The information published on this website may not be suitable for every situation. All work on this website is provided with the understanding that Perl.com and the authors are not engaged in rendering professional services. Neither Perl.com nor the authors shall be liable for damages arising herefrom.</p>
      </div>
    </div>
  </div>
</div>
<script src="/javascript/jquery.min.js"></script>
<script src="/javascript/bootstrap.min.js"></script>
<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>
</html>

