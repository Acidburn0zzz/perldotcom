<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title> This Week on p5p 2000/06/11 </title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content=" Notes Byte-Order Marks Magic Auto-Decrement Bug Reports Core Dump I Core Dump II Exit status obliterated by system() after exit()-&gt; Class::Struct objects misbehave with -&amp;gt;isa() Data::Dumper Weirdness Blessed coderefs never DESTROYed Code compiled incorrectly MacPerl Test Suite Patches Why..."/>
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="TZowffo_LX2mmsw2DbeNNbukCMnIOA8T-6CMJPiYllI" />

<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@PerlFoundation">
<meta property="og:url" content="http://localhost:1313/pub/2000/06/p5pdigest/THISWEEK-20000611.html/" />
<meta property="og:title" content="This Week on p5p 2000/06/11" />
<meta property="og:description" content=" Notes Byte-Order Marks Magic Auto-Decrement Bug Reports Core Dump I Core Dump II Exit status obliterated by system() after exit()-&gt; Class::Struct objects misbehave with -&amp;gt;isa() Data::Dumper Weirdness Blessed coderefs never DESTROYed Code compiled incorrectly MacPerl Test Suite Patches Why...">
<meta property="og:site_name" content="Perl.com" />

<meta property="og:type" content="article" />
<meta property="og:article:published_time" content="2000-06-06T06:06:06Z" />
<meta property="og:image" content="http://localhost:1313/images/author/mjd.jpg" />


  <link rel="icon" href="/favicon.ico">
  <link href="/article/index.xml" rel="alternate" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/article/index.xml" rel="feed" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/perldotcom.css"/>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-50555-22', 'auto');
ga('create', 'UA-85734801-2', 'auto', 'editor');
ga('send', 'pageview');
ga('editor.send', 'pageview');
</script>

</head>
<body>

<div class="container-fluid full-wdith antonio">
 <div class="row">
  <div class="navbar-inverse" style="border-radius:none !important" role="navigation">
    <div class="container-fluid">
      <ul class="nav navbar-nav pull-right follow">
          <li>MORE:</li>
          <li><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a><li>
          <li><a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a><li>
          <li><a href="/article/index.xml" />
              <img src="/images/site/rss_20.png" alt="rss"></a></li>
          <li><a href="https://github.com/tpf/perldotcom" />
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></li>
      </ul>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          <a class="navbar-nav" href="/">
            <div class="header-logo">Perl.com</div>
          </a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/about">
              <div class="circle">
                <img src="/images/site/perl-camel.png" alt="" />
              </div>
                  &nbsp;&nbsp;ABOUT</a>
          </li>
          <li><a href="/authors">
              <div class="circle">
                  <span class="glyphicon glyphicon-user txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;AUTHORS</a>
          </li>
          <li><a href="/categories">
              <div class="circle">
                  <span class="glyphicon glyphicon-folder-open txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;CATEGORIES</a>
          </li>
          <li><a href="/tags">
              <div class="circle">
                <span class="txt-blue-major" aria-hidden="true"><strong>#</strong></span>
              </div>
                  &nbsp;&nbsp;TAGS</a>
          </li>
          <li>
            <form class="search" name="ddg" action="https://duckduckgo.com/" method="get">
              <input type="text" name ="q" placeholder="SEARCH" />
              <input type="hidden" value="perl.com" name="sites" />
            </form>
          </li>
        </ul>
      </div>
    </div>
  </div>
 </div>
</div>


  <section id="content" role="main">
    <section class="entry-content">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <div class="row">
              <article class="fulltext">
              <h1 class="blog-post-title">This Week on p5p 2000/06/11</h1>
              <p class="blog-post-meta">Jun 13, 2000 by
              
              
                
                
                <a href="#author-bio-mark-jason-dominus">Mark-Jason Dominus</a>
              
              </p>
              <img alt="" src=""/>
                

<ul>
<li><a href="#Notes">Notes</a></li>
<li><a href="#Byte_Order_Marks">Byte-Order Marks</a></li>
<li><a href="#Magic_Auto_Decrement">Magic Auto-Decrement</a></li>
<li><a href="#Bug_Reports">Bug Reports</a>

<ul>
<li><a href="#Core_Dump_I">Core Dump I</a></li>
<li><a href="#Core_Dump_II">Core Dump II</a></li>
<li><a href="#Class::Struct_objects_misbehave_with__gt;isa"><code>Class::Struct</code> objects misbehave with -&gt;isa()</a></li>
<li><a href="#Data::Dumper_Weirdness"><code>Data::Dumper</code> Weirdness</a></li>
<li><a href="#Blessed_coderefs_never_DESTROYed">Blessed coderefs never <code>DESTROY</code>ed</a></li>
<li><a href="#Code_compiled_incorrectly">Code compiled incorrectly</a></li>
</ul></li>
<li><a href="#MacPerl_Test_Suite_Patches">MacPerl Test Suite Patches</a></li>
<li><a href="#Why__is_not_ignored_in_comments_in_x_constructions">Why <code>/</code> is not ignored in comments in <code>/.../x</code> constructions</a></li>
<li><a href="#Various">Various</a></li>
</ul>

<h3 id="span-id-notes-notes-span"><span id="Notes">Notes</span></h3>

<p>You can subscribe to an email version of this summary by sending an empty message to <a href="mailto:p5p-digest-subscribe@plover.com"><code>p5p-digest-subscribe@plover.com</code>.</a></p>

<p>Please send corrections and additions to <code>mjd-perl-thisweek-YYYYMM@plover.com</code> where <code>YYYYMM</code> is the current year and month.</p>

<p>Next week&rsquo;s report will be late, since I will be bending space and time to attend both San Diego Usenix <em>and</em> YAPC. If the fabric of the universe survives my ill-advised meddling, the reports should resume the following week.</p>

<p>This was the quietest week I can remember. Very little seemed to happen.</p>

<h3 id="span-id-byte-order-marks-byte-order-marks-span"><span id="Byte_Order_Marks">Byte-Order Marks</span></h3>

<p>Unicode files may begin with the special Unicode character U+FEFF. That is so that if the byte order gets reversed somehow (as with a big-endian to little-endian transformation) you can recognize that that has happened because the initial character will be U+FFFE, which is guaranteed to never be assigned.</p>

<p>Tim Burlowski saved a Perl program file with the UTF8 encoding under windows, and when he tried to run the script, Perl complained about the initial U+FEFF. ( <code>Unrecognized character \xEF...</code>, because U+FEFF encodes to <code>&quot;\xEF\xBB\xBF&quot;</code> under UTF-8.) Tim asked if Perl shouldn&rsquo;t know to ignore this. Sarathy agreed, and Simon provided a patch, which also enables Perl to read a UTF-16-encoded source code file.</p>

<p><a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2000-06/msg00193.html">The patch.</a></p>

<h3 id="span-id-magic-auto-decrement-magic-auto-decrement-span"><span id="Magic_Auto_Decrement">Magic Auto-Decrement</span></h3>

<p>Someone asked why there isn&rsquo;t one. This sparked a long discussion of how it might work. (What is <code>'a'--</code>? What is <code>'aAa00'--</code>?)</p>

<p>There was a lot of idle discussion, and no patch, so probably nobody really cares.</p>

<h3 id="span-id-bug-reports-bug-reports-span"><span id="Bug_Reports">Bug Reports</span></h3>

<p>Richard Foley coughed up a lot of bug reports that had gotten lost somehow. So there was a lot of miscellaneous stuff. Some of the bug reports related to configuration errors, and some were genuine. Some attracted patches, others did not. It seemed to me that this batch of bug reoprts contained more than the usual number of weird oddities. For example:</p>

<p><a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2000-06/msg00182.html">Weird oddity.</a></p>

<p>Some of the non-oddities that remain unfixed follow. In an attempt to encourage more people to try to fix bugs, I tried here to select some bugs that seemed not too difficult to solve. So if you have ever wanted to become a Perl core hacker and you wanted a not-too-hard task to start on, the following bugs might be good things to work on.</p>

<p>If you are interested in trying to fix one of these, and you need help, or you don&rsquo;t know how to start, please do send me email and I will try to assist you.</p>

<h4 id="span-id-core-dump-i-core-dump-i-span"><span id="Core_Dump_I">Core Dump I</span></h4>

<p>Here is a bug that makes Perl dump core. Sarathy reduced Wolfgang Laun&rsquo;s small test case to a very small test case.</p>

<p><a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2000-06/msg00145.html">Test Case.</a></p>

<p><a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2000-06/msg00262.html">Another Test Case.</a></p>

<h4 id="span-id-core-dump-ii-core-dump-ii-span"><span id="Core_Dump_II">Core Dump II</span></h4>

<p>Here is another core dump, this one on an improper pseudohash reference.</p>

<p><a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2000-06/msg00126.html">Test Case.</a></p>

<h4 id="span-id-class-struct-objects-misbehave-with-gt-isa-class-struct-objects-misbehave-with-gt-isa-span"><span id="Class::Struct_objects_misbehave_with__gt;isa"><code>Class::Struct</code> objects misbehave with -&gt;isa()</span></h4>

<p>If <code>$foo</code> is a <code>Class:Struct</code> object, and you call <code>-&gt;isa('UNIVERSAL')</code> on it, you get the correct answer (true) the first time, and the wrong answer (false) on subsequent calls.</p>

<p><a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2000-06/msg00191.html">Test Case.</a></p>

<h4 id="span-id-data-dumper-weirdness-data-dumper-weirdness-span"><span id="Data::Dumper_Weirdness"><code>Data::Dumper</code> Weirdness</span></h4>

<p>Victor Insogna got weird output from <code>Data::Dumper</code>. The test cae is very simple but it&rsquo;s not entirely clear to me whether the bug is in <code>Data::Dumper</code> itself or if Perl is actually constructing a bizarre value.</p>

<p><a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2000-06/msg00214.html">Test Case.</a></p>

<h4 id="span-id-blessed-coderefs-never-destroyed-blessed-coderefs-never-destroy-ed-span"><span id="Blessed_coderefs_never_DESTROYed">Blessed coderefs never <code>DESTROY</code>ed</span></h4>

<p>Rocco Caputo reported that if you bless a coderef into a package with a destructor function, the destructor is never called, not even at program termination.</p>

<p><a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2000-06/msg00276.html">Test Case.</a></p>

<h4 id="span-id-code-compiled-incorrectly-code-compiled-incorrectly-span"><span id="Code_compiled_incorrectly">Code compiled incorrectly</span></h4>

<p>Barrie Slaymaker reported that in 5.6.0,</p>

<pre><code>        1 while ( $a = ( $b ? 1 : 0 ) )
</code></pre>

<p>appears to be compiled as if you had written</p>

<pre><code>        '???' while defined($a = $b ? 1 : 0)
</code></pre>

<p>apparently as an incorrect application of the same transformation that makes</p>

<pre><code>        while (readdir D) 
</code></pre>

<p>into</p>

<pre><code>        while (defined(readdir D))
</code></pre>

<h3 id="span-id-macperl-test-suite-patches-macperl-test-suite-patches-span"><span id="MacPerl_Test_Suite_Patches">MacPerl Test Suite Patches</span></h3>

<p>Peter Prymmer sent a big patch that attempts to make the test suite work better on Macintoshes by replacing a lot of Unix-style pathnames like <code>'../lib'</code> with constructions of the form <code>($^O eq 'MacOS') ? '::lib:' : '../lib'</code>.</p>

<p><a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2000-06/msg00258.html">The patch.</a></p>

<h3 id="span-id-why-is-not-ignored-in-comments-in-x-constructions-why-is-not-ignored-in-comments-in-x-constructions-span"><span id="Why__is_not_ignored_in_comments_in_x_constructions">Why <code>/</code> is not ignored in comments in <code>/.../x</code> constructions</span></h3>

<p>People are often surprised that</p>

<pre><code>        $string =~ m/a+
                     foo  # some comment here that mentions /
                     w{3}
                    /x;
</code></pre>

<p>is a syntax error; the <code>/</code> in the &lsquo;comment&rsquo; terminates the regex prematurely. They expected it to be ignored, since it is in a comment.</p>

<p>The way Perl handles <code>/.../x</code> is that it parses the regex as usual, and locates the terminating slash as usual, and then hands off the regex to the regex engine for parsing, with a flag saying &lsquo;by the way, this regex was marked with the <code>/x</code> modifier. The regex is then parsed accordingly. But The main Perl parser is totally unaware of the meaning of <code>/x</code> and in particular it uses the same old logic to determine where the end of the regex is, and doesn&rsquo;t realize that it is supposed to ignore the &lsquo;comment&rsquo;. In other words, the comment is a comment for the regex compiler, but not for the Perl parser.</p>

<p>This is well-known to many people, and I mention it here because Ben Tilly came up with a really nice example of why this problem can&rsquo;t be &lsquo;fixed&rsquo;. Here it is:</p>

<pre><code>        if ($foo =~ /#/) {
          # Do something
        }
        # Time passes
        print &quot;eg.  In DOS you would use /x instead of -x\n&quot;;
</code></pre>

<p>Now, where does that regex end?</p>

<h3 id="span-id-various-various-span"><span id="Various">Various</span></h3>

<p>A large collection of bug reports, and a small collection of bug fixes, non-bug reports, questions, answers, and spam. No flames and little discussion.</p>

<p>Until next week I remain, your humble and obedient servant,</p>

<hr />

<p><a href="mailto:mjd-perl-thisweek-200006+@plover.com">Mark-Jason Dominus</a></p>

              </article>
              <p><strong>Tags</strong></p>
              <div class="tags">
                <div class="category"><a href="/categories/community">community</a></div>
                
              </div>
            </div>
            
              
                
<div class="row" id="author-bio-mark-jason-dominus">
  <div class="col-sm-2">
    
    <a href="/authors/mark-jason-dominus/"><div class="circle-avatar" style="background-image:url(/images/author/mjd.jpg)"></div></a>
  </div>
  <div class="col-sm-10">
    <a href="/authors/mark-jason-dominus/"><h3>Mark-Jason Dominus</h3></a>
    <p></p>
    <h5><a href="/authors/mark-jason-dominus/">Browse their articles</a></h5>
  </div>
</div>

            
            <div class="row">
              <h3>Feedback</h3>
              <p>Something wrong with this article? Help us out by opening an issue or pull request on <a href="https://github.com/tpf/perldotcom/blob/master/content/legacy/_pub_2000_06_p5pdigest_THISWEEK-20000611.md">GitHub</a></p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="latest-sidebar">

  <div class="row">
    <div class="col-sm-12 centering">
      <span style="font-size:1.8em" class="antonio txt-blue-major">OUR LATEST ARTICLES</span>
    </div>
  </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/the-perl-admbassador-curtis-poe/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/the-perl-ambassador-curtis-poe/curtis-poe.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>The Perl Ambassador: Curtis &#39;Ovid&#39; Poe</h6>
          <p style="line-height:1"><small>The person behind the news of Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/a-tour-with-net-ftp/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/a-tour-with-net-ftp/thumb_kidyes.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>A tour with Net::FTP</h6>
          <p style="line-height:1"><small>How to write an FTP client in Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/shortcode_test/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/author/brian-d-foy.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>shortcode_test</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/thumb_larry-wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Listen to Larry Wall&#39;s State of the Onion 2000 on YouTube</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/announcing-perl-7/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/announcing-perl-7/thumb_seven_on_blue_wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Announcing Perl 7</h6>
          <p style="line-height:1"><small>Perl 5 with modern defaults</small></p>
      </div>
        </a>
    </div>
  
</div>
<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
  <script async src="/widget/toplinks/toplinks.js" type="text/javascript"></script>
    <div id="toplinks"></div>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <a class="twitter-timeline" data-height="640" data-dnt="true" data-theme="dark" href="https://twitter.com/perlfoundation?ref_src=twsrc%5Etfw">Tweets by perlfoundation</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <script src="https://www.reddit.com/r/perl/hot/.embed?limit=10&t=all" type="text/javascript"></script>
  </div>
</div>



          </div>
        </div>
      </div>
    </section>
  </section>
<script>
 
var tables, i;
tables = document.getElementsByTagName('table');
for (i=0;i<tables.length;i++) {
  tables[i].className = 'table table-striped';
}
</script>
<div class="push"></div>
<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
        <h5>Site Map</h5>
        <ul>
        <li><a href="/">Home</a></li>
        <hr>
        <li><a href="/about">About</a></li>
        <hr>
        <li><a href="/authors">Authors</a></li>
        <hr>
        <li><a href="/categories">Categories</a></li>
        <hr>
        <li><a href="/tags">Tags</a></li>
        <hr>
        </ul>
      </div>
      <div class="col-md-3">
        <h5>Contact Us</h5>
        <p>To get in touch, send an email to: perl.com-editor@perl.org</p>
        <p><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a>
          <a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a>
          <a href="/index.xml" /><img src="/images/site/rss_20.png" alt="rss"></a>
          <a href="https://github.com/tpf/perldotcom">
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></p>
      </div>
      <div class="col-md-2">
          <h5>License</h5>
          <p>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.</p>
          <p><a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a></p>
      </div>
      <div class="col-md-5">
          <h5>Legal</h5>
          <p>Perl.com and the authors make no representations with respect to the accuracy or completeness of the contents of all work on this website and specifically disclaim all warranties, including without limitation warranties of fitness for a particular purpose. The information published on this website may not be suitable for every situation. All work on this website is provided with the understanding that Perl.com and the authors are not engaged in rendering professional services. Neither Perl.com nor the authors shall be liable for damages arising herefrom.</p>
      </div>
    </div>
  </div>
</div>
<script src="/javascript/jquery.min.js"></script>
<script src="/javascript/bootstrap.min.js"></script>
<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>
</html>

