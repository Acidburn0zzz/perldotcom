<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Walt Mankowski on Perl.com - programming news, code and culture</title>
    <link>http://localhost:1313/authors/walt-mankowski/</link>
    <description>Recent content in Walt Mankowski on Perl.com - programming news, code and culture</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 02 Oct 2000 00:00:00 -0800</lastBuildDate>
    <atom:link href="/authors/walt-mankowski/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>How Perl Helped Me Win the Office Football Pool</title>
      <link>http://localhost:1313/pub/2000/10/footpool.html/</link>
      <pubDate>Mon, 02 Oct 2000 00:00:00 -0800</pubDate>
      
      <guid>http://localhost:1313/pub/2000/10/footpool.html/</guid>
      <description>&lt;p&gt;Everyone who has read the Camel Book knows that the three great virtues of programming are laziness, impatience and hubris. Most of the columns that appear here at www.perl.com have to do, in one way or another, with either laziness or impatience; i.e. getting things done faster or more simply than before. While I&amp;rsquo;ll touch on those virtues, this is primarily a column about hubris. And aside from programming, there are few greater sources of hubris in the workplace than the office football pool.&lt;/p&gt;

&lt;p&gt;A football pool looks something like this. (Please note that any relationship between this and a real football pool is completely accidental.)&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;FAVORITE&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;SPREAD&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;UNDERDOG&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;Thursday&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;TENNESSEE&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;Indianapolis&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;Sunday&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;BUFFALO&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;Washington&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;TAMPA BAY&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;St. Louis&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;PITTSBURGH&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;5 ½&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;Dallas&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;GREEN BAY&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;Cincinnati&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;Miami&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;10 ½&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;SEATTLE&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;Atlanta&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;1 ½&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;KANSAS CITY&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;NEW ENGLAND&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;N. Y. Giants&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;ARIZONA&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;Detroit&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;NEW ORLEANS&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;Baltimore&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;Philadelphia&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;9 ½&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;CAROLINA&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;Cleveland&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;N. Y. JETS&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;SAN DIEGO&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;San Francisco&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;Minnesota&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;OAKLAND&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;Monday&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;DENVER&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt; &lt;/td&gt;
&lt;td&gt;Chicago&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;The home team is printed in capital letters. The pool is traditionally marked &lt;strong&gt;For Amusement Only&lt;/strong&gt; so management will not suspect that there is gambling taking place in the office.&lt;/p&gt;

&lt;p&gt;The object is to pick the most winning teams. The team marked as the favorite must win by at least the number of points in the point spread.&lt;/p&gt;

&lt;p&gt;There are two basic approaches to picking winners in a football pool. One is to spend hours researching the teams, studying scouting reports, teams&amp;rsquo; records against their opponents and against the spread, looking up injury reports on the Internet, and so on. This method is often used by the ex-jocks and DBA&amp;rsquo;s in the department. The other approach is to pick the teams randomly, based on, perhaps, the color of the teams&amp;rsquo; uniforms. This approach is typically used by the less analytical members of the department; for example, the boss&amp;rsquo; secretary or Visual Basic programmers.&lt;/p&gt;

&lt;p&gt;Surprisingly, my informal studies have shown that both methods are about equally successful. I suspect this is because the folks making the betting lines in Las Vegas know much more about football than the average office worker, and are good at picking point spreads that give each team an equal chance of winning.&lt;/p&gt;

&lt;p&gt;Several of us in the office realized this a few years ago. Since then, we have amused ourselves with devising more and more creative ways to randomly pick our pools each week. For example:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Pick the team with the longest or shortest name.&lt;/li&gt;
&lt;li&gt;Around Christmas, pick the team closest to the North Pole.&lt;/li&gt;
&lt;li&gt;Pick the team with the most ex-Philadelphia Eagles (since they always seem to do better after leaving town).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Well, that was fun for a while, but it&amp;rsquo;s tough devising new ways to pick the teams each week. Even flipping a coin all those times becomes tiresome. There had to be a better way.&lt;/p&gt;

&lt;p&gt;Perl, of course, makes it easy to be lazy. Why flip a coin by hand when you can have perl flip a coin for you? So I wrote pick_pool.pl:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#!/usr/local/bin/perl -w
use strict;

# Most weeks have 15 games, but allow the user to specify a lower
# number for bye weeks
my $num_games = $ARGV[0] || 15;

for (1..$num_games) {
     printf &amp;quot;Game %2d: &amp;quot;, $_;
     print ((rand(2) &amp;lt; 1) ? &amp;quot;FAVORITE&amp;quot; : &amp;quot;underdog&amp;quot;);
     print &amp;quot;\n&amp;quot;;
     print &amp;quot;\n&amp;quot; if ($_ % 5 == 0);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Here&amp;rsquo;s a sample run:
    $ pick_pool.pl
    Game  1: underdog
    Game  2: FAVORITE
    Game  3: FAVORITE
    Game  4: underdog
    Game  5: underdog&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Game  6: FAVORITE
Game  7: FAVORITE
Game  8: FAVORITE
Game  9: FAVORITE
Game 10: underdog

Game 11: underdog
Game 12: underdog
Game 13: FAVORITE
Game 14: underdog
Game 15: FAVORITE
$
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This remarkably simple program actually won the pool for me the second week I used it, much to the annoyance of the other people in the pool.&lt;/p&gt;

&lt;p&gt;But it turns out we can do even better. Using Damian Conway&amp;rsquo;s Quantum::Superpositions module, it&amp;rsquo;s possible to pick all the games simultaneously, &lt;em&gt;in constant time&lt;/em&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#!/usr/local/bin/perl -w
use strict;
use Quantum::Superpositions;

my @picks;

my $num_games = $ARGV[0] || 15;

for (1..$num_games) {
     push @picks, any(&amp;quot;FAVORITE&amp;quot;, &amp;quot;underdog&amp;quot;);
}

foreach my $pick (@picks) {
    if ($pick eq &amp;quot;FAVORITE&amp;quot;) {
 print &amp;quot;yes\n&amp;quot;;
    }
}

print @picks;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;What&amp;rsquo;s more, thanks to the magic of quantum mechanics, this program will get each game right each week! That&amp;rsquo;s because, just as Schoedinger&amp;rsquo;s cat is both dead and alive until the box is opened, each pick remains in both a &amp;ldquo;FAVORITE&amp;rdquo; and an &amp;ldquo;underdog&amp;rdquo; state until it is observed. All you need to do is prevent the person running the pool from looking at your picks until after all the games have been played.&lt;/p&gt;

&lt;p&gt;As proof, let&amp;rsquo;s compare the @picks generated by the quantum superpositions code to a sample set of winners:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;my @winners = qw(underdog
   FAVORITE
   underdog
   underdog
   underdog
   underdog
   FAVORITE
   FAVORITE
   FAVORITE
   underdog
   FAVORITE
   FAVORITE
   FAVORITE
   underdog
   FAVORITE);

foreach my $i (0..$#picks) {
    printf &amp;quot;Game %2d: &amp;quot;, $i+1;
    if ($picks[$i] eq $winners[$i]) {
 print &amp;quot;winner\n&amp;quot;;
    } else {
 print &amp;quot;loser\n&amp;quot;;
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;As expected, the output is&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Game  1: winner
Game  2: winner
Game  3: winner
Game  4: winner
Game  5: winner
Game  6: winner
Game  7: winner
Game  8: winner
Game  9: winner
Game 10: winner
Game 11: winner
Game 12: winner
Game 13: winner
Game 14: winner
Game 15: winner
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
  </channel>
</rss>

