<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title> Building Perl 6 with Visual Studio 2013 </title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Compiling Rakudo on Windows is easier than you think"/>
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="TZowffo_LX2mmsw2DbeNNbukCMnIOA8T-6CMJPiYllI" />

<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@PerlFoundation">
<meta property="og:url" content="http://localhost:1313/article/135/2014/11/18/Building-Perl-6-with-Visual-Studio-2013/" />
<meta property="og:title" content="Building Perl 6 with Visual Studio 2013" />
<meta property="og:description" content="Compiling Rakudo on Windows is easier than you think">
<meta property="og:site_name" content="Perl.com" />

<meta property="og:type" content="article" />
<meta property="og:article:published_time" content="2014-11-11T11:11:11Z" />
<meta property="og:image" content="http://localhost:1313/images/135/thumb_A8E8819E-6EC2-11E4-9A80-FF7CA241EDA8.png" />
<meta property="og:article:tag" content="windows" />
<meta property="og:article:tag" content="perl-6" />
<meta property="og:article:tag" content="rakudo" />
<meta property="og:article:tag" content="star" />
<meta property="og:article:tag" content="visual_studio_2013" />
<meta property="og:article:tag" content="visual_studio_2015" />


  <link rel="icon" href="/favicon.ico">
  <link href="/article/index.xml" rel="alternate" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/article/index.xml" rel="feed" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/perldotcom.css"/>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-50555-22', 'auto');
ga('create', 'UA-85734801-2', 'auto', 'editor');
ga('send', 'pageview');
ga('editor.send', 'pageview');
</script>

</head>
<body>

<div class="container-fluid full-wdith antonio">
 <div class="row">
  <div class="navbar-inverse" style="border-radius:none !important" role="navigation">
    <div class="container-fluid">
      <ul class="nav navbar-nav pull-right follow">
          <li>MORE:</li>
          <li><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a><li>
          <li><a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a><li>
          <li><a href="/article/index.xml" />
              <img src="/images/site/rss_20.png" alt="rss"></a></li>
          <li><a href="https://github.com/tpf/perldotcom" />
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></li>
      </ul>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          <a class="navbar-nav" href="/">
            <div class="header-logo">Perl.com</div>
          </a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/about">
              <div class="circle">
                <img src="/images/site/perl-camel.png" alt="" />
              </div>
                  &nbsp;&nbsp;ABOUT</a>
          </li>
          <li><a href="/authors">
              <div class="circle">
                  <span class="glyphicon glyphicon-user txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;AUTHORS</a>
          </li>
          <li><a href="/categories">
              <div class="circle">
                  <span class="glyphicon glyphicon-folder-open txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;CATEGORIES</a>
          </li>
          <li><a href="/tags">
              <div class="circle">
                <span class="txt-blue-major" aria-hidden="true"><strong>#</strong></span>
              </div>
                  &nbsp;&nbsp;TAGS</a>
          </li>
          <li>
            <form class="search" name="ddg" action="https://duckduckgo.com/" method="get">
              <input type="text" name ="q" placeholder="SEARCH" />
              <input type="hidden" value="perl.com" name="sites" />
            </form>
          </li>
        </ul>
      </div>
    </div>
  </div>
 </div>
</div>


  <section id="content" role="main">
    <section class="entry-content">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <div class="row">
              <article class="fulltext">
              <h1 class="blog-post-title">Building Perl 6 with Visual Studio 2013</h1>
              <p class="blog-post-meta">Nov 18, 2014 by
              
              
                
                
                <a href="#author-bio-sinan-unur">Sinan Unur</a>
              
              </p>
              <img alt="" src="/images/135/A8E8819E-6EC2-11E4-9A80-FF7CA241EDA8.png"/>
                

<p>I think the last time I tried playing around with anything related to Perl 6 was at least two years ago. Recently, <a href="https://fosdem.org/2015/schedule/event/get_ready_to_party/">an understated entry</a> in Fosdem &lsquo;15 schedule caught the Perl community&rsquo;s attention:</p>

<blockquote>
<p>The last pieces are finally falling into place. After years of design and implementation, 2015 will be the year that Perl 6 officially launches for production use.</p>
</blockquote>

<p>Since then, Microsoft made <a href="http://blog.nu42.com/2014/11/64-bit-perl-5201-with-visual-studio.html">Visual Studio 2013 freely available</a> for individuals and small teams. Up to this point, I had been using the compiler that comes with Windows SDK 7.1 with decent results, but, of course, couldn&rsquo;t resist the temptation to build Perl 5.20.1 with the new compiler.</p>

<p>This was followed by an encouraging question from <a href="http://www.reddit.com/r/perl/comments/2m3t6s/%CE%BD42_64bit_perl_5201_with_visual_studio_2013/cm1iqnb">David Farrell</a>: &ldquo;Have you thought about compiling Rakudo?&rdquo;</p>

<p>Well, I hadn&rsquo;t.</p>

<p>I had been anticipating too many headaches from not using *nix tools, but I decided to give it a shot. Perl 6 really couldn&rsquo;t be ready enough that I could just get the source and build it, could it?</p>

<p>I started with Rakudo Star - a Perl 6 distribution that bundles some useful modules and a package manager. I downloaded <a href="http://rakudo.org/downloads/star/">rakudo-star-2014.09.tar.gz</a>, extracted it and ran the configure script:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">C:<span style="color:#f92672">\</span>Src<span style="color:#f92672">&gt;</span> perl Configure<span style="color:#f92672">.</span>pl <span style="color:#f92672">--</span>gen<span style="color:#f92672">-</span>moar</code></pre></div>
<p>This configures Perl 6 to use <a href="http://moarvm.com/">MoarVM</a>, one of several virtual machines that Perl 6 can be built for. From that point on, it was just a matter of following a few prompts and soon I had a <code>perl6</code> that was churning through the specification tests.</p>

<p>Those did take a while. In the end there were about a dozen test failures which represent a tiny fraction of the total number of tests.</p>

<h3 id="compiling-rakudo-from-source">Compiling Rakudo from source</h3>

<p>Using the two months old Rakudo Star distribution left me wanting more. So I headed over to <a href="https://github.com/rakudo/rakudo/">Rakudo&rsquo;s GitHub repository</a> and proceeded to checkout and build the default branch.</p>

<p>If you want to build Rakudo from source you will need <a href="http://git-scm.com/">Git</a> for this to work. There are several options available, including <a href="https://windows.github.com/">GitHub Windows</a> and <a href="http://git-scm.com/download/win">Git for Windows</a>. I prefer to use <a href="https://www.cygwin.com/">Cygwin</a> versions of *nixy utilities by adding Cygwin&rsquo;s executable locations <em>last</em> in my <code>%PATH%</code>.</p>

<p>Once you have a version of Git installed, these are the steps to follow:</p>

<p>Open a &ldquo;VS2013 x64 Native Tools Command Prompt&rdquo;. You can find the shortcuts under <code>C:\Program Files (x86)\Microsoft Visual Studio 12.0\Common7\Tools\Shortcuts</code> (with Visual Studio 2015, the shortcut is under: <code>C:\ProgramData\Microsoft\Windows\Start Menu\Programs\Visual Studio 2015\Visual Studio Tools\Windows Desktop Command Prompts</code>).</p>

<p>Run the following commands to get the Rakudo source and build it for MoarVM:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#f92672">&gt;</span> git clone https:<span style="color:#e6db74">//gi</span>thub<span style="color:#f92672">.</span>com<span style="color:#e6db74">/rakudo/</span>rakudo<span style="color:#f92672">.</span>git
<span style="color:#f92672">&gt;</span> cd rakudo
<span style="color:#f92672">&gt;</span> perl Configure<span style="color:#f92672">.</span>pl <span style="color:#f92672">--</span>gen<span style="color:#f92672">-</span>moar <span style="color:#f92672">--</span>gen<span style="color:#f92672">-</span>nqp <span style="color:#f92672">--</span>backends<span style="color:#f92672">=</span>moar <span style="color:#f92672">--</span>prefix<span style="color:#f92672">=</span>C:<span style="color:#e6db74">/opt/</span>Perl6</code></pre></div>
<p>N.B. Make sure this is a native Windows <code>perl</code>, not a Cygwin version in case you have those on the path. If you want to be absolutely certain, specify the full path. E.g., in my case, <code>C:\opt\perl-5.20.1\bin\perl Configure.pl ...</code>. You may also have to adjust the <code>--prefix</code> path to suit your system.</p>

<p>Running <code>Configure.pl</code> will pull in the rest of the components necessary to build Rakudo. The rest is easy:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#f92672">&gt;</span> nmake
<span style="color:#f92672">&gt;</span> nmake test
<span style="color:#f92672">&gt;</span> nmake spectest
<span style="color:#f92672">&gt;</span> nmake install</code></pre></div>
<p>Run spectest only if you are really patient or curious. When those tests were done, I had seven spectest failures. I didn&rsquo;t care much about those at this point. My purpose was to have a <code>perl6</code> working well enough to let me try, (for the first time ever!), some Perl 6 examples.</p>

<p>You can also add the <code>Perl6\bin</code> path to your user path. If everything worked as smoothly as it did for me, try:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#f92672">&gt;</span> perl6 <span style="color:#f92672">-</span>v
This is perl6 version <span style="color:#ae81ff">2014.10</span><span style="color:#f92672">-</span><span style="color:#ae81ff">114</span><span style="color:#f92672">-</span>gf8f6feb built on MoarVM version
<span style="color:#ae81ff">2014.10</span><span style="color:#f92672">-</span><span style="color:#ae81ff">17</span><span style="color:#f92672">-</span>g05b25a6</code></pre></div>
<p>And just for fun:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#f92672">&gt;</span> perl6 <span style="color:#f92672">-</span>e <span style="color:#e6db74">&#34;&#39;Hello World!&#39;.say&#34;</span>
Hello World<span style="color:#f92672">!</span></code></pre></div>
<h3 id="installing-perl-6-modules">Installing Perl 6 Modules</h3>

<p>What is Perl without the ability to exploit other people&rsquo;s hard work for your gain?</p>

<p>Perl 6, just like Perl 5, has a module system. You can find contributed modules at <a href="http://modules.perl6.org/">modules.perl6.org</a>, and install them using <a href="https://github.com/tadzik/panda/">panda</a>. Unfortunately bootstrapping panda didn&rsquo;t work for me due to <a href="https://github.com/tadzik/File-Find/blob/master/t/01-file-find.t">test failures with File::Find</a>.</p>

<p>I am not sure if these indicate problems with the underlying library, or problems with the way tests are written. I suspect the latter, but that will have to wait. In the mean time, I will <a href="http://perl6.org/documentation/">explore the basic language</a> to get a better feel for Perl 6.</p>

<p><strong>Update</strong> - added VS2015 instructions. 2016-01-04</p>

<p><br />
<em>This article was originally posted on <a href="http://perltricks.com">PerlTricks.com</a>.</em></p>

              </article>
              <p><strong>Tags</strong></p>
              <div class="tags">
                <div class="category"><a href="/categories/perl-6">perl-6</a></div>
                
                  <div class="tag"><a href="/tags/windows">windows</a></div>
                
                  <div class="tag"><a href="/tags/perl-6">perl-6</a></div>
                
                  <div class="tag"><a href="/tags/rakudo">rakudo</a></div>
                
                  <div class="tag"><a href="/tags/star">star</a></div>
                
                  <div class="tag"><a href="/tags/visual_studio_2013">visual_studio_2013</a></div>
                
                  <div class="tag"><a href="/tags/visual_studio_2015">visual_studio_2015</a></div>
                
              </div>
            </div>
            
              
                
<div class="row" id="author-bio-sinan-unur">
  <div class="col-sm-2">
    
    <a href="/authors/sinan-unur/"><div class="circle-avatar" style="background-image:url(/images/author/sinan-unur.jpg)"></div></a>
  </div>
  <div class="col-sm-10">
    <a href="/authors/sinan-unur/"><h3>Sinan Unur</h3></a>
    <p>Sinan Unur is an economist and developer who specializes in the economics of health care. You can often find him <a href="http://blog.nu42.com/">blogging</a> about programming, or answering questions on StackOverflow.</p>
    <h5><a href="/authors/sinan-unur/">Browse their articles</a></h5>
  </div>
</div>

            
            <div class="row">
              <h3>Feedback</h3>
              <p>Something wrong with this article? Help us out by opening an issue or pull request on <a href="https://github.com/tpf/perldotcom/blob/master/content/article/building-perl-6-with-visual-studio-2013.md">GitHub</a></p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="latest-sidebar">

  <div class="row">
    <div class="col-sm-12 centering">
      <span style="font-size:1.8em" class="antonio txt-blue-major">OUR LATEST ARTICLES</span>
    </div>
  </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/the-perl-admbassador-curtis-poe/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/the-perl-ambassador-curtis-poe/curtis-poe.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>The Perl Ambassador: Curtis &#39;Ovid&#39; Poe</h6>
          <p style="line-height:1"><small>The person behind the news of Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/a-tour-with-net-ftp/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/a-tour-with-net-ftp/thumb_kidyes.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>A tour with Net::FTP</h6>
          <p style="line-height:1"><small>How to write an FTP client in Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/shortcode_test/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/author/brian-d-foy.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>shortcode_test</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/thumb_larry-wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Listen to Larry Wall&#39;s State of the Onion 2000 on YouTube</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/announcing-perl-7/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/announcing-perl-7/thumb_seven_on_blue_wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Announcing Perl 7</h6>
          <p style="line-height:1"><small>Perl 5 with modern defaults</small></p>
      </div>
        </a>
    </div>
  
</div>
<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
  <script async src="/widget/toplinks/toplinks.js" type="text/javascript"></script>
    <div id="toplinks"></div>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <a class="twitter-timeline" data-height="640" data-dnt="true" data-theme="dark" href="https://twitter.com/perlfoundation?ref_src=twsrc%5Etfw">Tweets by perlfoundation</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <script src="https://www.reddit.com/r/perl/hot/.embed?limit=10&t=all" type="text/javascript"></script>
  </div>
</div>



          </div>
        </div>
      </div>
    </section>
  </section>
<script>
 
var tables, i;
tables = document.getElementsByTagName('table');
for (i=0;i<tables.length;i++) {
  tables[i].className = 'table table-striped';
}
</script>
<div class="push"></div>
<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
        <h5>Site Map</h5>
        <ul>
        <li><a href="/">Home</a></li>
        <hr>
        <li><a href="/about">About</a></li>
        <hr>
        <li><a href="/authors">Authors</a></li>
        <hr>
        <li><a href="/categories">Categories</a></li>
        <hr>
        <li><a href="/tags">Tags</a></li>
        <hr>
        </ul>
      </div>
      <div class="col-md-3">
        <h5>Contact Us</h5>
        <p>To get in touch, send an email to: perl.com-editor@perl.org</p>
        <p><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a>
          <a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a>
          <a href="/index.xml" /><img src="/images/site/rss_20.png" alt="rss"></a>
          <a href="https://github.com/tpf/perldotcom">
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></p>
      </div>
      <div class="col-md-2">
          <h5>License</h5>
          <p>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.</p>
          <p><a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a></p>
      </div>
      <div class="col-md-5">
          <h5>Legal</h5>
          <p>Perl.com and the authors make no representations with respect to the accuracy or completeness of the contents of all work on this website and specifically disclaim all warranties, including without limitation warranties of fitness for a particular purpose. The information published on this website may not be suitable for every situation. All work on this website is provided with the understanding that Perl.com and the authors are not engaged in rendering professional services. Neither Perl.com nor the authors shall be liable for damages arising herefrom.</p>
      </div>
    </div>
  </div>
</div>
<script src="/javascript/jquery.min.js"></script>
<script src="/javascript/bootstrap.min.js"></script>
<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>
</html>

