<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Wxperl Guis Perl on Perl.com - programming news, code and culture</title>
    <link>http://localhost:1313/tags/wxperl-guis-perl/</link>
    <description>Recent content in Wxperl Guis Perl on Perl.com - programming news, code and culture</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Wed, 12 Sep 2001 00:00:00 -0800</lastBuildDate>
    <atom:link href="/tags/wxperl-guis-perl/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>wxPerl: Another GUI for Perl</title>
      <link>http://localhost:1313/pub/2001/09/12/wxtutorial1.html/</link>
      <pubDate>Wed, 12 Sep 2001 00:00:00 -0800</pubDate>
      
      <guid>http://localhost:1313/pub/2001/09/12/wxtutorial1.html/</guid>
      <description>

&lt;h3 id=&#34;span-id-wxperl-wxperl-span&#34;&gt;&lt;span id=&#34;wxperl&#34;&gt;wxPerl?&lt;/span&gt;&lt;/h3&gt;

&lt;p&gt;If you don&amp;rsquo;t just use Perl for creating CGI scripts, you&amp;rsquo;ll probably have to create some kind of front-end for your applications sooner or later. You might use the Curses library, but if you want a nice GUI, you will probably use Tk. It&amp;rsquo;s certainly the most stable, best documented and widest used GUI that&amp;rsquo;s available for Perl. However, more and more people are using other GUIs, such as Gtk and Win32::GUI. The main reason for this is probably that Tk does not have the slickest interface that exactly matches the environment that people use. Tk has a motif-like interface, while Gnome users will want the Gtk look-and-feel, and Windows users will want the Windows look-and-feel. Of course, Tk looks more like Windows when you use it on a Win32 machine and looks more like Gtk when you run it under Gnome, but still it is a different interface.&lt;/p&gt;

&lt;p&gt;Recently, I discovered another GUI for Perl. No, not the unmaintained Qt and FWTK modules, but &lt;a href=&#34;http://www.wxperl.it&#34;&gt;wxPerl&lt;/a&gt;, which is being developed by Mattia Barbon. wxPerl is the Perl binding for wxWindows (&lt;a href=&#34;http://www.wxwindows.org&#34;&gt;http://www.wxwindows.org&lt;/a&gt;), which is a cross-platform GUI library for C++. When I say cross-platform, I indeed mean cross-platform: There is wxWindows for Windows, Gtk, Motif and Macintosh. wxWindows has been developed since 1992 with version 2 (the current version) being developed since 1997. It&amp;rsquo;s not a GUI that has been ported from a certain platform where it had its roots: wx stands for Windows and X &amp;ndash; it has been designed to be cross-platform. Also it has been around for a while so it has had the chance to become a stable product.&lt;/p&gt;

&lt;h3 id=&#34;span-id-the-wxperl-approach-the-wxperl-approach-span&#34;&gt;&lt;span id=&#34;the wxperl approach&#34;&gt;The wxPerl approach&lt;/span&gt;&lt;/h3&gt;

&lt;p&gt;wxPerl has a very rich set of standard widgets (called ``controls&amp;rdquo; in Wx-terms), ranging from simple buttons to complex HTML windows and Font dialogs. This makes it a good GUI to create full-featured applications. All needed controls are available ``off the shelf,&amp;rdquo; and if there is still a complex control you want to create yourself, then you can do so with little effort. This is a particularly big difference from, for example, Tk, where it is a real pain to define new widgets.&lt;/p&gt;

&lt;p&gt;Programming wxPerl is different. It&amp;rsquo;s not better or worse than the Tk or Gtk interfaces, but it&amp;rsquo;s a totally different approach. The main reason for this is the source of the library, which is a C++ library. It is less Perlish - but it&amp;rsquo;s more OO.&lt;/p&gt;

&lt;p&gt;When you want to create a new wxPerl application you start creating a new class that inherits from &lt;code&gt;Wx::App&lt;/code&gt;. This subclass has to have at least one method called &lt;code&gt;OnInit&lt;/code&gt; which defines the windows (called ``Frames&amp;rdquo; in Wx-terms) the application uses. If you want a default window, you use the default classes. If you want to add controls to a window, you subclass a default windowclass and add the controls to it.&lt;/p&gt;

&lt;p&gt;This is a much more object-oriented approach than Tk and Gtk use. But unfortunately it lacks the named parameter approach Tk uses, which makes Tk look more Perlish.&lt;/p&gt;

&lt;p&gt;Currently, there is one big disadvantage to wxPerl: It is very poorly documented. That is to say: wxWindows has lots of documentation. And if you try hard enough, then you can use that documentation for wxPerl. That takes quite a bit of effort, though. But after reading this first wxPerl tutorial you might become interested and find your own way into wxPerl.&lt;/p&gt;

&lt;h3 id=&#34;span-id-hello-world-hello-world-span&#34;&gt;&lt;span id=&#34;hello world!&#34;&gt;Hello World!&lt;/span&gt;&lt;/h3&gt;

&lt;p&gt;Like every tutorial, this tutorial has its own ``Hello World!&amp;rdquo; application to get started and create the first application. Examine this script:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;   =1= #!/usr/bin/perl -w
   =2= use strict;
   =3= use Wx;
   =4=
   =5= ###########################################################
   =6= #
   =7= # Define our HelloWorld class that extends Wx::App
   =8= #
   =9= package HelloWorld;
  =10=
  =11= use base qw(Wx::App);   # Inherit from Wx::App
  =12=
  =13= sub OnInit
  =14= # Every application has its own OnInit method that will
  =15= # be called when the constructor is called.
  =16= {
  =17=    my $self = shift;
  =18=    my $frame = Wx::Frame-&amp;gt;new( undef,         # Parent window
  =19=                                -1,            # Window id
  =20=                                &#39;Hello World&#39;, # Title
  =21=                                [1,1],         # position X, Y
  =22=                                [200, 150]     # size X, Y
  =23=                              );
  =24=   $self-&amp;gt;SetTopWindow($frame);    # Define the toplevel window
  =25=   $frame-&amp;gt;Show(1);                # Show the frame
  =26= }
  =27=
  =28= ###########################################################
  =29= #
  =30= # The main program
  =31= #
  =32= package main;
  =33=
  =34= my $wxobj = HelloWorld-&amp;gt;new(); # New HelloWorld application
  =35= $wxobj-&amp;gt;MainLoop;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Like every well-written Perl application, this one also begins with &lt;code&gt;-w&lt;/code&gt; and &lt;code&gt;use strict&lt;/code&gt;. After that we &lt;code&gt;use Wx&lt;/code&gt;, the main wxPerl module. On line 9 we start our package HelloWorld, which inherits (line 11) from &lt;code&gt;Wx::App&lt;/code&gt;, like all wxPerl applications. This new application now needs to have an &lt;code&gt;OnInit&lt;/code&gt; method that defines the Frames (line 18) and defines which of the Frames is the TopWindow (line 24). Finally, we call the &lt;code&gt;Show&lt;/code&gt; method (line 25), which makes the created &lt;code&gt;$frame&lt;/code&gt; visible.&lt;/p&gt;

&lt;p&gt;The frame is created using a few parameters. The first is the parent window. If we were creating two frames, then the second one could be appointed as a child of the first by using &lt;code&gt;$frame&lt;/code&gt; as the first parameter of the constructor of the second frame. But in our example we have only one window, so the parent window is &lt;code&gt;undef&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;At this moment we don&amp;rsquo;t care about the second parameter (the window id, -1 means the default value), but the third and fourth are more interesting. They define the position on the screen and the size respectively. These parameters are passed as array references, and could also be the predefined &lt;code&gt;wxDefaultPosition&lt;/code&gt; and &lt;code&gt;wxDefaultSize&lt;/code&gt; respectively.&lt;/p&gt;

&lt;p&gt;After defining the HelloWorld package, we have to create the main program by defining the main package (line 32). This package creates a new Wx object (line 34) out of our defined HelloWorld package and then calls the &lt;code&gt;MainLoop&lt;/code&gt; method on it (line 35).&lt;/p&gt;

&lt;p&gt;The MainLoop is the only thing that resembles to the Tk and Gtk GUIs. The whole approach of defining a new subclass of &lt;code&gt;Wx::App&lt;/code&gt; is totally different.&lt;/p&gt;

&lt;p&gt;When you execute this first example, it will look like this:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://localhost:1313/images/_pub_2001_09_12_wxtutorial1/helloworld.gif&#34; alt=&#34;Hello World&#34; width=&#34;200&#34; height=&#34;150&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;span-id-fill-the-empty-window-fill-the-empty-window-span&#34;&gt;&lt;span id=&#34;fill the empty window.&#34;&gt;Fill the empty window.&lt;/span&gt;&lt;/h3&gt;

&lt;p&gt;So this was a simple example that creates an empty window with a title named ``Hello World!&amp;rdquo; Not really exciting, huh? Now we want to see more controls in the window. Let&amp;rsquo;s see how we can add a useless button that does nothing and a piece of text on the screen.&lt;/p&gt;

&lt;p&gt;We need to have a bit of background information on how wxPerl applications (and wxWindows applications) work in general, before we can create something inside the window. As you saw in the previous example, to create an application, we need to subclass &lt;code&gt;Wx::App&lt;/code&gt;. To create our own contents &lt;strong&gt;in&lt;/strong&gt; a frame, we first need to subclass &lt;code&gt;Wx::Frame&lt;/code&gt; and create an instance of that subclassed frame in the OnInit method of the newly created subclass of &lt;code&gt;Wx::App&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;To put controls in our subclassed frame, you first have to create a Panel inside that frame, since controls can only be placed on an instance of &lt;code&gt;Wx::Panel&lt;/code&gt;. To be able to access and modify properties of the Panel and other things that you want to put inside a Frame, you will have make those items objects of the Frame.&lt;/p&gt;

&lt;p&gt;That&amp;rsquo;s a lot of (potentially) confusing information. Let&amp;rsquo;s take this example:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;   =1= #!/usr/bin/perl -w
   =2= use strict;
   =3= use Wx;
   =4=
   =5= ###########################################################
   =6= #
   =7= # Extend the Frame class to our needs
   =8= #
   =9= package MyFrame;
  =10=
  =11= use base qw(Wx::Frame); # Inherit from Wx::Frame
  =12=
  =13= sub new
  =14= {
  =15=     my $class = shift;
  =16=     my $self = $class-&amp;gt;SUPER::new(@_); # call the superclass&#39; constructor
  =17=
  =18=     # Then define a Panel to put the button on
  =19=     my $panel = Wx::Panel-&amp;gt;new( $self,  # parent
  =20=                                 -1      # id
  =21=                               );
  =22=     $self-&amp;gt;{txt} = Wx::StaticText-&amp;gt;new( $panel,             # parent
  =23=                                         1,                  # id
  =24=                                         &amp;quot;A buttonexample.&amp;quot;, # label
  =25=                                         [50, 15]            # position
  =26=                                        );
  =27=     $self-&amp;gt;{btn} = Wx::Button-&amp;gt;new(     $panel,             # parent
  =28=                                         1,                  # id
  =29=                                         &amp;quot;&amp;gt;&amp;gt;&amp;gt; Press me &amp;lt;&amp;lt;&amp;lt;&amp;quot;, # label
  =30=                                         [50,50]             # position
  =31=                                        );
  =32=     return $self;
  =33= }
  =34=
  =35= ###########################################################
  =36= #
  =37= # Define our ButtonApp class that extends Wx::App
  =38= #
  =39= package ButtonApp;
  =40=
  =41= use base qw(Wx::App);   # Inherit from Wx::App
  =42=
  =43= sub OnInit
  =44= {
  =45=     my $self = shift;
  =46=     my $frame = MyFrame-&amp;gt;new(    undef,         # Parent window
  =47=                                  -1,            # Window id
  =48=                                  &#39;Button example&#39;, # Title
  =49=                                  [1,1],         # position X, Y
  =50=                                  [200, 150]     # size X, Y
  =51=                                );
  =52=     $self-&amp;gt;SetTopWindow($frame);    # Define the toplevel window
  =53=     $frame-&amp;gt;Show(1);                # Show the frame
  =54= }
  =55=
  =56= ###########################################################
  =57= #
  =58= # The main program
  =59= #
  =60= package main;
  =61=
  =62= my $wxobj = ButtonApp-&amp;gt;new(); # New ButtonApp application
  =63= $wxobj-&amp;gt;MainLoop;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can see here that again we define a subclass of &lt;code&gt;Wx::App&lt;/code&gt; called ButtonApp (line 39). Only this time the created frame is not a &lt;code&gt;Wx::Frame&lt;/code&gt; instance, but a &lt;code&gt;MyFrame&lt;/code&gt; instance. This &lt;code&gt;MyFrame&lt;/code&gt; is a new subclass of &lt;code&gt;Wx::Frame&lt;/code&gt; that we define in line 9.&lt;/p&gt;

&lt;p&gt;Basically we only have to override the &lt;code&gt;new&lt;/code&gt; constructor of &lt;code&gt;Wx::Frame&lt;/code&gt;. We want to extend the &lt;code&gt;Wx::Frame&lt;/code&gt; class, so our constructor first calls its &lt;code&gt;SUPER&lt;/code&gt;class&amp;rsquo; constructor, and defines its extensions after that. Our extensions consist of a new &lt;code&gt;Panel&lt;/code&gt; (line 19), which has a &lt;code&gt;StaticText&lt;/code&gt; (line 22) and a &lt;code&gt;Button&lt;/code&gt; (line 27) on it. Just like the original &lt;code&gt;Wx::Frame&lt;/code&gt; class would do, our constructor also returns &lt;code&gt;$self&lt;/code&gt; (line 32), which finishes the definition of &lt;code&gt;MyFrame&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;As you can see, we&amp;rsquo;ve defined the &lt;code&gt;Button&lt;/code&gt; and the &lt;code&gt;StaticText&lt;/code&gt; objects as attributes of &lt;code&gt;MyFrame&lt;/code&gt;. This is not strictly neccesary now, but if we want to add some interaction to this script, which we will do in the next example, we want to access those objects. Since they&amp;rsquo;re now stored as attributes of &lt;code&gt;MyFrame&lt;/code&gt; we can access the &lt;code&gt;Button&lt;/code&gt; and &lt;code&gt;StaticText&lt;/code&gt; everywhere we have access to the &lt;code&gt;MyFrame&lt;/code&gt; object. So it&amp;rsquo;s just a matter of style that it&amp;rsquo;s stored this way here, because we don&amp;rsquo;t actually do anything with it in this example.&lt;/p&gt;

&lt;p&gt;When you execute this example it will look like this:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://localhost:1313/images/_pub_2001_09_12_wxtutorial1/button.gif&#34; alt=&#34;Button example&#34; width=&#34;200&#34; height=&#34;150&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;span-id-adding-interaction-adding-interaction-span&#34;&gt;&lt;span id=&#34;adding interaction&#34;&gt;Adding interaction&lt;/span&gt;&lt;/h3&gt;

&lt;p&gt;But what does it do? Err &amp;hellip; it does nothing - yet. But a GUI application without interaction is useless. So we&amp;rsquo;re going to implement some interaction. I already explained in the previous example: If you want to change the properties of the defined objects, then you will have to define them as attributes of the Frame object. That way you can always access any attribute of the object, be it a StaticText, a Button or a Menu.&lt;/p&gt;

&lt;p&gt;Consider the following code:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;   =1= #!/usr/bin/perl -w
   =2= use strict;
   =3= use Wx;
   =4=
   =5= ###########################################################
   =6= #
   =7= # Extend the Frame class to our needs
   =8= #
   =9= package MyFrame;
  =10=
  =11= use Wx::Event qw( EVT_BUTTON );
  =12=
  =13= use base qw/Wx::Frame/; # Inherit from Wx::Frame
  =14=
  =15= sub new
  =16= {
  =17=  my $class = shift;
  =18=
  =19=  my $self = $class-&amp;gt;SUPER::new(@_);  # call the superclass&#39; constructor
  =20=
  =21=     # Then define a Panel to put the button on
  =22=  my $panel = Wx::Panel-&amp;gt;new( $self,  # parent
  =23=                              -1      # id
  =24=                            );
  =25=
  =26=  $self-&amp;gt;{txt} = Wx::StaticText-&amp;gt;new( $panel,             # parent
  =27=                                      1,                  # id
  =28=                                      &amp;quot;A buttonexample.&amp;quot;, # label
  =29=                                      [50, 15]            # position
  =30=                                     );
  =31=
  =32=  my $BTNID = 1;  # store the id of the button in $BTNID
  =33=
  =34=  $self-&amp;gt;{btn} = Wx::Button-&amp;gt;new(     $panel,             # parent
  =35=                                      $BTNID,             # ButtonID
  =36=                                      &amp;quot;&amp;gt;&amp;gt;&amp;gt; Press me &amp;lt;&amp;lt;&amp;lt;&amp;quot;, # label
  =37=                                      [50,50]             # position
  =38=                                     );
  =39=
  =40=  EVT_BUTTON( $self,          # Object to bind to
  =41=              $BTNID,         # ButtonID
  =42=              \&amp;amp;ButtonClicked # Subroutine to execute
  =43=             );
  =44=
  =45=  return $self;
  =46= }
  =47=
  =48= sub ButtonClicked
  =49= {
  =50=  my( $self, $event ) = @_;
  =51=  # Change the contents of $self-&amp;gt;{txt}
  =52=  $self-&amp;gt;{txt}-&amp;gt;SetLabel(&amp;quot;The button was clicked!&amp;quot;);
  =53= }
  =54=
  =55= ###########################################################
  =56= #
  =57= # Define our ButtonApp2 class that extends Wx::App
  =58= #
  =59= package ButtonApp2;
  =60=
  =61= use base qw(Wx::App);   # Inherit from Wx::App
  =62=
  =63= sub OnInit
  =64= {
  =65=     my $self = shift;
  =66=     my $frame = MyFrame-&amp;gt;new(   undef,         # Parent window
  =67=                                 -1,            # Window id
  =68=                                 &#39;Button interaction example&#39;, # Title
  =69=                                 [1,1],         # position X, Y
  =70=                                 [200, 150]     # size X, Y
  =71=                                );
  =72=     $self-&amp;gt;SetTopWindow($frame);    # Define the toplevel window
  =73=     $frame-&amp;gt;Show(1);                # Show the frame
  =74= }
  =75=
  =76= ###########################################################
  =77= #
  =78= # The main program
  =79= #
  =80= package main;
  =81=
  =82= my $wxobj = ButtonApp2-&amp;gt;new(); # New ButtonApp application
  =83= $wxobj-&amp;gt;MainLoop;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This example is basically the same as the previous one, but the main difference here is the addition of some interaction. In the previous example, nothing happened when you tried to click the button. This time clicking the button will alter the text of the &lt;code&gt;StaticText&lt;/code&gt; object. Let&amp;rsquo;s see what has been changed in the code:&lt;/p&gt;

&lt;p&gt;First of all, we use &lt;code&gt;Wx::Event&lt;/code&gt; and import &lt;code&gt;EVT_BUTTON&lt;/code&gt;. &lt;code&gt;EVT_BUTTON&lt;/code&gt; is the event handling subroutine for button-events. There are many more event handlers available, but we only need this one now.&lt;/p&gt;

&lt;p&gt;On line 31 I&amp;rsquo;m introducing a variable to hold the button id called &lt;code&gt;$BTNID&lt;/code&gt;. I could still have used the hard-coded &lt;code&gt;1&lt;/code&gt; I used in the previous example, but by using this variable it will be clearer to see where I&amp;rsquo;m referring to it. For example, it&amp;rsquo;s needed for the &lt;code&gt;EVT_BUTTON&lt;/code&gt; we call at line 40. This is where we define what to do when the button is clicked. It takes the &lt;code&gt;$self&lt;/code&gt; object, the &lt;code&gt;$BTNID&lt;/code&gt; and a subroutine reference as parameters. On line 48 we define that subroutine.&lt;/p&gt;

&lt;p&gt;An event callback in wxPerl always takes two parameters: the first is the object to which it belongs (which caused the event to happen) and the second is the event object itself. In our case we don&amp;rsquo;t need that second parameter, but we do need the first, because we want to change the text of the &lt;code&gt;StaticText&lt;/code&gt; object. This is the place where we see the use of defining the &lt;code&gt;StaticText&lt;/code&gt; object as attribute of the &lt;code&gt;MyFrame&lt;/code&gt; object. We can now simply call the &lt;code&gt;SetLabel&lt;/code&gt; method on that attribute (line 52).&lt;/p&gt;

&lt;p&gt;Before we press the button, the window will look like the one in the previous example. After we press the button, the application window will look like this:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://localhost:1313/images/_pub_2001_09_12_wxtutorial1/button2.gif&#34; alt=&#34;Button interaction&#34; width=&#34;200&#34; height=&#34;150&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;span-id-conclusion-conclusion-span&#34;&gt;&lt;span id=&#34;conclusion&#34;&gt;Conclusion&lt;/span&gt;&lt;/h3&gt;

&lt;p&gt;I&amp;rsquo;ve shown a bit of the way wxPerl works. More precisely, I&amp;rsquo;ve shown how you can work with wxPerl. It&amp;rsquo;s obvious that this is a different approach from other GUIs. I admit that at first I myself thought this was an unnatural way of programming Perl, not to mention programming Perl GUIs. But having done some exercises, I get the feeling this is in fact a more natural approach than Tk or Gtk use. Of course, it all comes down to a matter of taste. And there&amp;rsquo;s no accounting for taste.&lt;/p&gt;

&lt;p&gt;In the next wxPerl tutorial, I will show you how to create menus, show some more event handling and I&amp;rsquo;ll even add some more advanced controls. But the goal will be the same: to show you the hidden beauties of wxPerl!&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>

