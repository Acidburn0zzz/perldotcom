<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Perl 5 12 on Perl.com - programming news, code and culture</title>
    <link>http://localhost:1313/tags/perl-5-12/</link>
    <description>Recent content in Perl 5 12 on Perl.com - programming news, code and culture</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 20 Apr 2010 06:00:01 -0800</lastBuildDate>
    <atom:link href="/tags/perl-5-12/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Inside Perl 5.12</title>
      <link>http://localhost:1313/pub/2010/04/inside-perl-512.html/</link>
      <pubDate>Tue, 20 Apr 2010 06:00:01 -0800</pubDate>
      
      <guid>http://localhost:1313/pub/2010/04/inside-perl-512.html/</guid>
      <description>

&lt;p&gt;&lt;a href=&#34;http://news.perlfoundation.org/2010/04/perl-512-released.html&#34;&gt;Perl 5.12 has just come out&lt;/a&gt;. A rejuvenated development process helps ensure a bright future for Perl as it enters its third decade of making easy things easy and hard things possible. Here&amp;rsquo;s what you can expect when you upgrade to the latest release.&lt;/p&gt;

&lt;h2 id=&#34;release-schedule&#34;&gt;&lt;strong&gt;Release Schedule&lt;/strong&gt;&lt;/h2&gt;

&lt;p&gt;The largest change in Perl 5.12 isn&amp;rsquo;t code. It&amp;rsquo;s the new release schedule. Perl 5 now has monthly development releases on the 20th of every month. Perl 5.13.0 is almost out, as of the time of writing. These monthly releases are snapshots of the development process. They represent points at which people interested in what will become Perl 5.14 can test against their most important code.&lt;/p&gt;

&lt;p&gt;The current plan is to release Perl 5.14 in a year. Sometime around March, the release manager will put together release candidates and start the countdown for final testing and release blocking bugs. The process will repeat.&lt;/p&gt;

&lt;p&gt;The Perl 5.12.x family will have several new releases in the next year as well, though they will have only a few changes. Jesse Vincent described &lt;a href=&#34;http://www.nntp.perl.org/group/perl.perl5.porters/2010/04/msg158635.html&#34;&gt;the policy for what changes will go into Perl 5.12.x maintenance releases&lt;/a&gt; in a message to the Perl 5 Porters. 5.12.1 will come out in May 2010. It will contain fixes for bugs found in 5.12.0, but it will contain no new features or behaviors. 5.12.2 will follow in three months, and so on. It&amp;rsquo;s not clear if 5.12.4 (February 2011) will be the final release of the 5.12.x family.&lt;/p&gt;

&lt;p&gt;These plans are subject to change, but the monthly releases have gone well, and the release process for 5.12 had little controversy. It&amp;rsquo;s likely the next year will proceed similarly.&lt;/p&gt;

&lt;h2 id=&#34;improved-package-version-syntax&#34;&gt;&lt;strong&gt;Improved Package Version Syntax&lt;/strong&gt;&lt;/h2&gt;

&lt;p&gt;In previous versions of Perl 5, individual packages set their version numbers by manipulating the package global variable &lt;code&gt;$VERSION&lt;/code&gt;. There were few rules for what this variable contained or how to parse this version number, and toolchain modules such as &lt;a href=&#34;https://metacpan.org/pod/ExtUtils::MakeMaker&#34;&gt;ExtUtils::MakeMaker&lt;/a&gt; and &lt;a href=&#34;https://metacpan.org/pod/Module::Build&#34;&gt;Module::Build&lt;/a&gt; have to perform several contortions to parse them with any degree of accuracy. David Golden&amp;rsquo;s &lt;a href=&#34;http://www.dagolden.com/index.php/369/version-numbers-should-be-boring/&#34;&gt;Version Numbers Should Be Boring&lt;/a&gt; gives copious detail on how to do version numbers right, if you can&amp;rsquo;t use 5.12.&lt;/p&gt;

&lt;p&gt;An addition to the core &lt;a href=&#34;https://metacpan.org/pod/version&#34;&gt;version&lt;/a&gt; module enables a feature called &amp;ldquo;strict version numbers&amp;rdquo;, where these numbers conform to a few guidelines. The most important rule is that version numbers must be standard numbers with one decimal point (&lt;code&gt;1.23&lt;/code&gt;&amp;rdquo; &amp;gt;}}) &lt;em&gt;or&lt;/em&gt; version strings (&lt;code&gt;v1.234.5&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;You may only use strict version numbers with the new package version syntax:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    package Perl::Improved 1.23;

    package Perl::Improved v1.23.45;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Internally, Perl will parse these the same way as it does:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    use Perl::Improved 1.23;

    use Perl::Improved v1.23.45;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&amp;hellip; which is a benefit for consistency. As well, toolchain utilities can find and parse these version numbers with little effort, thanks in no small part to a canonical set of version number parsing regular expressions now found in &lt;a href=&#34;https://metacpan.org/pod/version&#34;&gt;version&lt;/a&gt;.
&amp;ldquo; &amp;gt;}}
Sadly, there&amp;rsquo;s currently no mechanism by which to add this syntax to 5.10, but in a couple of years this may be the preferred way of specifying version numbers in Perl 5.&lt;/p&gt;

&lt;h2 id=&#34;strictures-by-default&#34;&gt;&lt;strong&gt;Strictures by Default&lt;/strong&gt;&lt;/h2&gt;

&lt;p&gt;Several CPAN modules enable features such as &lt;a href=&#34;https://metacpan.org/pod/strict&#34;&gt;strict&lt;/a&gt; when you use them, including &lt;a href=&#34;https://metacpan.org/pod/Moose&#34;&gt;Moose&lt;/a&gt;, &lt;a href=&#34;https://metacpan.org/pod/perl5i&#34;&gt;perl5i&lt;/a&gt;, &lt;a href=&#34;https://metacpan.org/pod/Modern::Perl&#34;&gt;Modern::Perl&lt;/a&gt;, &lt;a href=&#34;https://metacpan.org/pod/Dancer&#34;&gt;Dancer&lt;/a&gt;, and &lt;a href=&#34;https://metacpan.org/pod/Mojolicious&#34;&gt;Mojolicious&lt;/a&gt;. Perl 5.12 also enables strictures when it encounters &lt;code&gt;use 5.012;&lt;/code&gt;, along with other new language syntax features such as the &lt;code&gt;say&lt;/code&gt; and &lt;code&gt;given&lt;/code&gt;/&lt;code&gt;when&lt;/code&gt; keywords.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;use 5.012&lt;/code&gt; does &lt;em&gt;not&lt;/em&gt; enable warnings.&lt;/p&gt;

&lt;p&gt;The &lt;code&gt;-E&lt;/code&gt; flag &lt;em&gt;does&lt;/em&gt; enable new language features, but it does &lt;em&gt;not&lt;/em&gt; enable strictures.&lt;/p&gt;

&lt;p&gt;The &lt;code&gt;-M5.012&lt;/code&gt; flag &lt;em&gt;does&lt;/em&gt; enable strictures and new language features.&lt;/p&gt;

&lt;h2 id=&#34;y2038-safety&#34;&gt;&lt;strong&gt;Y2038 Safety&lt;/strong&gt;&lt;/h2&gt;

&lt;p&gt;While Perl itself did not have a Y2K problem, many programs written in Perl made assumptions that produced apparent Y2K problems. Unfortunately, Perl&amp;rsquo;s time handling relies on system libraries, and many of those systems exhaust their available capabilities when dealing with dates and times in the year 2038. (Developers who think they have decades to solve this problem should consider financial instruments such as 30-year mortgages.)&lt;/p&gt;

&lt;p&gt;Perl 5.12 extends support for time and date handling in the core &lt;code&gt;localtime&lt;/code&gt; and &lt;code&gt;gmtime&lt;/code&gt; functions to manage dates beyond 2038 without overflow or truncation problems. Replacement libraries for earlier versions of Perl are available from the CPAN as &lt;a href=&#34;https://metacpan.org/pod/Time::y2038&#34;&gt;Time::y2038&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;core-support-for-language-mutation-extensions&#34;&gt;&lt;strong&gt;Core Support for Language Mutation Extensions&lt;/strong&gt;&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://metacpan.org/pod/Devel::Declare&#34;&gt;Devel::Declare&lt;/a&gt; is the basis for a handful of CPAN distributions which add new features to Perl 5 without the drawbacks of source filters. &lt;a href=&#34;https://metacpan.org/pod/signatures&#34;&gt;signatures&lt;/a&gt; and &lt;a href=&#34;https://metacpan.org/pod/MooseX::Declare&#34;&gt;MooseX::Declare&lt;/a&gt; are two prime examples; they simplify common tasks in a very Perlish way and demonstrate how a few syntactic additions can remove a lot of repetitive code.
&amp;ldquo; &amp;gt;}}
Unlike source filters, they compose together well and don&amp;rsquo;t interfere with external code.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;Devel::Declare&lt;/code&gt; works by hijacking part of the Perl 5 parsing process. Though this has required poking in Perl&amp;rsquo;s internals, Perl 5.12 includes a few APIs to make this behavior cleaner and better supported. In other words, it&amp;rsquo;s not only &lt;em&gt;okay&lt;/em&gt; for &lt;code&gt;Devel::Declare&lt;/code&gt; to exist, but it&amp;rsquo;s &lt;em&gt;important&lt;/em&gt; that it exist and work and continue to work.&lt;/p&gt;

&lt;p&gt;Some developers have discussed the idea of bringing &lt;code&gt;Devel::Declare&lt;/code&gt; into the core in one form or another. This may or may not happen for Perl 5.14. Regardless, the process gives modules such as &lt;code&gt;signatures&lt;/code&gt; and &lt;code&gt;MooseX::Declare&lt;/code&gt; a further stability and support, and it provides opportunities for further syntax-bending extensions, some of which may enter the core themselves as new features.&lt;/p&gt;

&lt;h2 id=&#34;deprecation-warnings-by-default&#34;&gt;&lt;strong&gt;Deprecation Warnings by Default&lt;/strong&gt;&lt;/h2&gt;

&lt;p&gt;Perl 5 development makes a priority of supporting syntactic constructs found in older versions of Perl, even going as far as to deprecate but not remove some. As a minor compatibility change in Perl 5.12, deprecated features now give warnings when you use them, even if you haven&amp;rsquo;t explicitly enabled deprecated warnings with &lt;code&gt;use warnings &#39;deprecated&#39;;&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;You may still disable deprecated warnings with &lt;code&gt;no warnings &#39;deprecated&#39;;&lt;/code&gt;&amp;ndash;they&amp;rsquo;re still lexical warnings&amp;ndash;but now these deprecations will be more obvious to developers who upgrade to and test their existing code against new releases of Perl 5.&lt;/p&gt;

&lt;p&gt;Deprecations do not necessarily imply any timeframe for removal of the deprecated feature, except as otherwise expressed explicitly in the appropriate release delta. See &lt;a href=&#34;https://perldoc.perl.org/perl5120delta.html&#34;&gt;perl5120delta&lt;/a&gt; for more details about specific deprecations in this release.
&amp;ldquo; &amp;gt;}}&lt;/p&gt;

&lt;h2 id=&#34;inc-reorganized&#34;&gt;&lt;strong&gt;@INC Reorganized&lt;/strong&gt;&lt;/h2&gt;

&lt;p&gt;Several of the core modules distributed with Perl 5 have dual lives on the CPAN. It&amp;rsquo;s possible (and often worthwhile) to update them separately from the rest of Perl 5. If you do, Perl has to be able to find the updated versions instead of the core versions. When you compile Perl 5 itself, &lt;code&gt;@INC&lt;/code&gt; contains a handful of default directories in which to look for modules. Some of these directories will contain core modules. Others contain modules you&amp;rsquo;ll install later (likely through a CPAN client).&lt;/p&gt;

&lt;p&gt;A reorganization of the order of these directories in the default &lt;code&gt;@INC&lt;/code&gt; in Perl 5.12 makes Perl 5 prefer to load user-installed modules over core-supplied modules. This will make it easier to manage dual-lived modules, and should help distributions which package and redistribute Perl 5 to manage their installation paths appropriately. Unless you&amp;rsquo;re a Perl 5 distributor, you should see no difference except for the lack of strange problems.&lt;/p&gt;

&lt;h2 id=&#34;deprecations&#34;&gt;&lt;strong&gt;Deprecations&lt;/strong&gt;&lt;/h2&gt;

&lt;p&gt;A handful of core modules are now deprecated: &lt;a href=&#34;https://metacpan.org/pod/Class::ISA&#34;&gt;Class::ISA&lt;/a&gt;, &lt;a href=&#34;https://metacpan.org/pod/Pod::Plainer&#34;&gt;Pod::Plainer&lt;/a&gt;, &lt;a href=&#34;https://metacpan.org/pod/Switch&#34;&gt;Switch&lt;/a&gt;, and &lt;a href=&#34;https://metacpan.org/pod/Shell&#34;&gt;Shell&lt;/a&gt;. They remain available from the CPAN, though consider using &lt;code&gt;given&lt;/code&gt;/&lt;code&gt;when&lt;/code&gt; (introduced in Perl 5.10.0&amp;rdquo; &amp;gt;}}) instead of &lt;code&gt;Switch&lt;/code&gt;. There&amp;rsquo;s no deprecation category quite strong enough to describe the recommendation against it.&lt;/p&gt;

&lt;p&gt;The core has also included several libraries written in the Perl 4 era. They are now available from the CPAN in the &lt;a href=&#34;https://metacpan.org/pod/Perl4::CoreLibs&#34;&gt;Perl4::CoreLibs&lt;/a&gt; distribution. Though they are not &lt;em&gt;quite&lt;/em&gt; deprecated yet, they will be in Perl 5.14. In almost every case, Perl 5 era replacements exist under active maintenance.
&amp;ldquo; &amp;gt;}}&lt;/p&gt;

&lt;h2 id=&#34;unicode-improvements&#34;&gt;&lt;strong&gt;Unicode Improvements&lt;/strong&gt;&lt;/h2&gt;

&lt;p&gt;As the Unicode standards change, so must Perl 5&amp;rsquo;s Unicode handling. The biggest change in Perl 5.12 is an update to support the latest standards and definitions, specifically Unicode properties, property values, and regular expression matches using Unicode properties.&lt;/p&gt;

&lt;h2 id=&#34;miscellaneous&#34;&gt;&lt;strong&gt;Miscellaneous&lt;/strong&gt;&lt;/h2&gt;

&lt;p&gt;Many bugs have been fixed. Several performance improvements are present. More tests are available. Dual-lived modules have been updated. More documentation is available (including &lt;a href=&#34;https://perldoc.perl.org/perlperf.html&#34;&gt;perlperf&lt;/a&gt;, a detailed discussion of profiling and optimizing Perl 5 programs&amp;rdquo; &amp;gt;}}). Some 200 people have changed 750,000 lines in more than 3,000 files.&lt;/p&gt;

&lt;p&gt;Even with all of those changes, Perl 5 remains a vibrant, powerful programming language. Programs written a decade ago will still run with few, if any, necessary changes, and almost all of the CPAN is ready to run on it.&lt;/p&gt;

&lt;p&gt;Yet development still continues. Perl 5.13.0 will come out on 20 April 2010, with all of the concomitant possibilities for improvements, bug fixes, and even more practical pragmatism. Perl 5.12.1 and 5.13.1 will follow next month, with more bugs fixed, documentation improved, core modules updated, and the language always a little bit nicer to use.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Testing Perl 5.12.0 RC 1 with App::perlbrew</title>
      <link>http://localhost:1313/pub/2010/03/testing-perl-5120-rc-1-with-appperlbrew.html/</link>
      <pubDate>Tue, 30 Mar 2010 14:22:06 -0800</pubDate>
      
      <guid>http://localhost:1313/pub/2010/03/testing-perl-5120-rc-1-with-appperlbrew.html/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m working on a project with Curtis &amp;ldquo;Ovid&amp;rdquo; Poe and Adrian Howard. We use Perl 5.10.1, but because we control which version of Perl 5 we use, there&amp;rsquo;s no reason not to test with Perl 5.12.0 &amp;ndash; and if we find bugs, we can report them and get them fixed in the proper place.&lt;/p&gt;

&lt;p&gt;This application has its own quirks for setup and installation. I managed to clean up some of the worst offenses as my first work on the project; it installs and passes tests on my server with Perl 5.10.1, so it should install cleanly if all of its dependencies work with Perl 5.12.&lt;/p&gt;

&lt;p&gt;My first approach was to manage my own parallel installation of Perl 5 with &lt;a href=&#34;https://metacpan.org/pod/local::lib&#34;&gt;local::lib&lt;/a&gt; and a custom installation of Perl 5.12, but the manual intervention required to make all of that work was enough of a hassle that I took a tip from &lt;a href=&#34;http://chris.prather.org/&#34;&gt;Chris Prather&lt;/a&gt; and installed &lt;a href=&#34;https://metacpan.org/pod/App::perlbrew&#34;&gt;App::perlbrew&lt;/a&gt; to manage my various installations (system Perl 5.10.0 built with threading, custom Perl 5.10.1 without threads, and now Perl 5.12.0 RC1).&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    $ cpan App::perlbrew
    $ perlbrew init
    $ echo &#39;source /home/chromatic/perl5/perlbrew/etc/bashrc&#39; &amp;gt;&amp;gt; ~/.bashrc
    $ source /home/chromatic/perl5/perlbrew/etc/bashrc
    $ perlbrew install perl-5.12.0-RC1 -as p512
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The &lt;code&gt;-as p512&lt;/code&gt; option was optional; it lets me use &lt;code&gt;p512&lt;/code&gt; as a short name to refer to that particular installation when switching between versions.&lt;/p&gt;

&lt;p&gt;After a while with no obvious output (which is fine), the end result is the ability to switch between parallel Perl 5 installations without them stomping on each other. They&amp;rsquo;re all installed locally in my own home directory, so I can use CPAN or &lt;a href=&#34;https://metacpan.org/pod/App::cpanminus&#34;&gt;cpanminus&lt;/a&gt; to install modules without worrying about root access or messing up the system for anyone else.&lt;/p&gt;

&lt;p&gt;I had already installed &lt;a href=&#34;https://metacpan.org/pod/local::lib&#34;&gt;local::lib&lt;/a&gt;, but I&amp;rsquo;m not sure it&amp;rsquo;s necessary in this case.&lt;/p&gt;

&lt;p&gt;With the changes to my &lt;em&gt;.bashrc&lt;/em&gt;, now &lt;code&gt;perl&lt;/code&gt; is a symlink. Switching my version with &lt;code&gt;perlbrew&lt;/code&gt; swaps a symlink, so every time I invoke &lt;code&gt;perl&lt;/code&gt; directly, it uses the intended version. Shebang lines remain unaffected, so anything which invokes a program directly will use a hard-coded version of Perl. Unfortunately, this includes &lt;code&gt;cpanm&lt;/code&gt;, so I took to using an alias which does &lt;code&gt;perl `which cpanm`&lt;/code&gt; as a temporary workaround. Miyagawa suggested &lt;em&gt;not&lt;/em&gt; using CPAN to install cpanminus. Instead, he recommends:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ curl -L http://cpanmin.us | perl - App::cpanminus
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Note that you&amp;rsquo;ll have to do this for every new version of Perl you install with perlbrew.&lt;/p&gt;

&lt;p&gt;Here&amp;rsquo;s the nice part of perlbrew. I can also install Perl 5.10.1 through it (replacing my custom installation) and switch between the two with a simple command:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    $ perlbrew switch p5101
    $ perlbrew switch perl-5.10.1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can see what you have installed with:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    $ perlbrew installed
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;For those of you curious as to the results of my experiments with 5.12.0, &lt;a href=&#34;https://metacpan.org/pod/Devel::Cover&#34;&gt;Devel::Cover&lt;/a&gt; doesn&amp;rsquo;t work correctly yet, but that&amp;rsquo;s not a requirement for this project. &lt;a href=&#34;https://metacpan.org/pod/Devel::BeginLift&#34;&gt;Devel::BeginLift&lt;/a&gt; needs a patch to build. Fortunately, that&amp;rsquo;s available in the RT queue. A manual build and test worked just fine. Other than that, a little bit of babysitting on the installation satisfied all of the dependencies.&lt;/p&gt;

&lt;p&gt;If I&amp;rsquo;d had to manage the installation (and module paths and&amp;hellip;) of all of this software, I&amp;rsquo;d have spent a lot more time on the fiddly details of installing dependencies and not the interesting part. &lt;code&gt;App::perlbrew&lt;/code&gt; allowed me to concentrate on what really matters: does my software work?&lt;/p&gt;

&lt;p&gt;Perl 5.12.0 will come out soon. Use &lt;code&gt;App::perlbrew&lt;/code&gt; to test code you care about with it.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>

