<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Modulo on Perl.com - programming news, code and culture</title>
    <link>http://localhost:1313/tags/modulo/</link>
    <description>Recent content in Modulo on Perl.com - programming news, code and culture</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 04 Nov 2013 01:47:23 +0000</lastBuildDate>
    <atom:link href="/tags/modulo/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Understanding the modulo operator</title>
      <link>http://localhost:1313/article/46/2013/11/4/Understanding-the-modulo-operator/</link>
      <pubDate>Mon, 04 Nov 2013 01:47:23 +0000</pubDate>
      
      <guid>http://localhost:1313/article/46/2013/11/4/Understanding-the-modulo-operator/</guid>
      <description>

&lt;p&gt;&lt;em&gt;The behavior of the modulo operator (%) can catch programmers by surprise as it is often misunderstood to provide the remainder of an arithmetic division operation. This article reviews the modulo operator behavior and provides an arithmetic division solution.&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&#34;modulo-gotchas&#34;&gt;Modulo &amp;ldquo;Gotchas&amp;rdquo;&lt;/h3&gt;

&lt;p&gt;First of all &lt;a href=&#34;https://perldoc.perl.org/perlop.html#Multiplicative-Operators&#34;&gt;modulo&lt;/a&gt; is an integer operator, and if it receives fractional arguments, Perl will only use the integer portion of the fraction. This means that the following two operations are equivalent:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-perl&#34; data-lang=&#34;perl&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;my&lt;/span&gt; $result1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5.5&lt;/span&gt; % 3&lt;span style=&#34;color:#ae81ff&#34;&gt;.2&lt;/span&gt;;
&lt;span style=&#34;color:#66d9ef&#34;&gt;my&lt;/span&gt; $result2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt; % 3;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Second the modulo operator is performing &lt;a href=&#34;http://en.wikipedia.org/wiki/Euclidean_division&#34;&gt;Euclidean division&lt;/a&gt; not &lt;a href=&#34;https://en.wikipedia.org/wiki/Division_%28mathematics%29&#34;&gt;arithmetic division&lt;/a&gt;. Mathematically this is expected, however that is why the characterization of modulo as returning the &amp;ldquo;remainder of a division operation&amp;rdquo; can catch programmers by surprise - it does not return a fractional decimal. For example:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-perl&#34; data-lang=&#34;perl&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;my&lt;/span&gt; $result3 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;# 2.5&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;my&lt;/span&gt; $result4 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt; % 2; &lt;span style=&#34;color:#75715e&#34;&gt;# 1 (not 0.5)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Some languages (e.g. Haskell) implement a remainder function to provide the remainder from arithmetic division: where 5 over 2 would yield 0.5. Perl does not provide this out of the box, so a solution has to be coded or found on CPAN.&lt;/p&gt;

&lt;h3 id=&#34;implementing-an-arithmetic-remainder-function&#34;&gt;Implementing an arithmetic remainder function&lt;/h3&gt;

&lt;p&gt;The following subroutine returns the remainder from an arithmetic division operation. It takes two arguments: a dividend ($a) and a divisor ($b) and returns early for zero and undef arguments.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-perl&#34; data-lang=&#34;perl&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;sub&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;remainder&lt;/span&gt; {
    &lt;span style=&#34;color:#66d9ef&#34;&gt;my&lt;/span&gt; ($a, $b) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; @_;
    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;unless&lt;/span&gt; $b &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; $a;
    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; $a &lt;span style=&#34;color:#e6db74&#34;&gt;/ $b - int($a /&lt;/span&gt; $b);
}

&lt;span style=&#34;color:#66d9ef&#34;&gt;print&lt;/span&gt; remainder(&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;);  &lt;span style=&#34;color:#75715e&#34;&gt;# 0.5&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;print&lt;/span&gt; remainder(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;); &lt;span style=&#34;color:#75715e&#34;&gt;# 0.1&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;print&lt;/span&gt; remainder(&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;);  &lt;span style=&#34;color:#75715e&#34;&gt;# 0&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Alternatively looking to CPAN, the &lt;a href=&#34;https://metacpan.org/pod/Math::Decimal&#34;&gt;Math::Decimal&lt;/a&gt; module provides a &amp;ldquo;dec_rem&amp;rdquo; subroutine (disclaimer - I have not tested it).&lt;/p&gt;

&lt;h6 id=&#34;further-reading&#34;&gt;Further reading&lt;/h6&gt;

&lt;p&gt;perldoc has an entry for the &lt;a href=&#34;https://perldoc.perl.org/perlop.html#Multiplicative-Operators&#34;&gt;modulo operator&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;em&gt;This article was originally posted on &lt;a href=&#34;http://perltricks.com&#34;&gt;PerlTricks.com&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>

