<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Bashfix on Perl.com - programming news, code and culture</title>
    <link>http://localhost:1313/tags/bashfix/</link>
    <description>Recent content in Bashfix on Perl.com - programming news, code and culture</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sun, 05 Oct 2014 18:13:45 +0000</lastBuildDate>
    <atom:link href="/tags/bashfix/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Neutralize Shellshock by patching Bash with Perl</title>
      <link>http://localhost:1313/article/118/2014/10/5/Neutralize-Shellshock-by-patching-Bash-with-Perl/</link>
      <pubDate>Sun, 05 Oct 2014 18:13:45 +0000</pubDate>
      
      <guid>http://localhost:1313/article/118/2014/10/5/Neutralize-Shellshock-by-patching-Bash-with-Perl/</guid>
      <description>

&lt;p&gt;The safest way to protect a system from Shellshock is to upgrade to a patched version of Bash. However if you&amp;rsquo;re like me, you may find that a hectic Linux distro release &lt;a href=&#34;https://fedoraproject.org/wiki/Fedora_Release_Life_Cycle&#34;&gt;schedule&lt;/a&gt; has left your current distribution unsupported. Rather than run the risk of attack, you can patch Bash yourself. Unfortunately some versions of Bash have as many as 52 different &lt;a href=&#34;http://ftp.gnu.org/gnu/bash/bash-4.2-patches/&#34;&gt;patches&lt;/a&gt; that must be downloaded and applied. So I wrote a Perl called &lt;a href=&#34;https://github.com/sillymoose/bashfix&#34;&gt;bashfix&lt;/a&gt; to automate it.&lt;/p&gt;

&lt;h3 id=&#34;requirements&#34;&gt;Requirements&lt;/h3&gt;

&lt;p&gt;Bashfix has a minimal set of requirements, so you should be able to run it on any Linux platform out of the box:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Perl 5.8 or higher and no extra modules required&lt;/li&gt;
&lt;li&gt;Linux with Bash version 3.* or 4.*&lt;/li&gt;
&lt;li&gt;The following C binaries: wget, curl, bison, byacc, gettext, patch, autoconf&lt;/li&gt;
&lt;li&gt;An internet connection to download Bash and associated patches from GNU&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;synopsis&#34;&gt;Synopsis&lt;/h3&gt;

&lt;p&gt;Using bashfix is fairly straightforward:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-perl&#34; data-lang=&#34;perl&#34;&gt;$ git clone https:&lt;span style=&#34;color:#e6db74&#34;&gt;//gi&lt;/span&gt;thub&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;com&lt;span style=&#34;color:#e6db74&#34;&gt;/sillymoose/&lt;/span&gt;bashfix&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;git
$ cd bashfix
$ chmod &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;x bashfix&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;pl
$ &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;./&lt;/span&gt;bashfix&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;pl
Bash version &lt;span style=&#34;color:#ae81ff&#34;&gt;4.2.13&lt;/span&gt; detected
Created working directory &lt;span style=&#34;color:#e6db74&#34;&gt;/tmp/&lt;/span&gt;PIRKRioxmM
Downloading Bash
Downloading Patches
Bash patched to level &lt;span style=&#34;color:#ae81ff&#34;&gt;52&lt;/span&gt;
Bash fully patched&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;
Configuring Bash &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
Building &lt;span style=&#34;color:#f92672&#34;&gt;and&lt;/span&gt; testing Bash &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
Success&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; New Bash binary built&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;
Making backup copy of &lt;span style=&#34;color:#e6db74&#34;&gt;/usr/&lt;/span&gt;bin&lt;span style=&#34;color:#e6db74&#34;&gt;/bash at /&lt;/span&gt;usr&lt;span style=&#34;color:#e6db74&#34;&gt;/bin/&lt;/span&gt;bash&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;bak
Making backup copy of &lt;span style=&#34;color:#e6db74&#34;&gt;/bin/&lt;/span&gt;bash at &lt;span style=&#34;color:#e6db74&#34;&gt;/bin/&lt;/span&gt;bash&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;bak
Bash version &lt;span style=&#34;color:#ae81ff&#34;&gt;4.2.52&lt;/span&gt; is now installed&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Bashfix checks that you have Bash installed, and the necessary prerequisites. It then downloads the Bash source for the same Bash version that is already installed on the system (you can patch an old Bash version to be Shellshock-proof). Note that different versions of Bash have different numbers of patches: 4.2 has 52 patches, whilst 4.1 has only 16. After that, bashfix configures, builds and tests Bash, making a backup of your existing Bash binary, before installing the newly patched version.&lt;/p&gt;

&lt;h3 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h3&gt;

&lt;p&gt;I&amp;rsquo;ve tested &lt;a href=&#34;https://github.com/sillymoose/bashfix&#34;&gt;bashfix&lt;/a&gt; on different versions of Fedora and CentOS, and expect that it works with any RHEL flavoured distro. With other Linux distros or Unix systems, your mileage may vary. If you encounter any issues - get in touch and let me know! Check out our recent &lt;a href=&#34;http://perltricks.com/article/115/2014/9/26/Shellshock-and-Perl&#34;&gt;article&lt;/a&gt; on Shellshock and Perl if you&amp;rsquo;d like to know more about the exploit.&lt;/p&gt;

&lt;p&gt;Thanks to Steve Jenkins whose detailed blog &lt;a href=&#34;http://stevejenkins.com/blog/2014/09/how-to-manually-update-bash-to-patch-shellshock-bug-on-older-fedora-based-systems/&#34;&gt;post&lt;/a&gt; on patching Fedora Bash was the inspiration for this script.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;em&gt;This article was originally posted on &lt;a href=&#34;http://perltricks.com&#34;&gt;PerlTricks.com&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>

